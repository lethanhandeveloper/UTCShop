2025-05-27 08:38:07.009 +07:00 [DBG] Connection id "0HNCSDDPCQPBN" accepted.
2025-05-27 08:38:07.013 +07:00 [DBG] Connection id "0HNCSDDPCQPBN" started.
2025-05-27 08:38:07.016 +07:00 [DBG] Connection 0HNCSDDPCQPBN established using the following protocol: "Tls12"
2025-05-27 08:38:07.028 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 08:38:07.028 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 08:38:07.028 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 08:38:07.029 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 08:38:07.029 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 08:38:07.029 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 08:38:07.029 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 08:38:07.029 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 08:38:07.029 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 08:38:07.029 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 08:38:07.031 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 08:38:07.031 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 08:38:07.031 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 08:38:07.031 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 08:38:07.031 +07:00 [INF] CORS policy execution successful.
2025-05-27 08:38:07.031 +07:00 [INF] CORS policy execution successful.
2025-05-27 08:38:07.031 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 08:38:07.031 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 08:38:07.031 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 08:38:07.031 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 08:38:07.031 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 08:38:07.031 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 08:38:07.031 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 08:38:07.031 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 08:38:07.031 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 08:38:07.031 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 08:38:07.031 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 08:38:07.031 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 08:38:07.031 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 08:38:07.031 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 08:38:07.031 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 08:38:07.031 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 08:38:07.031 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 08:38:07.032 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 08:38:07.032 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 08:38:07.032 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 08:38:07.032 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 08:38:07.032 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 08:38:07.032 +07:00 [DBG] Connection id "0HNCSDDPCQPBN", Request id "0HNCSDDPCQPBN:00000003": started reading request body.
2025-05-27 08:38:07.032 +07:00 [DBG] Connection id "0HNCSDDPCQPBN", Request id "0HNCSDDPCQPBN:00000003": done reading request body.
2025-05-27 08:38:07.032 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 08:38:07.032 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 08:38:07.032 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 08:38:07.032 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 08:38:07.032 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 08:38:07.032 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 08:38:07.032 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 08:38:07.032 +07:00 [DBG] Creating DbConnection.
2025-05-27 08:38:07.032 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 08:38:07.032 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.033 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 08:38:07.038 +07:00 [DBG] Creating DbConnection.
2025-05-27 08:38:07.038 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 08:38:07.038 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.105 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.105 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 08:38:07.105 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 08:38:07.105 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 08:38:07.105 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 08:38:07.110 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 08:38:07.110 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 08:38:07.110 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 08:38:07.110 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 08:38:07.110 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 08:38:07.110 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.110 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 08:38:07.110 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.110 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 08:38:07.111 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 78.9551ms.
2025-05-27 08:38:07.111 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 08:38:07.111 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 08:38:07.111 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 08:38:07.111 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 08:38:07.111 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 08:38:07.111 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 08:38:07.111 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 79.436ms
2025-05-27 08:38:07.111 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 08:38:07.111 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 08:38:07.111 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.111 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 08:38:07.111 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 83.4941ms
2025-05-27 08:38:07.112 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.112 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 08:38:07.112 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 08:38:07.112 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 08:38:07.113 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 08:38:07.117 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 08:38:07.118 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 08:38:07.118 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 08:38:07.118 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 08:38:07.118 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.118 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 08:38:07.118 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.118 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 08:38:07.118 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 86.2271ms.
2025-05-27 08:38:07.118 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 08:38:07.118 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 08:38:07.118 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 08:38:07.118 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 08:38:07.119 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 08:38:07.119 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 08:38:07.119 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 87.255ms
2025-05-27 08:38:07.119 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 08:38:07.119 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 08:38:07.119 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.119 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 08:38:07.119 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 91.4532ms
2025-05-27 08:38:07.127 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 08:38:07.127 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 08:38:07.127 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 08:38:07.127 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 08:38:07.128 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 08:38:07.128 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 08:38:07.128 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 08:38:07.128 +07:00 [INF] CORS policy execution successful.
2025-05-27 08:38:07.128 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 08:38:07.128 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 08:38:07.128 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 08:38:07.128 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 08:38:07.128 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 08:38:07.128 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 08:38:07.128 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 08:38:07.128 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 08:38:07.128 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 08:38:07.128 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 08:38:07.129 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 08:38:07.129 +07:00 [DBG] Creating DbConnection.
2025-05-27 08:38:07.129 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 08:38:07.129 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.129 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.129 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 08:38:07.129 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 08:38:07.129 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 08:38:07.129 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 08:38:07.133 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 08:38:07.135 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 08:38:07.136 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 08:38:07.137 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 08:38:07.137 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 08:38:07.138 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.138 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-05-27 08:38:07.138 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.138 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 08:38:07.138 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.8266ms.
2025-05-27 08:38:07.138 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 08:38:07.138 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 08:38:07.138 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 08:38:07.138 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 08:38:07.138 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 08:38:07.138 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 08:38:07.138 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 10.1709ms
2025-05-27 08:38:07.138 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 08:38:07.138 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 08:38:07.138 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 08:38:07.138 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 08:38:07.138 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 11.2848ms
2025-05-27 08:39:22.279 +07:00 [DBG] Connection id "0HNCSDDPCQPBN" received FIN.
2025-05-27 08:39:22.279 +07:00 [DBG] Connection id "0HNCSDDPCQPBN" is closed. The last processed stream ID was 5.
2025-05-27 08:39:22.279 +07:00 [DBG] Connection id "0HNCSDDPCQPBN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 08:39:22.279 +07:00 [DBG] The connection queue processing loop for 0HNCSDDPCQPBN completed.
2025-05-27 08:39:22.279 +07:00 [DBG] Connection id "0HNCSDDPCQPBN" stopped.
2025-05-27 15:02:28.868 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 15:02:29.266 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:02:29.273 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:02:29.276 +07:00 [DBG] Created DbConnection. (1ms).
2025-05-27 15:02:29.283 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.403 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.406 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.411 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (3ms).
2025-05-27 15:02:29.416 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 15:02:29.420 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-05-27 15:02:29.420 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-05-27 15:02:29.420 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.486 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.490 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-27 15:02:29.537 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-27 15:02:29.538 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.539 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:02:29.550 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.550 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.550 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:02:29.550 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:02:29.550 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:02:29.551 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-27 15:02:29.555 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-27 15:02:29.560 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.561 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-05-27 15:02:29.561 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.561 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:02:29.562 +07:00 [DBG] Migrating using database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.562 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.609 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.609 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.609 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:02:29.609 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 15:02:29.609 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 15:02:29.609 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 15:02:29.609 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.609 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.609 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-27 15:02:29.611 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-27 15:02:29.611 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.611 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:02:29.611 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.660 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.661 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.661 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:02:29.661 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 15:02:29.661 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 15:02:29.661 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 15:02:29.661 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.661 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.661 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-27 15:02:29.662 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-27 15:02:29.662 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.662 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:02:29.662 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.662 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.662 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:02:29.662 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:02:29.662 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:02:29.662 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-27 15:02:29.663 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-27 15:02:29.663 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.663 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:02:29.663 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.663 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:02:29.669 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-05-27 15:02:29.670 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:02:29.671 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:02:29.671 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:02:29.683 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 15:02:29.708 +07:00 [DBG] Hosting starting
2025-05-27 15:02:29.723 +07:00 [INF] User profile is available. Using 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-27 15:02:29.849 +07:00 [DBG] Reading data from file 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys\key-3583acd8-6f16-4ac5-bafa-6a936a93b8ee.xml'.
2025-05-27 15:02:29.852 +07:00 [DBG] Reading data from file 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys\key-af50a5e9-0754-44e4-8bb0-81de900232ca.xml'.
2025-05-27 15:02:29.852 +07:00 [DBG] Reading data from file 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3edaa6-2f44-4836-b1df-64c8b561693e.xml'.
2025-05-27 15:02:29.854 +07:00 [DBG] Found key {3583acd8-6f16-4ac5-bafa-6a936a93b8ee}.
2025-05-27 15:02:29.856 +07:00 [DBG] Found key {af50a5e9-0754-44e4-8bb0-81de900232ca}.
2025-05-27 15:02:29.857 +07:00 [DBG] Found key {cc3edaa6-2f44-4836-b1df-64c8b561693e}.
2025-05-27 15:02:29.860 +07:00 [DBG] Considering key {cc3edaa6-2f44-4836-b1df-64c8b561693e} with expiration date 2025-06-22 04:23:39Z as default key.
2025-05-27 15:02:29.861 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-27 15:02:29.861 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-27 15:02:29.862 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-27 15:02:29.863 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-27 15:02:29.864 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-27 15:02:29.864 +07:00 [DBG] Using key {cc3edaa6-2f44-4836-b1df-64c8b561693e} as the default key.
2025-05-27 15:02:29.865 +07:00 [DBG] Key ring with default key {cc3edaa6-2f44-4836-b1df-64c8b561693e} was loaded during application startup.
2025-05-27 15:02:29.930 +07:00 [INF] Now listening on: https://localhost:58911
2025-05-27 15:02:29.930 +07:00 [INF] Now listening on: http://localhost:58912
2025-05-27 15:02:29.930 +07:00 [DBG] Loaded hosting startup assembly Product.API
2025-05-27 15:02:29.930 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-05-27 15:02:29.930 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-05-27 15:02:29.930 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-05-27 15:02:29.966 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-27 15:02:29.966 +07:00 [INF] Hosting environment: Development
2025-05-27 15:02:29.966 +07:00 [INF] Content root path: C:\PProjects\UTCShop\src\Services\Product\Product.API
2025-05-27 15:02:29.967 +07:00 [DBG] Hosting started
2025-05-27 15:03:04.564 +07:00 [DBG] Connection id "0HNCSUJKACIIT" accepted.
2025-05-27 15:03:04.569 +07:00 [DBG] Connection id "0HNCSUJKACIIT" started.
2025-05-27 15:03:04.583 +07:00 [DBG] Connection 0HNCSUJKACIIT established using the following protocol: "Tls12"
2025-05-27 15:03:04.613 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:03:04.613 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:03:04.618 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 15:03:04.618 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 15:03:04.629 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:03:04.629 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:03:04.631 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:03:04.631 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:03:04.632 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:03:04.632 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:03:04.636 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:03:04.636 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:03:04.682 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:03:04.683 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:03:04.683 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:03:04.683 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:03:04.685 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:03:04.685 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:03:04.685 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:03:04.685 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:03:04.686 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:03:04.686 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:03:04.695 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:03:04.696 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:03:04.696 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:03:04.696 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:03:04.696 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:03:04.696 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:03:04.697 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:03:04.697 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:03:04.697 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:03:04.697 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:03:04.697 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:03:04.697 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:03:04.698 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:03:04.698 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:03:04.698 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:03:04.698 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:03:04.701 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:03:04.701 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:03:04.702 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:03:04.703 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:03:04.711 +07:00 [DBG] Connection id "0HNCSUJKACIIT", Request id "0HNCSUJKACIIT:00000001": started reading request body.
2025-05-27 15:03:04.711 +07:00 [DBG] Connection id "0HNCSUJKACIIT", Request id "0HNCSUJKACIIT:00000001": done reading request body.
2025-05-27 15:03:04.712 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:03:04.714 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:03:04.714 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:03:04.714 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:03:04.714 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:03:04.720 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:03:04.721 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:03:04.731 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()'
2025-05-27 15:03:04.766 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:03:04.780 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Where(p => p.IsDeleted == (bool?)False)
    .Skip(__p_0)
    .Take(__p_1)
    .Include(c => c.ChildCategories)
    .Select(c => new CategoryEntity{ 
        Id = c.Id, 
        Name = c.Name, 
        ImageUrl = c.ImageUrl, 
        ParentId = c.ParentId, 
        ParentName = c.ParentCategory.Name == null ? "" : c.ParentCategory.Name, 
        ChildCategories = c.ChildCategories 
    }
    )'
2025-05-27 15:03:04.828 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-05-27 15:03:04.829 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-05-27 15:03:04.837 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CategoryEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CategoryEntity.CreatedAt (DateTime?), 1], [Property: CategoryEntity.CreatedBy (Guid?), 2], [Property: CategoryEntity.Description (string) Required, 3], [Property: CategoryEntity.ImageUrl (string) Required, 4], [Property: CategoryEntity.IsDeleted (bool?), 5], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 6], [Property: CategoryEntity.LastUpdatedBy (Guid?), 7], [Property: CategoryEntity.Name (string) Required, 8], [Property: CategoryEntity.ParentId (Guid?) FK Index, 9] }
        SELECT c.Id, c.CreatedAt, c.CreatedBy, c.Description, c.ImageUrl, c.IsDeleted, c.LastUpdatedAt, c.LastUpdatedBy, c.Name, c.ParentId
        FROM Categories AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CategoryEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-05-27 15:03:04.848 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:03:04.848 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:03:04.848 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:04.848 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:04.848 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:03:04.848 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:03:04.848 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:03:04.848 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:03:04.851 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:03:04.879 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:03:04.881 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CategoryEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: CategoryEntity.CreatedAt (DateTime?), 7], [Property: CategoryEntity.CreatedBy (Guid?), 8], [Property: CategoryEntity.Description (string) Required, 9], [Property: CategoryEntity.ImageUrl (string) Required, 10], [Property: CategoryEntity.IsDeleted (bool?), 11], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 12], [Property: CategoryEntity.LastUpdatedBy (Guid?), 13], [Property: CategoryEntity.Name (string) Required, 14], [Property: CategoryEntity.ParentId (Guid?) FK Index, 15] }
            7 -> 6
        SELECT t.Id, t.Name, t.ImageUrl, t.ParentId, CASE
            WHEN c0.Name == NULL THEN ''
            ELSE c0.Name
        END, c0.Id, c1.Id, c1.CreatedAt, c1.CreatedBy, c1.Description, c1.ImageUrl, c1.IsDeleted, c1.LastUpdatedAt, c1.LastUpdatedBy, c1.Name, c1.ParentId
        FROM 
        (
            SELECT c.Id, c.ImageUrl, c.Name, c.ParentId
            FROM Categories AS c
            WHERE c.IsDeleted == FALSE
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        LEFT JOIN Categories AS c0 ON t.ParentId == c0.Id
        LEFT JOIN Categories AS c1 ON t.Id == c1.ParentId
        ORDER BY t.Id ASC, c0.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CategoryEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-05-27 15:03:04.889 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:03:04.889 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:03:04.889 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:04.908 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:03:04.908 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:03:04.909 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:03:04.909 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:04.909 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 57ms reading results.
2025-05-27 15:03:04.909 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:04.909 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:03:04.952 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 249.8835ms.
2025-05-27 15:03:04.956 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:03:04.957 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:03:04.957 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:03:04.957 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:03:04.957 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:03:04.957 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:03:04.971 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 272.0494ms
2025-05-27 15:03:04.972 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:03:04.973 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:03:04.974 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:03:04.975 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:03:04.975 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:03:04.975 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:03:04.975 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:04.976 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:03:04.976 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:03:04.977 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 373.4665ms
2025-05-27 15:03:04.978 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:03:04.978 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:03:04.979 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:03:04.979 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:03:04.979 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:03:04.979 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:03:04.979 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:03:04.979 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:03:04.979 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:03:04.979 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:03:04.979 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:03:04.979 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:03:04.979 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:03:04.979 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:03:04.980 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:03:04.981 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:03:04.981 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:03:04.981 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:04.981 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:04.981 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:03:04.981 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:03:04.981 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:03:04.981 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:03:04.982 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:03:04.982 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:03:04.982 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:03:04.982 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:03:04.982 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:03:04.982 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:04.982 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:03:04.982 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:04.982 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:03:04.982 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.0624ms.
2025-05-27 15:03:04.983 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:03:04.983 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:03:04.983 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:03:04.983 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:03:04.983 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:03:04.983 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:03:04.983 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 4.0674ms
2025-05-27 15:03:04.983 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:03:04.983 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:03:04.983 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:04.983 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:03:04.983 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 10.3032ms
2025-05-27 15:03:05.048 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:05.048 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:03:05.048 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:03:05.049 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-05-27 15:03:05.051 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:03:05.058 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:03:05.061 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:03:05.061 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:03:05.062 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:03:05.062 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:05.062 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-05-27 15:03:05.062 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:05.062 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:03:05.062 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 341.0957ms.
2025-05-27 15:03:05.062 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:03:05.062 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:03:05.062 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:03:05.062 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:03:05.062 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:03:05.062 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:03:05.067 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 369.9825ms
2025-05-27 15:03:05.067 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:03:05.067 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:03:05.067 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:05.067 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:03:05.067 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 464.3414ms
2025-05-27 15:03:19.552 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:03:19.552 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:03:19.552 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:03:19.552 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:03:19.552 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:03:19.553 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:03:19.553 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:03:19.553 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:03:19.553 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:03:19.553 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:03:19.553 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:03:19.553 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:03:19.553 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:03:19.553 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:03:19.553 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:03:19.553 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:03:19.553 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:03:19.553 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:03:19.554 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:03:19.554 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:03:19.554 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:03:19.554 +07:00 [DBG] Connection id "0HNCSUJKACIIT", Request id "0HNCSUJKACIIT:00000007": started reading request body.
2025-05-27 15:03:19.554 +07:00 [DBG] Connection id "0HNCSUJKACIIT", Request id "0HNCSUJKACIIT:00000007": done reading request body.
2025-05-27 15:03:19.554 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:03:19.554 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:03:19.554 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:03:19.554 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:03:19.554 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:03:19.555 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:03:19.556 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:03:19.560 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:03:19.560 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:03:19.560 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:19.560 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:19.560 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:03:19.560 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:03:19.560 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:03:19.560 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:03:19.562 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:03:19.564 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:03:19.564 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:03:19.565 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:03:19.578 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:19.584 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 18ms reading results.
2025-05-27 15:03:19.584 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:19.584 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:03:19.584 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.7003ms.
2025-05-27 15:03:19.585 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:03:19.585 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:03:19.585 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:03:19.585 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:03:19.585 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:03:19.585 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:03:19.586 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 32.2074ms
2025-05-27 15:03:19.586 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:03:19.586 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:03:19.586 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:03:19.586 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:03:19.586 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 34.37ms
2025-05-27 15:04:19.701 +07:00 [DBG] Connection id "0HNCSUJKACIIT" received FIN.
2025-05-27 15:04:19.703 +07:00 [DBG] Connection id "0HNCSUJKACIIT" is closed. The last processed stream ID was 7.
2025-05-27 15:04:19.703 +07:00 [DBG] Connection id "0HNCSUJKACIIT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:04:19.703 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIIT completed.
2025-05-27 15:04:19.705 +07:00 [DBG] Connection id "0HNCSUJKACIIT" stopped.
2025-05-27 15:04:23.949 +07:00 [DBG] Connection id "0HNCSUJKACIIU" accepted.
2025-05-27 15:04:23.949 +07:00 [DBG] Connection id "0HNCSUJKACIIU" started.
2025-05-27 15:04:23.951 +07:00 [DBG] Connection 0HNCSUJKACIIU established using the following protocol: "Tls12"
2025-05-27 15:04:23.952 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:04:23.952 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:04:23.952 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:04:23.952 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:04:23.952 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:04:23.954 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:04:23 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:04:23.960 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:04:23 AM'.
2025-05-27 15:04:23.960 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:04:23.960 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:04:23.960 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:04:23.960 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:04:23.960 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:04:23.960 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:04:23.960 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:04:23.960 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:04:23.960 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:04:23.960 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:04:23.960 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:04:23.961 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:04:23.962 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:04:23.963 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:04:23.963 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:04:23.963 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:23.963 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:23.963 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:04:23.963 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:04:23.963 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:04:23.963 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:04:23.963 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:04:23.964 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:04:23.964 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:04:23.964 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:04:23.964 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:04:23.964 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:23.964 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:04:23.964 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:23.964 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:04:23.964 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.3269ms.
2025-05-27 15:04:23.964 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:04:23.964 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:04:23.964 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:04:23.964 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:04:23.964 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:04:23.964 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:04:23.964 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 3.7179ms
2025-05-27 15:04:23.964 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:04:23.964 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:04:23.964 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:23.964 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:04:23.964 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 12.5899ms
2025-05-27 15:04:45.340 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:04:45.341 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:04:45.341 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:04:45.341 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:04:45.341 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:04:45.342 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:04:45 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:04:45.343 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:04:45 AM'.
2025-05-27 15:04:45.343 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:04:45.343 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:04:45.343 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:04:45.343 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:04:45.343 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:04:45.343 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:04:45.343 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:04:45.343 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:04:45.343 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:04:45.343 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:04:45.343 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:04:45.343 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:04:45.344 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:04:45.344 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:04:45.344 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:04:45.344 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:45.344 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:45.344 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:04:45.344 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:04:45.344 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:04:45.344 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:04:45.346 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:04:45.346 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:04:45.346 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:04:45.346 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:04:45.346 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:04:45.346 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:45.346 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:04:45.346 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:45.346 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:04:45.346 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.2452ms.
2025-05-27 15:04:45.347 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:04:45.347 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:04:45.347 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:04:45.347 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:04:45.347 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:04:45.347 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:04:45.347 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 3.8547ms
2025-05-27 15:04:45.347 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:04:45.347 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:04:45.347 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:45.347 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:04:45.347 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 6.7409ms
2025-05-27 15:04:46.039 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:04:46.039 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:04:46.039 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:04:46.040 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:04:46.040 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:04:46.040 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:04:46 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:04:46.040 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:04:46 AM'.
2025-05-27 15:04:46.040 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:04:46.040 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:04:46.040 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:04:46.040 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:04:46.040 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:04:46.040 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:04:46.040 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:04:46.040 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:04:46.041 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:04:46.041 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:04:46.041 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:04:46.041 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:04:46.041 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:04:46.041 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:04:46.041 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:04:46.042 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:46.042 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:46.042 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:04:46.042 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:04:46.042 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:04:46.042 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:04:46.043 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:04:46.043 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:04:46.043 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:04:46.043 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:04:46.043 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:04:46.043 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:46.043 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:04:46.044 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:46.044 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:04:46.044 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.066ms.
2025-05-27 15:04:46.044 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:04:46.044 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:04:46.044 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:04:46.044 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:04:46.044 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:04:46.044 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:04:46.044 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 3.6464ms
2025-05-27 15:04:46.044 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:04:46.044 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:04:46.044 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:04:46.044 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:04:46.044 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 5.321ms
2025-05-27 15:05:51.146 +07:00 [DBG] Connection id "0HNCSUJKACIIU" received FIN.
2025-05-27 15:05:51.146 +07:00 [DBG] Connection id "0HNCSUJKACIIU" is closed. The last processed stream ID was 5.
2025-05-27 15:05:51.146 +07:00 [DBG] Connection id "0HNCSUJKACIIU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:05:51.147 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIIU completed.
2025-05-27 15:05:51.147 +07:00 [DBG] Connection id "0HNCSUJKACIIU" stopped.
2025-05-27 15:08:27.417 +07:00 [DBG] Connection id "0HNCSUJKACIIV" accepted.
2025-05-27 15:08:27.417 +07:00 [DBG] Connection id "0HNCSUJKACIIV" started.
2025-05-27 15:08:27.418 +07:00 [DBG] Connection 0HNCSUJKACIIV established using the following protocol: "Tls12"
2025-05-27 15:08:27.420 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:08:27.421 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:08:27.421 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:08:27.421 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:08:27.421 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:08:27.421 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:08:27 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:08:27.421 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:08:27 AM'.
2025-05-27 15:08:27.422 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:08:27.422 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:08:27.422 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:08:27.422 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:08:27.422 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:08:27.422 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:08:27.422 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:08:27.422 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:08:27.422 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:08:27.422 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:08:27.422 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:08:27.422 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:08:27.422 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:08:27.422 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:08:27.422 +07:00 [DBG] Connection id "0HNCSUJKACIIV", Request id "0HNCSUJKACIIV:00000001": started reading request body.
2025-05-27 15:08:27.422 +07:00 [DBG] Connection id "0HNCSUJKACIIV", Request id "0HNCSUJKACIIV:00000001": done reading request body.
2025-05-27 15:08:27.422 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:08:27.422 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:08:27.422 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:08:27.422 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:08:27.422 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:08:27.422 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:08:27.424 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:08:27.425 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:08:27.425 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:08:27.425 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:08:27.477 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:08:27.477 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:08:27.477 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:08:27.477 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:08:27.477 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:08:27.481 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:08:27.481 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:08:27.481 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:08:27.481 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:08:27.481 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:08:27.481 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:08:27.481 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:08:27.481 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:08:27.481 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 58.8559ms.
2025-05-27 15:08:27.481 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:08:27.481 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:08:27.481 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:08:27.481 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:08:27.481 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:08:27.481 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:08:27.482 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 59.8184ms
2025-05-27 15:08:27.482 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:08:27.482 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:08:27.482 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:08:27.482 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:08:27.482 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 61.6574ms
2025-05-27 15:09:42.614 +07:00 [DBG] Connection id "0HNCSUJKACIIV" received FIN.
2025-05-27 15:09:42.614 +07:00 [DBG] Connection id "0HNCSUJKACIIV" is closed. The last processed stream ID was 1.
2025-05-27 15:09:42.614 +07:00 [DBG] Connection id "0HNCSUJKACIIV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:09:42.620 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIIV completed.
2025-05-27 15:09:42.620 +07:00 [DBG] Connection id "0HNCSUJKACIIV" stopped.
2025-05-27 15:12:48.378 +07:00 [DBG] Connection id "0HNCSUJKACIJ0" accepted.
2025-05-27 15:12:48.378 +07:00 [DBG] Connection id "0HNCSUJKACIJ0" started.
2025-05-27 15:12:48.380 +07:00 [DBG] Connection 0HNCSUJKACIJ0 established using the following protocol: "Tls12"
2025-05-27 15:12:48.382 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:12:48.383 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:12:48.383 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:12:48.383 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:12:48.383 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:12:48.383 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:12:48 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:12:48.384 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:12:48 AM'.
2025-05-27 15:12:48.384 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:12:48.384 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:12:48.384 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:12:48.384 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:12:48.384 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:12:48.384 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:12:48.384 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:12:48.384 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:12:48.384 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:12:48.384 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:12:48.385 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:12:48.385 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:12:48.386 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:12:48.386 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:12:48.386 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:12:48.386 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.386 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.386 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:12:48.386 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:12:48.386 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:12:48.386 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:12:48.390 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:12:48.390 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:12:48.390 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:12:48.390 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:12:48.390 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:12:48.391 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.391 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:12:48.391 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.391 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:12:48.391 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.8787ms.
2025-05-27 15:12:48.392 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:12:48.392 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:12:48.392 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:12:48.392 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:12:48.392 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:12:48.392 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:12:48.392 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 7.6552ms
2025-05-27 15:12:48.392 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:12:48.392 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:12:48.392 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.392 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:12:48.392 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 10.2912ms
2025-05-27 15:12:48.398 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:12:48.398 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:12:48.398 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:12:48.398 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:12:48.398 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:12:48.399 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:12:48 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:12:48.399 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:12:48 AM'.
2025-05-27 15:12:48.399 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:12:48.399 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:12:48.399 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:12:48.399 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:12:48.399 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:12:48.399 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:12:48.399 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:12:48.399 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:12:48.399 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:12:48.399 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:12:48.399 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:12:48.399 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:12:48.400 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:12:48.400 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:12:48.400 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:12:48.400 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.400 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.400 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:12:48.400 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:12:48.400 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:12:48.400 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:12:48.401 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:12:48.401 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:12:48.401 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:12:48.401 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:12:48.401 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:12:48.401 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.402 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:12:48.402 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.402 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:12:48.402 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.2597ms.
2025-05-27 15:12:48.402 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:12:48.402 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:12:48.402 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:12:48.402 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:12:48.402 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:12:48.402 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:12:48.402 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.9496ms
2025-05-27 15:12:48.402 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:12:48.402 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:12:48.402 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.402 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:12:48.402 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 5ms
2025-05-27 15:12:48.668 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:12:48.668 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:12:48.668 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:12:48.668 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:12:48.668 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:12:48.669 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:12:48 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:12:48.669 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:12:48 AM'.
2025-05-27 15:12:48.669 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:12:48.669 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:12:48.669 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:12:48.669 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:12:48.669 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:12:48.669 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:12:48.669 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:12:48.669 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:12:48.669 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:12:48.669 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:12:48.669 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:12:48.669 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:12:48.669 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:12:48.669 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:12:48.669 +07:00 [DBG] Connection id "0HNCSUJKACIJ0", Request id "0HNCSUJKACIJ0:00000005": started reading request body.
2025-05-27 15:12:48.669 +07:00 [DBG] Connection id "0HNCSUJKACIJ0", Request id "0HNCSUJKACIJ0:00000005": done reading request body.
2025-05-27 15:12:48.669 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:12:48.669 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:12:48.669 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:12:48.669 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:12:48.670 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:12:48.670 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:12:48.670 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:12:48.671 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:12:48.671 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:12:48.671 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.671 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.671 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:12:48.671 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:12:48.671 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:12:48.671 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:12:48.672 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:12:48.674 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:12:48.674 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:12:48.674 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:12:48.674 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.674 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-05-27 15:12:48.675 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.675 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:12:48.675 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5.0766ms.
2025-05-27 15:12:48.675 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:12:48.675 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:12:48.675 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:12:48.675 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:12:48.675 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:12:48.675 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:12:48.675 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 6.0124ms
2025-05-27 15:12:48.675 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:12:48.675 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:12:48.675 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:12:48.675 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:12:48.675 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 7.3511ms
2025-05-27 15:13:19.114 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:13:19.115 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:13:19.115 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:13:19.115 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:13:19.115 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:13:19.118 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:13:19 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:13:19.118 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:13:19 AM'.
2025-05-27 15:13:19.118 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:13:19.118 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:13:19.118 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:13:19.119 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:13:19.119 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:13:19.119 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:13:19.119 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:13:19.119 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:13:19.119 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:13:19.119 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:13:19.119 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:13:19.119 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:13:19.119 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:13:19.119 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:13:19.119 +07:00 [DBG] Connection id "0HNCSUJKACIJ0", Request id "0HNCSUJKACIJ0:00000007": started reading request body.
2025-05-27 15:13:19.119 +07:00 [DBG] Connection id "0HNCSUJKACIJ0", Request id "0HNCSUJKACIJ0:00000007": done reading request body.
2025-05-27 15:13:19.119 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:13:19.119 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:13:19.119 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:13:19.119 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:13:19.119 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:13:19.119 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:13:19.120 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:13:19.120 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:13:19.120 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:13:19.120 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:13:19.120 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:13:19.121 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:13:19.121 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:13:19.121 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:13:19.121 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:13:19.122 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:13:19.123 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:13:19.123 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:13:19.123 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:13:19.123 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:13:19.123 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:13:19.123 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:13:19.123 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:13:19.123 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.5452ms.
2025-05-27 15:13:19.123 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:13:19.123 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:13:19.123 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:13:19.123 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:13:19.123 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:13:19.123 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:13:19.124 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 4.8715ms
2025-05-27 15:13:19.124 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:13:19.124 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:13:19.124 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:13:19.124 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:13:19.124 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 9.6281ms
2025-05-27 15:13:19.143 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:13:19.144 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:13:19.144 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:13:19.144 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:13:19.144 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:13:19.146 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:13:19 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:13:19.147 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:04:03 AM', Current time (UTC): '5/27/2025 8:13:19 AM'.
2025-05-27 15:13:19.147 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:13:19.147 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:13:19.147 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:13:19.147 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:13:19.147 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:13:19.147 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:13:19.147 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:13:19.147 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:13:19.147 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:13:19.147 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:13:19.147 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:13:19.147 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:13:19.148 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:13:19.149 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:13:19.149 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:13:19.149 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:13:19.149 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:13:19.149 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:13:19.149 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:13:19.149 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:13:19.149 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:13:19.150 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:13:19.150 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:13:19.150 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:13:19.150 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:13:19.150 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:13:19.150 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:13:19.150 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:13:19.150 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:13:19.150 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:13:19.150 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.8371ms.
2025-05-27 15:13:19.150 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:13:19.151 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:13:19.151 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:13:19.151 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:13:19.152 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:13:19.152 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:13:19.153 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 5.4043ms
2025-05-27 15:13:19.153 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:13:19.154 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:13:19.154 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:13:19.154 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:13:19.155 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 11.9606ms
2025-05-27 15:14:34.292 +07:00 [DBG] Connection id "0HNCSUJKACIJ0" received FIN.
2025-05-27 15:14:34.292 +07:00 [DBG] Connection id "0HNCSUJKACIJ0" is closed. The last processed stream ID was 9.
2025-05-27 15:14:34.292 +07:00 [DBG] Connection id "0HNCSUJKACIJ0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:14:34.293 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJ0 completed.
2025-05-27 15:14:34.293 +07:00 [DBG] Connection id "0HNCSUJKACIJ0" stopped.
2025-05-27 15:19:43.902 +07:00 [DBG] Connection id "0HNCSUJKACIJ1" accepted.
2025-05-27 15:19:43.902 +07:00 [DBG] Connection id "0HNCSUJKACIJ1" started.
2025-05-27 15:19:43.903 +07:00 [DBG] Connection 0HNCSUJKACIJ1 established using the following protocol: "Tls12"
2025-05-27 15:19:43.905 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:19:43.906 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:19:43.906 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:19:43.906 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:19:43.906 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:19:43.906 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 15:19:43.906 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:19:43.906 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:19:43.906 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:19:43.906 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:19:43.906 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:19:43.906 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:19:43.906 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:19:43.906 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:19:43.906 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:19:43.906 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:19:43.906 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:19:43.906 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:19:43.906 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:19:43.907 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:19:43.907 +07:00 [DBG] Connection id "0HNCSUJKACIJ1", Request id "0HNCSUJKACIJ1:00000001": started reading request body.
2025-05-27 15:19:43.907 +07:00 [DBG] Connection id "0HNCSUJKACIJ1", Request id "0HNCSUJKACIJ1:00000001": done reading request body.
2025-05-27 15:19:43.907 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:19:43.907 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:19:43.907 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:19:43.907 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:19:43.907 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:19:43.907 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:19:43.907 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:19:43.908 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:19:43.908 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:19:43.908 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:19:43.960 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:19:43.960 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:19:43.960 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:19:43.960 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:19:43.960 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:19:43.963 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:19:43.963 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:19:43.963 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:19:43.963 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:19:43.963 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:19:43.963 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:19:43.963 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:19:43.963 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:19:43.963 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 56.3467ms.
2025-05-27 15:19:43.963 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:19:43.963 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:19:43.963 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:19:43.963 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:19:43.963 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:19:43.963 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:19:43.964 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 57.1874ms
2025-05-27 15:19:43.964 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:19:43.964 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:19:43.964 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:19:43.964 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:19:43.964 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 58.39ms
2025-05-27 15:20:59.069 +07:00 [DBG] Connection id "0HNCSUJKACIJ1" received FIN.
2025-05-27 15:20:59.070 +07:00 [DBG] Connection id "0HNCSUJKACIJ1" is closed. The last processed stream ID was 1.
2025-05-27 15:20:59.070 +07:00 [DBG] Connection id "0HNCSUJKACIJ1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:20:59.070 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJ1 completed.
2025-05-27 15:20:59.071 +07:00 [DBG] Connection id "0HNCSUJKACIJ1" stopped.
2025-05-27 15:22:27.430 +07:00 [DBG] Connection id "0HNCSUJKACIJ2" accepted.
2025-05-27 15:22:27.430 +07:00 [DBG] Connection id "0HNCSUJKACIJ2" started.
2025-05-27 15:22:27.431 +07:00 [DBG] Connection 0HNCSUJKACIJ2 established using the following protocol: "Tls12"
2025-05-27 15:22:27.432 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:22:27.432 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:22:27.432 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:22:27.432 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:22:27.432 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:22:27.432 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 15:22:27.433 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:22:27.433 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:22:27.433 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:22:27.433 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:22:27.433 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:22:27.433 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:22:27.433 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:22:27.433 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:22:27.433 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:22:27.433 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:22:27.433 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:22:27.433 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:22:27.433 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:22:27.433 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:22:27.433 +07:00 [DBG] Connection id "0HNCSUJKACIJ2", Request id "0HNCSUJKACIJ2:00000001": started reading request body.
2025-05-27 15:22:27.433 +07:00 [DBG] Connection id "0HNCSUJKACIJ2", Request id "0HNCSUJKACIJ2:00000001": done reading request body.
2025-05-27 15:22:27.433 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:22:27.433 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:22:27.433 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:22:27.433 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:22:27.433 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:22:27.434 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:22:27.434 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:22:27.435 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:22:27.435 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:22:27.435 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:22:27.435 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:22:27.435 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:22:27.435 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:22:27.435 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:22:27.435 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:22:27.436 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:22:27.436 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:22:27.436 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:22:27.436 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:22:27.436 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:22:27.436 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:22:27.436 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:22:27.436 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:22:27.436 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.7913ms.
2025-05-27 15:22:27.436 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:22:27.436 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:22:27.436 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:22:27.436 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:22:27.436 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:22:27.436 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:22:27.437 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 3.9032ms
2025-05-27 15:22:27.437 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:22:27.437 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:22:27.437 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:22:27.437 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:22:27.437 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 4.9184ms
2025-05-27 15:22:48.106 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:22:48.107 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:22:48.107 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:22:48.107 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:22:48.107 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:22:48.107 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 15:22:48.107 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:22:48.108 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:22:48.108 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:22:48.108 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:22:48.109 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:22:48.109 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:22:48.109 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:22:48.109 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:22:48.109 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:22:48.109 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:22:48.109 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:22:48.109 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:22:48.110 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:22:48.110 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:22:48.110 +07:00 [DBG] Connection id "0HNCSUJKACIJ2", Request id "0HNCSUJKACIJ2:00000003": started reading request body.
2025-05-27 15:22:48.110 +07:00 [DBG] Connection id "0HNCSUJKACIJ2", Request id "0HNCSUJKACIJ2:00000003": done reading request body.
2025-05-27 15:22:48.110 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:22:48.110 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:22:48.110 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:22:48.110 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:22:48.111 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:22:48.111 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:22:48.112 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:22:48.113 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:22:48.113 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:22:48.113 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:22:48.113 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:22:48.113 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:22:48.113 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:22:48.113 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:22:48.113 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:22:48.118 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:22:48.118 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:22:48.118 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:22:48.118 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:22:48.119 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:22:48.119 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:22:48.119 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:22:48.119 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:22:48.119 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 7.9156ms.
2025-05-27 15:22:48.119 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:22:48.120 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:22:48.120 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:22:48.120 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:22:48.120 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:22:48.120 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:22:48.120 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 11.1238ms
2025-05-27 15:22:48.120 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:22:48.120 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:22:48.120 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:22:48.120 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:22:48.120 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 13.9469ms
2025-05-27 15:23:39.594 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:23:39.594 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:23:39.594 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:23:39.594 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:23:39.594 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:23:39.594 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 15:23:39.594 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:23:39.594 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:23:39.594 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:23:39.594 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:23:39.594 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:23:39.594 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:23:39.594 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:23:39.594 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:23:39.594 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:23:39.594 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:23:39.594 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:23:39.594 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:23:39.595 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:23:39.595 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:23:39.595 +07:00 [DBG] Connection id "0HNCSUJKACIJ2", Request id "0HNCSUJKACIJ2:00000005": started reading request body.
2025-05-27 15:23:39.595 +07:00 [DBG] Connection id "0HNCSUJKACIJ2", Request id "0HNCSUJKACIJ2:00000005": done reading request body.
2025-05-27 15:23:39.595 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:23:39.595 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:23:39.595 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:23:39.595 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:23:39.595 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:23:39.595 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:23:39.595 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:23:39.596 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:23:39.596 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:23:39.596 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:23:39.596 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:23:39.596 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:23:39.596 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:23:39.596 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:23:39.596 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:23:39.597 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:23:39.597 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:23:39.597 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:23:39.597 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:23:39.597 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:23:39.597 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:23:39.597 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:23:39.597 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:23:39.598 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.6374ms.
2025-05-27 15:23:39.598 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:23:39.598 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:23:39.598 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:23:39.598 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:23:39.598 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:23:39.598 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:23:39.598 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 3.4243ms
2025-05-27 15:23:39.598 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:23:39.598 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:23:39.598 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:23:39.598 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:23:39.598 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 4.4613ms
2025-05-27 15:23:42.291 +07:00 [DBG] Connection id "0HNCSUJKACIJ3" accepted.
2025-05-27 15:23:42.291 +07:00 [DBG] Connection id "0HNCSUJKACIJ3" started.
2025-05-27 15:23:42.295 +07:00 [DBG] Connection 0HNCSUJKACIJ3 established using the following protocol: "Tls12"
2025-05-27 15:23:42.385 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - null null
2025-05-27 15:23:42.403 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-05-27 15:23:42.403 +07:00 [DBG] Request did not match any endpoints
2025-05-27 15:23:42.430 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-05-27 15:23:42.431 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-05-27 15:23:42.434 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-05-27 15:23:42.434 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-05-27 15:23:42.435 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - 200 null text/html;charset=utf-8 49.8148ms
2025-05-27 15:23:42.444 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-27 15:23:42.444 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.js - null null
2025-05-27 15:23:42.444 +07:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-05-27 15:23:42.444 +07:00 [DBG] Request did not match any endpoints
2025-05-27 15:23:42.445 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.js - 200 null application/javascript;charset=utf-8 0.9193ms
2025-05-27 15:23:42.453 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-27 15:23:42.455 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 10.8152ms
2025-05-27 15:23:42.471 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.997ms
2025-05-27 15:23:42.528 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-27 15:23:42.528 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-27 15:23:42.528 +07:00 [DBG] Request did not match any endpoints
2025-05-27 15:23:42.550 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.1152ms
2025-05-27 15:23:58.105 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 88
2025-05-27 15:23:58.105 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 15:23:58.105 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 15:23:58.105 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:23:58.105 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:23:58.105 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 15:23:58.105 +07:00 [DBG] The request has an origin header: 'https://localhost:5003'.
2025-05-27 15:23:58.105 +07:00 [INF] CORS policy execution failed.
2025-05-27 15:23:58.105 +07:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2025-05-27 15:23:58.105 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:23:58.109 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 15:23:58.109 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:23:58.109 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:23:58.109 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:23:58.109 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:23:58.109 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:23:58.109 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:23:58.110 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:23:58.110 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:23:58.110 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:23:58.110 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:23:58.110 +07:00 [DBG] Connection id "0HNCSUJKACIJ3", Request id "0HNCSUJKACIJ3:0000000B": started reading request body.
2025-05-27 15:23:58.110 +07:00 [DBG] Connection id "0HNCSUJKACIJ3", Request id "0HNCSUJKACIJ3:0000000B": done reading request body.
2025-05-27 15:23:58.110 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:23:58.110 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:23:58.110 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:23:58.110 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:23:58.110 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:23:58.110 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:23:58.113 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:23:58.114 +07:00 [DBG] Compiling query expression: 
'DbSet<ProductEntity>()
    .Where(p => p.IsDeleted == (bool?)False)
    .Include(p => p.Category)
    .Skip(__p_0)
    .Take(__p_1)'
2025-05-27 15:23:58.115 +07:00 [DBG] Including navigation: 'ProductEntity.Category'.
2025-05-27 15:23:58.117 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-05-27 15:23:58.117 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-05-27 15:23:58.124 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ProductEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductEntity.CategoryId (Guid) Required FK Index, 1], [Property: ProductEntity.CreatedAt (DateTime?), 2], [Property: ProductEntity.CreatedBy (Guid?), 3], [Property: ProductEntity.Description (string) Required, 4], [Property: ProductEntity.ImageUrl (string) Required, 5], [Property: ProductEntity.IsDeleted (bool?), 6], [Property: ProductEntity.LastUpdatedAt (DateTime?), 7], [Property: ProductEntity.LastUpdatedBy (Guid?), 8], [Property: ProductEntity.Name (string) Required, 9], [Property: ProductEntity.Price (decimal) Required, 10] }
            1 -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: CategoryEntity.CreatedAt (DateTime?), 12], [Property: CategoryEntity.CreatedBy (Guid?), 13], [Property: CategoryEntity.Description (string) Required, 14], [Property: CategoryEntity.ImageUrl (string) Required, 15], [Property: CategoryEntity.IsDeleted (bool?), 16], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 17], [Property: CategoryEntity.LastUpdatedBy (Guid?), 18], [Property: CategoryEntity.Name (string) Required, 19], [Property: CategoryEntity.ParentId (Guid?) FK Index, 20] }
        SELECT t.Id, t.CategoryId, t.CreatedAt, t.CreatedBy, t.Description, t.ImageUrl, t.IsDeleted, t.LastUpdatedAt, t.LastUpdatedBy, t.Name, t.Price, c.Id, c.CreatedAt, c.CreatedBy, c.Description, c.ImageUrl, c.IsDeleted, c.LastUpdatedAt, c.LastUpdatedBy, c.Name, c.ParentId
        FROM 
        (
            SELECT p.Id, p.CategoryId, p.CreatedAt, p.CreatedBy, p.Description, p.ImageUrl, p.IsDeleted, p.LastUpdatedAt, p.LastUpdatedBy, p.Name, p.Price
            FROM Products AS p
            WHERE p.IsDeleted == FALSE
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN Categories AS c ON t.CategoryId == c.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-05-27 15:23:58.124 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:23:58.125 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:23:58.125 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:23:58.125 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:23:58.125 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:23:58.125 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:23:58.125 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:23:58.125 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:23:58.128 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:23:58.129 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:23:58.129 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:23:58.129 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:23:58.129 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:23:58.139 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.7323ms.
2025-05-27 15:23:58.139 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:23:58.140 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-27 15:23:58.140 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-27 15:23:58.140 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:23:58.140 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:23:58.140 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:23:58.140 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:23:58.144 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 34.3684ms
2025-05-27 15:23:58.144 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:23:58.144 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:23:58.144 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:23:58.144 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:23:58.144 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 39.6081ms
2025-05-27 15:24:44.694 +07:00 [DBG] Connection id "0HNCSUJKACIJ2" received FIN.
2025-05-27 15:24:44.694 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJ2 completed.
2025-05-27 15:24:44.694 +07:00 [DBG] Connection id "0HNCSUJKACIJ2" is closed. The last processed stream ID was 5.
2025-05-27 15:24:44.694 +07:00 [DBG] Connection id "0HNCSUJKACIJ2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:24:44.709 +07:00 [DBG] Connection id "0HNCSUJKACIJ2" stopped.
2025-05-27 15:26:08.848 +07:00 [DBG] Connection id "0HNCSUJKACIJ3" is closing.
2025-05-27 15:26:08.848 +07:00 [DBG] Connection id "0HNCSUJKACIJ3" is closed. The last processed stream ID was 11.
2025-05-27 15:26:08.848 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJ3 completed.
2025-05-27 15:26:08.849 +07:00 [DBG] Connection id "0HNCSUJKACIJ3" stopped.
2025-05-27 15:26:08.849 +07:00 [DBG] Connection id "0HNCSUJKACIJ3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:30:41.575 +07:00 [DBG] Connection id "0HNCSUJKACIJ4" accepted.
2025-05-27 15:30:41.575 +07:00 [DBG] Connection id "0HNCSUJKACIJ4" started.
2025-05-27 15:30:41.577 +07:00 [DBG] Connection 0HNCSUJKACIJ4 established using the following protocol: "Tls12"
2025-05-27 15:30:41.578 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:30:41.578 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:30:41.578 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:30:41.578 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:30:41.578 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:30:41.578 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 15:30:41.578 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:30:41.578 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:30:41.578 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:30:41.578 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:30:41.578 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:30:41.578 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:30:41.579 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:30:41.579 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:30:41.579 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:30:41.579 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:30:41.579 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:30:41.579 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:30:41.579 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:30:41.579 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:30:41.579 +07:00 [DBG] Connection id "0HNCSUJKACIJ4", Request id "0HNCSUJKACIJ4:00000001": started reading request body.
2025-05-27 15:30:41.579 +07:00 [DBG] Connection id "0HNCSUJKACIJ4", Request id "0HNCSUJKACIJ4:00000001": done reading request body.
2025-05-27 15:30:41.579 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:30:41.579 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:30:41.579 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:30:41.579 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:30:41.580 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:30:41.580 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:30:41.580 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:30:41.581 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:30:41.581 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:30:41.581 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:30:41.628 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:30:41.628 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:30:41.628 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:30:41.628 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:30:41.628 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:30:41.632 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:30:41.634 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:30:41.634 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:30:41.634 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:30:41.634 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:30:41.635 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-05-27 15:30:41.635 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:30:41.635 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:30:41.635 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 55.1361ms.
2025-05-27 15:30:41.635 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:30:41.635 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:30:41.635 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:30:41.635 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:30:41.635 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:30:41.635 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:30:41.635 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 56.9306ms
2025-05-27 15:30:41.636 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:30:41.636 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:30:41.636 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:30:41.636 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:30:41.636 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 58.4402ms
2025-05-27 15:31:55.131 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:31:55.131 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:31:55.131 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:31:55.131 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:31:55.131 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:31:55.131 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 15:31:55.132 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:31:55.132 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:31:55.132 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:31:55.132 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:31:55.132 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:31:55.132 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:31:55.132 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:31:55.132 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:31:55.132 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:31:55.132 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:31:55.132 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:31:55.132 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:31:55.132 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:31:55.132 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:31:55.133 +07:00 [DBG] Connection id "0HNCSUJKACIJ4", Request id "0HNCSUJKACIJ4:00000003": started reading request body.
2025-05-27 15:31:55.133 +07:00 [DBG] Connection id "0HNCSUJKACIJ4", Request id "0HNCSUJKACIJ4:00000003": done reading request body.
2025-05-27 15:31:55.133 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:31:55.133 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:31:55.133 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:31:55.133 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:31:55.133 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:31:55.133 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:31:55.134 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:31:55.134 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:31:55.134 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:31:55.134 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:31:55.134 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:31:55.134 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:31:55.134 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:31:55.134 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:31:55.135 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:31:55.136 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:31:55.137 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:31:55.137 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:31:55.137 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:31:55.137 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:31:55.137 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:31:55.137 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:31:55.137 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:31:55.137 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.8981ms.
2025-05-27 15:31:55.137 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:31:55.137 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:31:55.137 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:31:55.137 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:31:55.138 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:31:55.138 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:31:55.138 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 5.5979ms
2025-05-27 15:31:55.138 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:31:55.138 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:31:55.138 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:31:55.138 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:31:55.138 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 7.3852ms
2025-05-27 15:33:00.243 +07:00 [DBG] Connection id "0HNCSUJKACIJ4" received FIN.
2025-05-27 15:33:00.244 +07:00 [DBG] Connection id "0HNCSUJKACIJ4" is closed. The last processed stream ID was 3.
2025-05-27 15:33:00.244 +07:00 [DBG] Connection id "0HNCSUJKACIJ4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:33:00.244 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJ4 completed.
2025-05-27 15:33:00.244 +07:00 [DBG] Connection id "0HNCSUJKACIJ4" stopped.
2025-05-27 15:33:06.863 +07:00 [DBG] Connection id "0HNCSUJKACIJ5" accepted.
2025-05-27 15:33:06.863 +07:00 [DBG] Connection id "0HNCSUJKACIJ5" started.
2025-05-27 15:33:06.869 +07:00 [DBG] Connection 0HNCSUJKACIJ5 established using the following protocol: "Tls12"
2025-05-27 15:33:06.870 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:33:06.870 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:33:06.870 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:33:06.870 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:33:06.870 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:33:06.870 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:33:06.870 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:33:06.870 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:33:06.871 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:33:06.871 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:33:06.871 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:33:06.871 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:33:06.871 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:33:06.871 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:33:06.871 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:33:06.871 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:33:06.871 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:33:06.871 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:33:06.871 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:33:06.871 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:33:06.871 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:33:06.871 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:33:06.871 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:33:06.871 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:33:06.871 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:33:06.871 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:33:06.871 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:33:06.871 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:33:06.871 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:33:06.871 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:33:06.871 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:33:06.871 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:33:06.871 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:33:06.871 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:33:06.871 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:33:06.871 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:33:06.871 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:33:06.871 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:33:06.871 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:33:06.871 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:33:06.872 +07:00 [DBG] Connection id "0HNCSUJKACIJ5", Request id "0HNCSUJKACIJ5:00000001": started reading request body.
2025-05-27 15:33:06.872 +07:00 [DBG] Connection id "0HNCSUJKACIJ5", Request id "0HNCSUJKACIJ5:00000001": done reading request body.
2025-05-27 15:33:06.872 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:33:06.872 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:33:06.872 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:33:06.872 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:33:06.872 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:33:06.872 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:33:06.872 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:33:06.872 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:33:06.872 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:33:06.872 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.872 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.872 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:33:06.872 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:33:06.872 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:33:06.872 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:33:06.872 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:33:06.873 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:33:06.873 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:33:06.873 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.873 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:33:06.873 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:06.873 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:06.874 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:06.874 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:06.874 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.874 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:33:06.874 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.874 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:33:06.874 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.3742ms.
2025-05-27 15:33:06.874 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:33:06.874 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:33:06.874 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:33:06.874 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:33:06.874 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:33:06.874 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:33:06.874 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.7149ms
2025-05-27 15:33:06.874 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:33:06.874 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:33:06.874 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.874 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:33:06.874 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 3.9868ms
2025-05-27 15:33:06.880 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:33:06.881 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:33:06.881 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:33:06.881 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:33:06.881 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:33:06.881 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:33:06.881 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:33:06.881 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:33:06.881 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:33:06.881 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:33:06.882 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:33:06.882 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:33:06.882 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:33:06.882 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:33:06.882 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:33:06.882 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:33:06.882 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:33:06.882 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:33:06.882 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:33:06.883 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:33:06.883 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:33:06.883 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:33:06.883 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.883 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.883 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:33:06.883 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:33:06.883 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:33:06.883 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:33:06.883 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:33:06.884 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:06.884 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:06.884 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:06.884 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:06.884 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.884 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:33:06.884 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.884 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:33:06.884 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.5278ms.
2025-05-27 15:33:06.884 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:33:06.884 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:33:06.884 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:33:06.884 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:33:06.885 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:33:06.885 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:33:06.885 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 3.011ms
2025-05-27 15:33:06.885 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:33:06.885 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:33:06.885 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.885 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:33:06.885 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 4.4191ms
2025-05-27 15:33:06.942 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.942 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:33:06.942 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:33:06.942 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:33:06.942 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:33:06.945 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:33:06.945 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:06.945 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:06.946 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:06.946 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.946 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:33:06.946 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.946 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:33:06.946 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 73.9642ms.
2025-05-27 15:33:06.946 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:33:06.946 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:33:06.946 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:33:06.946 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:33:06.946 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:33:06.946 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:33:06.946 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 74.9401ms
2025-05-27 15:33:06.946 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:33:06.946 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:33:06.946 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:06.946 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:33:06.946 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 76.1597ms
2025-05-27 15:33:11.777 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:33:11.777 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:33:11.777 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:33:11.777 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:33:11.777 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:33:11.778 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:33:11.779 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:33:11.779 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:33:11.779 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:33:11.779 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:33:11.779 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:33:11.780 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:33:11.780 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:33:11.780 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:33:11.780 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:33:11.780 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:33:11.780 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:33:11.780 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:33:11.780 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:33:11.780 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:33:11.780 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:33:11.780 +07:00 [DBG] Connection id "0HNCSUJKACIJ5", Request id "0HNCSUJKACIJ5:00000007": started reading request body.
2025-05-27 15:33:11.780 +07:00 [DBG] Connection id "0HNCSUJKACIJ5", Request id "0HNCSUJKACIJ5:00000007": done reading request body.
2025-05-27 15:33:11.780 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:33:11.780 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:33:11.780 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:33:11.780 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:33:11.780 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:33:11.780 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:33:11.781 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:33:11.782 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:33:11.782 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:33:11.782 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:11.782 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:11.782 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:33:11.782 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:33:11.782 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:33:11.782 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:33:11.783 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:33:11.783 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:11.783 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:11.783 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:11.783 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:11.783 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:33:11.783 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:11.783 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:33:11.783 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.7024ms.
2025-05-27 15:33:11.783 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:33:11.783 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:33:11.783 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:33:11.783 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:33:11.783 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:33:11.783 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:33:11.783 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 3.7201ms
2025-05-27 15:33:11.783 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:33:11.783 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:33:11.783 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:11.784 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:33:11.784 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 6.7242ms
2025-05-27 15:33:26.625 +07:00 [DBG] Connection id "0HNCSUJKACIJ6" accepted.
2025-05-27 15:33:26.625 +07:00 [DBG] Connection id "0HNCSUJKACIJ6" started.
2025-05-27 15:33:26.626 +07:00 [DBG] Connection 0HNCSUJKACIJ6 established using the following protocol: "Tls12"
2025-05-27 15:33:26.627 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 88
2025-05-27 15:33:26.627 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 15:33:26.627 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 15:33:26.627 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:33:26.627 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:33:26.628 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:33:26.628 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:33:26.628 +07:00 [DBG] The request has an origin header: 'https://localhost:5003'.
2025-05-27 15:33:26.628 +07:00 [INF] CORS policy execution failed.
2025-05-27 15:33:26.628 +07:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2025-05-27 15:33:26.628 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:33:26.628 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 15:33:26.628 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:33:26.628 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:33:26.628 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:33:26.628 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:33:26.628 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:33:26.628 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:33:26.628 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:33:26.628 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:33:26.628 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:33:26.628 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:33:26.628 +07:00 [DBG] Connection id "0HNCSUJKACIJ6", Request id "0HNCSUJKACIJ6:00000001": started reading request body.
2025-05-27 15:33:26.628 +07:00 [DBG] Connection id "0HNCSUJKACIJ6", Request id "0HNCSUJKACIJ6:00000001": done reading request body.
2025-05-27 15:33:26.628 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:33:26.628 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:33:26.628 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:33:26.628 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:33:26.629 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:33:26.629 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:33:26.630 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:33:26.630 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:33:26.630 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:33:26.630 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:26.630 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:26.630 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:33:26.630 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:33:26.630 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:33:26.630 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:33:26.633 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:33:26.633 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:26.633 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:33:26.633 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:26.633 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:33:26.633 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 4.6573ms.
2025-05-27 15:33:26.633 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:33:26.633 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-05-27 15:33:26.633 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:33:26.633 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:33:26.633 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 5.4866ms
2025-05-27 15:33:26.634 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:33:26.634 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:33:26.634 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:26.634 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:33:26.634 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 7.1228ms
2025-05-27 15:33:39.101 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:33:39.101 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:33:39.101 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:33:39.101 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:33:39.101 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:33:39.102 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:33:39.102 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:33:39.102 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:33:39.102 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:33:39.102 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:33:39.102 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:33:39.102 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:33:39.102 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:33:39.102 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:33:39.102 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:33:39.102 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:33:39.102 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:33:39.102 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:33:39.103 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:33:39.103 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:33:39.103 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:39.103 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:39.103 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:33:39.103 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:33:39.103 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:33:39.103 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:33:39.103 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:33:39.104 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:39.104 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:39.104 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:39.104 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:33:39.104 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:39.104 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:33:39.104 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:39.104 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:33:39.104 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.0895ms.
2025-05-27 15:33:39.104 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:33:39.104 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-05-27 15:33:39.104 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:33:39.104 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:33:39.104 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.4369ms
2025-05-27 15:33:39.104 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:33:39.104 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:33:39.104 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:33:39.104 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:33:39.104 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 3.4847ms
2025-05-27 15:34:26.888 +07:00 [DBG] Connection id "0HNCSUJKACIJ5" received FIN.
2025-05-27 15:34:26.888 +07:00 [DBG] Connection id "0HNCSUJKACIJ5" is closed. The last processed stream ID was 7.
2025-05-27 15:34:26.888 +07:00 [DBG] Connection id "0HNCSUJKACIJ5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:34:26.888 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJ5 completed.
2025-05-27 15:34:26.889 +07:00 [DBG] Connection id "0HNCSUJKACIJ5" stopped.
2025-05-27 15:35:49.937 +07:00 [DBG] Connection id "0HNCSUJKACIJ6" is closing.
2025-05-27 15:35:49.937 +07:00 [DBG] Connection id "0HNCSUJKACIJ6" is closed. The last processed stream ID was 3.
2025-05-27 15:35:49.937 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJ6 completed.
2025-05-27 15:35:49.937 +07:00 [DBG] Connection id "0HNCSUJKACIJ6" stopped.
2025-05-27 15:35:49.937 +07:00 [DBG] Connection id "0HNCSUJKACIJ6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:36:23.292 +07:00 [DBG] Connection id "0HNCSUJKACIJ7" accepted.
2025-05-27 15:36:23.292 +07:00 [DBG] Connection id "0HNCSUJKACIJ7" started.
2025-05-27 15:36:23.293 +07:00 [DBG] Connection 0HNCSUJKACIJ7 established using the following protocol: "Tls12"
2025-05-27 15:36:23.294 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:36:23.294 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:36:23.294 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:36:23.294 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:36:23.295 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:36:23.295 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:36:23 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:36:23.295 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:36:23 AM'.
2025-05-27 15:36:23.295 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:36:23.295 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:36:23.295 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:36:23.295 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:36:23.296 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:36:23.296 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:36:23.296 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:36:23.296 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:36:23.296 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:36:23.296 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:36:23.296 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:36:23.296 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:36:23.297 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:36:23.297 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:36:23.297 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:36:23.297 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:23.344 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:23.344 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:36:23.344 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:36:23.344 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:36:23.344 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:36:23.346 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:36:23.346 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:23.347 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:23.347 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:23.347 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:23.347 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:23.347 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:36:23.347 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:23.347 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:36:23.347 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 50.9772ms.
2025-05-27 15:36:23.347 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:36:23.347 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:36:23.347 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:36:23.347 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:36:23.347 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:36:23.347 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:36:23.347 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 51.5039ms
2025-05-27 15:36:23.347 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:36:23.347 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:36:23.347 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:23.347 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:36:23.348 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 53.2211ms
2025-05-27 15:36:24.248 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:36:24.248 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:36:24.248 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:36:24.248 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:36:24.248 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:36:24.248 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:36:24 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:36:24.249 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:36:24 AM'.
2025-05-27 15:36:24.249 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:36:24.249 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:36:24.249 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:36:24.249 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:36:24.249 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:36:24.249 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:36:24.249 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:36:24.249 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:36:24.249 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:36:24.249 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:36:24.249 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:36:24.249 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:36:24.249 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:36:24.249 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:36:24.249 +07:00 [DBG] Connection id "0HNCSUJKACIJ7", Request id "0HNCSUJKACIJ7:00000003": started reading request body.
2025-05-27 15:36:24.249 +07:00 [DBG] Connection id "0HNCSUJKACIJ7", Request id "0HNCSUJKACIJ7:00000003": done reading request body.
2025-05-27 15:36:24.249 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:36:24.249 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:36:24.249 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:36:24.249 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:36:24.249 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:36:24.250 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:36:24.250 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:36:24.251 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:36:24.251 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:36:24.251 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:24.251 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:24.251 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:36:24.251 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:36:24.251 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:36:24.251 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:36:24.253 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:36:24.253 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:24.253 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:24.253 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:24.253 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:24.253 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:36:24.253 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:24.253 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:36:24.253 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.6613ms.
2025-05-27 15:36:24.253 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:36:24.253 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:36:24.253 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:36:24.253 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:36:24.253 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:36:24.253 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:36:24.254 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 4.6017ms
2025-05-27 15:36:24.254 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:36:24.254 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:36:24.254 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:24.254 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:36:24.254 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 6.3038ms
2025-05-27 15:36:28.488 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-05-27 15:36:28.488 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-05-27 15:36:28.488 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 15:36:28.489 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 15:36:28.489 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 15:36:28.489 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:36:28.489 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 15:36:28.489 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:36:28.489 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:36:28.489 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:36:28.489 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:36:28 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:36:28.489 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:36:28 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:36:28.490 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:36:28 AM'.
2025-05-27 15:36:28.490 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:36:28 AM'.
2025-05-27 15:36:28.490 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:36:28.490 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:36:28.490 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:36:28.490 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:36:28.490 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:36:28.490 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:36:28.490 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 15:36:28.490 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:36:28.490 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 15:36:28.490 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:36:28.490 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:36:28.490 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:36:28.490 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:36:28.490 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:36:28.490 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:36:28.490 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:36:28.490 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:36:28.490 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:36:28.490 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:36:28.490 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:36:28.492 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:36:28.492 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:36:28.492 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:36:28.492 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:36:28.492 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:36:28.492 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:36:28.492 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:36:28.492 +07:00 [DBG] Connection id "0HNCSUJKACIJ7", Request id "0HNCSUJKACIJ7:00000007": started reading request body.
2025-05-27 15:36:28.492 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:36:28.492 +07:00 [DBG] Connection id "0HNCSUJKACIJ7", Request id "0HNCSUJKACIJ7:00000007": done reading request body.
2025-05-27 15:36:28.492 +07:00 [DBG] Connection id "0HNCSUJKACIJ7", Request id "0HNCSUJKACIJ7:00000005": started reading request body.
2025-05-27 15:36:28.492 +07:00 [DBG] Connection id "0HNCSUJKACIJ7", Request id "0HNCSUJKACIJ7:00000005": done reading request body.
2025-05-27 15:36:28.492 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:36:28.492 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:36:28.492 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:36:28.492 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:36:28.492 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:36:28.492 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:36:28.492 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:36:28.492 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:36:28.493 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:36:28.493 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:36:28.493 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:36:28.493 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:36:28.494 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:36:28.494 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:36:28.494 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:36:28.494 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:36:28.494 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:28.494 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:36:28.494 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:28.494 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:36:28.495 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:28.495 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:36:28.495 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:36:28.495 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:36:28.495 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:36:28.498 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:36:28.498 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:28.498 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:36:28.498 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:28.498 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:36:28.498 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5.0819ms.
2025-05-27 15:36:28.498 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:36:28.498 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:36:28.498 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:36:28.498 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:36:28.498 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:36:28.498 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:36:28.498 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 7.8412ms
2025-05-27 15:36:28.498 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:36:28.498 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:36:28.498 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:28.498 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:36:28.498 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 10.0006ms
2025-05-27 15:36:28.570 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:28.571 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:36:28.571 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:36:28.571 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:36:28.571 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:36:28.575 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:36:28.575 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:28.575 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:36:28.576 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:28.576 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:36:28.576 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 82.8878ms.
2025-05-27 15:36:28.576 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:36:28.576 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:36:28.576 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:36:28.576 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:36:28.576 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:36:28.576 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:36:28.576 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 85.8049ms
2025-05-27 15:36:28.576 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:36:28.576 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:36:28.576 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:28.576 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:36:28.576 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 87.9205ms
2025-05-27 15:36:30.377 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:36:30.377 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:36:30.377 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:36:30.377 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:36:30.377 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:36:30.377 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:36:30.378 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:36:30.378 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:36:30.378 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:36:30.378 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:36:30.378 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:36:30.378 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:36:30.378 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:36:30.378 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:36:30.378 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:36:30.378 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:36:30 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:36:30.378 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:36:30 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:36:30.378 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:36:30 AM'.
2025-05-27 15:36:30.378 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:36:30 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:36:30.379 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:36:30 AM'.
2025-05-27 15:36:30.379 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:36:30 AM'.
2025-05-27 15:36:30.379 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:36:30.379 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:36:30.379 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:36:30.379 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:36:30.379 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:36:30.379 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:36:30.379 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:36:30.379 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:36:30.379 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:36:30.379 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:36:30.379 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:36:30.379 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:36:30.379 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:36:30.379 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:36:30.379 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:36:30.379 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:36:30.379 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:36:30.379 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:36:30.379 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:36:30.379 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:36:30.379 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:36:30.379 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:36:30.379 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:36:30.379 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:36:30.380 +07:00 [DBG] Connection id "0HNCSUJKACIJ7", Request id "0HNCSUJKACIJ7:0000000D": started reading request body.
2025-05-27 15:36:30.380 +07:00 [DBG] Connection id "0HNCSUJKACIJ7", Request id "0HNCSUJKACIJ7:0000000D": done reading request body.
2025-05-27 15:36:30.380 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:36:30.380 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:36:30.380 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:36:30.380 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:36:30.380 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:36:30.380 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:36:30.380 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:36:30.380 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:36:30.380 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:36:30.380 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:36:30.380 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:36:30.380 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.380 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:36:30.380 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.381 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:36:30.381 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:36:30.381 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:36:30.381 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:36:30.380 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:36:30.381 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:36:30.381 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.381 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:36:30.381 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.381 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.381 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:36:30.381 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:36:30.381 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:36:30.381 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:36:30.381 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:36:30.382 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:30.382 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:30.382 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:36:30.382 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:30.382 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:30.382 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.382 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:30.382 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:36:30.382 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.382 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:30.382 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:36:30.382 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:30.382 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:30.382 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.382 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:36:30.382 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.6997ms.
2025-05-27 15:36:30.382 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.382 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:36:30.382 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.6264ms.
2025-05-27 15:36:30.382 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:36:30.382 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:36:30.382 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:36:30.382 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:36:30.382 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:36:30.382 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:36:30.382 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:36:30.382 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:36:30.382 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:36:30.382 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:36:30.382 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:36:30.382 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:36:30.382 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.9236ms
2025-05-27 15:36:30.382 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 3.1181ms
2025-05-27 15:36:30.382 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:36:30.382 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:36:30.382 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:36:30.382 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:36:30.383 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.383 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.383 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:36:30.383 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:36:30.383 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 5.7089ms
2025-05-27 15:36:30.383 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 5.7527ms
2025-05-27 15:36:30.448 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.448 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:36:30.448 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:36:30.448 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:36:30.448 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:36:30.451 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:36:30.451 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:30.451 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:30.451 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:36:30.451 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.451 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:36:30.451 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.451 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:36:30.451 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 71.3411ms.
2025-05-27 15:36:30.451 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:36:30.451 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:36:30.451 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:36:30.451 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:36:30.451 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:36:30.451 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:36:30.452 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 72.4556ms
2025-05-27 15:36:30.452 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:36:30.452 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:36:30.452 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:36:30.452 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:36:30.452 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 74.4541ms
2025-05-27 15:37:40.569 +07:00 [DBG] Connection id "0HNCSUJKACIJ7" received FIN.
2025-05-27 15:37:40.569 +07:00 [DBG] Connection id "0HNCSUJKACIJ7" is closed. The last processed stream ID was 13.
2025-05-27 15:37:40.569 +07:00 [DBG] Connection id "0HNCSUJKACIJ7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:37:40.569 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJ7 completed.
2025-05-27 15:37:40.570 +07:00 [DBG] Connection id "0HNCSUJKACIJ7" stopped.
2025-05-27 15:38:14.977 +07:00 [DBG] Connection id "0HNCSUJKACIJ8" accepted.
2025-05-27 15:38:14.977 +07:00 [DBG] Connection id "0HNCSUJKACIJ8" started.
2025-05-27 15:38:14.978 +07:00 [DBG] Connection 0HNCSUJKACIJ8 established using the following protocol: "Tls12"
2025-05-27 15:38:14.979 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:38:14.979 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:38:14.979 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:38:14.979 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:14.979 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:38:14.980 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:14 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:38:14.980 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:14 AM'.
2025-05-27 15:38:14.980 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:38:14.980 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:38:14.980 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:14.980 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:38:14.980 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:38:14.980 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:38:14.980 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:38:14.980 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:38:14.980 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:38:14.980 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:14.980 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:14.980 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:38:14.981 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:38:14.981 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:38:14.981 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:38:14.981 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:14.981 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:14.981 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:38:14.981 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:14.981 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:14.981 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:38:14.982 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:38:14.982 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:14.982 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:14.982 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:14.982 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:14.982 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:14.982 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:38:14.982 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:14.982 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:14.982 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.9574ms.
2025-05-27 15:38:14.982 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:38:14.983 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:38:14.983 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:38:14.983 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:38:14.983 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:38:14.983 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:38:14.983 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.3844ms
2025-05-27 15:38:14.983 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:14.983 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:38:14.983 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:14.983 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:14.983 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 4.1262ms
2025-05-27 15:38:35.428 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:38:35.429 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:38:35.429 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:38:35.429 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:35.429 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:38:35.429 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:35 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:38:35.429 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:35 AM'.
2025-05-27 15:38:35.429 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:38:35.429 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:38:35.429 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:35.429 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:38:35.429 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:38:35.429 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:38:35.430 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:38:35.430 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:38:35.430 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:38:35.430 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:35.430 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:35.430 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:38:35.430 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:38:35.430 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:38:35.430 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:38:35.430 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:35.430 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:35.430 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:38:35.430 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:35.430 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:35.430 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:38:35.431 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:38:35.432 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:35.432 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:35.432 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:35.432 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:35.432 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:35.432 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:38:35.432 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:35.432 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:35.432 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.256ms.
2025-05-27 15:38:35.432 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:38:35.432 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:38:35.432 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:38:35.432 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:38:35.432 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:38:35.432 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:38:35.432 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.5713ms
2025-05-27 15:38:35.432 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:35.432 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:38:35.432 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:35.432 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:35.432 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 4.1914ms
2025-05-27 15:38:36.597 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:38:36.597 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:38:36.597 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:38:36.597 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:36.597 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:38:36.597 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:36 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:38:36.597 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:36 AM'.
2025-05-27 15:38:36.597 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:38:36.597 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:38:36.597 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:36.597 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:38:36.597 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:38:36.597 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:38:36.598 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:38:36.598 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:38:36.598 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:38:36.598 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:36.598 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:36.598 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:38:36.598 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:38:36.598 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:38:36.598 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:38:36.598 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:36.598 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:36.598 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:38:36.598 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:36.598 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:36.598 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:38:36.599 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:38:36.599 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:36.599 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:36.599 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:36.599 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:36.599 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:36.599 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:38:36.599 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:36.599 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:36.599 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.57ms.
2025-05-27 15:38:36.599 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:38:36.599 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:38:36.599 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:38:36.599 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:38:36.599 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:38:36.599 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:38:36.600 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 1.9365ms
2025-05-27 15:38:36.600 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:36.600 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:38:36.600 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:36.600 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:36.600 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 3.2157ms
2025-05-27 15:38:37.328 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:38:37.328 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:38:37.328 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:38:37.328 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:37.329 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:38:37.330 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:37 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:38:37.330 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:37 AM'.
2025-05-27 15:38:37.330 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:38:37.330 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:38:37.330 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:37.330 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:38:37.330 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:38:37.330 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:38:37.330 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:38:37.330 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:38:37.330 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:38:37.330 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:37.330 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:37.330 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:38:37.331 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:38:37.331 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:38:37.331 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:38:37.331 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:37.331 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:37.331 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:38:37.331 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:37.331 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:37.331 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:38:37.332 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:38:37.332 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:37.332 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:37.333 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:37.333 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:37.333 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:37.333 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:38:37.333 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:37.333 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:37.333 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.3403ms.
2025-05-27 15:38:37.333 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:38:37.333 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:38:37.333 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:38:37.333 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:38:37.333 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:38:37.333 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:38:37.333 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.5781ms
2025-05-27 15:38:37.334 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:37.334 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:38:37.334 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:37.334 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:37.335 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 6.8151ms
2025-05-27 15:38:37.916 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:38:37.917 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:38:37.917 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:38:37.917 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:37.917 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:38:37.917 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:37 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:38:37.917 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:37 AM'.
2025-05-27 15:38:37.917 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:38:37.917 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:38:37.917 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:37.917 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:38:37.917 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:38:37.917 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:38:37.917 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:38:37.917 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:38:37.917 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:38:37.917 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:37.917 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:37.918 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:38:37.918 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:38:37.918 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:38:37.918 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:38:37.918 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:37.918 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:37.918 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:38:37.918 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:37.918 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:37.918 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:38:37.919 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:38:37.919 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:37.919 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:37.919 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:37.919 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:37.919 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:37.919 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:38:37.919 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:37.919 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:37.919 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.8388ms.
2025-05-27 15:38:37.919 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:38:37.919 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:38:37.919 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:38:37.919 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:38:37.919 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:38:37.919 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:38:37.920 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.1066ms
2025-05-27 15:38:37.920 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:37.920 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:38:37.920 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:37.920 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:37.920 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 3.3261ms
2025-05-27 15:38:38.868 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:38:38.869 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:38:38.869 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:38:38.869 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:38.869 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:38:38.869 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:38 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:38:38.869 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:38 AM'.
2025-05-27 15:38:38.869 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:38:38.869 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:38:38.869 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:38.869 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:38:38.869 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:38:38.869 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:38:38.870 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:38:38.870 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:38:38.870 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:38:38.870 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:38.870 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:38.870 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:38:38.870 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:38:38.870 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:38:38.870 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:38:38.870 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:38.870 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:38.870 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:38:38.870 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:38.870 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:38.870 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:38:38.871 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:38:38.871 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:38.871 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:38.871 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:38.871 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:38.871 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:38.871 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:38:38.871 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:38.871 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:38.871 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.3005ms.
2025-05-27 15:38:38.871 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:38:38.871 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:38:38.871 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:38:38.871 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:38:38.871 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:38:38.871 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:38:38.871 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 1.5263ms
2025-05-27 15:38:38.871 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:38.871 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:38:38.871 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:38.871 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:38.871 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 2.736ms
2025-05-27 15:38:39.281 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:38:39.281 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:38:39.281 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:38:39.281 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:39.281 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:38:39.281 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:39 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:38:39.281 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:39 AM'.
2025-05-27 15:38:39.282 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:38:39.282 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:38:39.282 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:39.282 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:38:39.282 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:38:39.282 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:38:39.282 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:38:39.282 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:38:39.282 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:38:39.282 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:39.282 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:39.282 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:38:39.282 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:38:39.282 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:38:39.282 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:38:39.282 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:39.282 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:39.282 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:38:39.282 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:39.282 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:39.282 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:38:39.283 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:38:39.283 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:39.283 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:39.283 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:39.283 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:39.283 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:39.283 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:38:39.283 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:39.283 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:39.283 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.5374ms.
2025-05-27 15:38:39.283 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:38:39.283 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:38:39.283 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:38:39.283 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:38:39.283 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:38:39.283 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:38:39.283 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 1.763ms
2025-05-27 15:38:39.283 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:38:39.283 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:38:39.283 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:39.284 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:39.284 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 2.8783ms
2025-05-27 15:38:58.504 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:38:58.504 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:38:58.504 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:38:58.504 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:38:58.504 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:38:58.504 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:58 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:38:58.504 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:38:58 AM'.
2025-05-27 15:38:58.505 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:38:58.505 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:38:58.505 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:38:58.505 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:38:58.505 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:38:58.505 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:38:58.505 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:38:58.505 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:38:58.505 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:38:58.505 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:58.505 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:38:58.505 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:38:58.505 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:38:58.505 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:38:58.505 +07:00 [DBG] Connection id "0HNCSUJKACIJ8", Request id "0HNCSUJKACIJ8:0000000F": started reading request body.
2025-05-27 15:38:58.505 +07:00 [DBG] Connection id "0HNCSUJKACIJ8", Request id "0HNCSUJKACIJ8:0000000F": done reading request body.
2025-05-27 15:38:58.505 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:38:58.505 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:38:58.505 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:38:58.505 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:38:58.505 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:38:58.505 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:38:58.506 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:38:58.506 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:38:58.506 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:38:58.506 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:58.506 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:58.506 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:38:58.506 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:58.506 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:38:58.506 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:38:58.508 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:38:58.509 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:58.509 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:58.511 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:38:58.511 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:58.511 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-05-27 15:38:58.511 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:58.511 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:58.511 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5.8112ms.
2025-05-27 15:38:58.511 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:38:58.511 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:38:58.511 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:38:58.511 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:38:58.511 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:38:58.511 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:38:58.511 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 6.5796ms
2025-05-27 15:38:58.511 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:38:58.511 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:38:58.512 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:38:58.512 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:38:58.512 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 8.3898ms
2025-05-27 15:39:29.261 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:39:29.261 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:39:29.261 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:39:29.261 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:39:29.261 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:39:29.262 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:39:29 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:39:29.263 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:39:29 AM'.
2025-05-27 15:39:29.263 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:39:29.263 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:39:29.263 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:39:29.263 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:39:29.263 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:39:29.263 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:39:29.263 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:39:29.263 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:39:29.263 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:39:29.263 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:39:29.263 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:39:29.263 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:39:29.263 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:39:29.263 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:39:29.263 +07:00 [DBG] Connection id "0HNCSUJKACIJ8", Request id "0HNCSUJKACIJ8:00000011": started reading request body.
2025-05-27 15:39:29.263 +07:00 [DBG] Connection id "0HNCSUJKACIJ8", Request id "0HNCSUJKACIJ8:00000011": done reading request body.
2025-05-27 15:39:29.263 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:39:29.263 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:39:29.263 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:39:29.263 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:39:29.264 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:39:29.264 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:39:29.269 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:39:29.270 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:39:29.270 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:39:29.270 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:29.270 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:29.270 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:39:29.270 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:39:29.274 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-27 15:39:29.274 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:39:29.278 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:39:29.278 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:39:29.278 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:39:29.278 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:39:29.278 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:29.279 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-05-27 15:39:29.279 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:29.280 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:39:29.280 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.9478ms.
2025-05-27 15:39:29.280 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:39:29.280 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:39:29.280 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:39:29.280 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:39:29.280 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:39:29.280 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:39:29.280 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 16.7889ms
2025-05-27 15:39:29.280 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:39:29.280 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:39:29.280 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:29.280 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:39:29.280 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 19.2972ms
2025-05-27 15:39:29.283 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:39:29.283 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:39:29.283 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:39:29.283 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:39:29.283 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:39:29.284 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:39:29 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:39:29.284 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:39:29 AM'.
2025-05-27 15:39:29.284 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:39:29.284 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:39:29.284 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:39:29.284 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:39:29.285 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:39:29.285 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:39:29.285 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:39:29.285 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:39:29.285 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:39:29.285 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:39:29.285 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:39:29.285 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:39:29.285 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:39:29.286 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:39:29.286 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:39:29.286 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:29.286 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:29.286 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:39:29.286 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:39:29.286 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:39:29.286 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:39:29.287 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:39:29.287 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:39:29.287 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:39:29.287 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:39:29.287 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:39:29.287 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:29.287 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:39:29.287 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:29.287 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:39:29.287 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.6632ms.
2025-05-27 15:39:29.287 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:39:29.288 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:39:29.288 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:39:29.288 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:39:29.288 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:39:29.288 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:39:29.288 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 3.1424ms
2025-05-27 15:39:29.288 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:39:29.288 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:39:29.288 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:29.288 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:39:29.288 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 5.0006ms
2025-05-27 15:39:36.318 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:39:36.318 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:39:36.318 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:39:36.318 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:39:36.318 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:39:36.318 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:39:36 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:39:36.319 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:39:36 AM'.
2025-05-27 15:39:36.319 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:39:36.319 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:39:36.319 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:39:36.319 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:39:36.319 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:39:36.319 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:39:36.319 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:39:36.319 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:39:36.319 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:39:36.319 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:39:36.319 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:39:36.319 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:39:36.319 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:39:36.320 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:39:36.320 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:39:36.320 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:36.320 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:36.320 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:39:36.320 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:39:36.320 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:39:36.320 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:39:36.320 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:39:36.321 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:39:36.321 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:39:36.321 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:39:36.321 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:39:36.321 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:36.321 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:39:36.321 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:36.321 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:39:36.321 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.2255ms.
2025-05-27 15:39:36.321 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:39:36.321 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:39:36.321 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:39:36.321 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:39:36.321 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:39:36.321 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:39:36.322 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.6834ms
2025-05-27 15:39:36.322 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:39:36.322 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:39:36.322 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:36.322 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:39:36.322 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 4.0758ms
2025-05-27 15:39:36.411 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:39:36.412 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:39:36.412 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:39:36.412 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:39:36.412 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:39:36.413 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:39:36 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:39:36.413 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:39:36 AM'.
2025-05-27 15:39:36.413 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:39:36.413 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:39:36.413 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:39:36.413 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:39:36.414 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:39:36.414 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:39:36.414 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:39:36.414 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:39:36.414 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:39:36.414 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:39:36.414 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:39:36.414 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:39:36.414 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:39:36.415 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:39:36.415 +07:00 [DBG] Connection id "0HNCSUJKACIJ8", Request id "0HNCSUJKACIJ8:00000017": started reading request body.
2025-05-27 15:39:36.415 +07:00 [DBG] Connection id "0HNCSUJKACIJ8", Request id "0HNCSUJKACIJ8:00000017": done reading request body.
2025-05-27 15:39:36.415 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:39:36.415 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:39:36.415 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:39:36.415 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:39:36.415 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:39:36.415 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:39:36.416 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:39:36.416 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:39:36.416 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:39:36.416 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:36.416 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:36.416 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:39:36.416 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:39:36.416 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:39:36.416 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:39:36.418 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:39:36.418 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:39:36.418 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:39:36.418 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:39:36.418 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:36.418 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:39:36.418 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:36.418 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:39:36.418 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.8582ms.
2025-05-27 15:39:36.418 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:39:36.418 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:39:36.418 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:39:36.418 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:39:36.418 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:39:36.418 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:39:36.418 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 4.4235ms
2025-05-27 15:39:36.418 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:39:36.419 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:39:36.419 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:39:36.419 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:39:36.419 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 7.4863ms
2025-05-27 15:40:46.547 +07:00 [DBG] Connection id "0HNCSUJKACIJ8" received FIN.
2025-05-27 15:40:46.547 +07:00 [DBG] Connection id "0HNCSUJKACIJ8" is closed. The last processed stream ID was 23.
2025-05-27 15:40:46.548 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJ8 completed.
2025-05-27 15:40:46.548 +07:00 [DBG] Connection id "0HNCSUJKACIJ8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:40:46.561 +07:00 [DBG] Connection id "0HNCSUJKACIJ8" stopped.
2025-05-27 15:40:54.713 +07:00 [DBG] Connection id "0HNCSUJKACIJ9" accepted.
2025-05-27 15:40:54.714 +07:00 [DBG] Connection id "0HNCSUJKACIJ9" started.
2025-05-27 15:40:54.714 +07:00 [DBG] Connection 0HNCSUJKACIJ9 established using the following protocol: "Tls12"
2025-05-27 15:40:54.715 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:40:54.715 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:40:54.715 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:40:54.715 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:40:54.715 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:40:54.715 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:40:54 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:40:54.716 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:40:54 AM'.
2025-05-27 15:40:54.716 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:40:54.716 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:40:54.716 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:40:54.716 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:40:54.716 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:40:54.716 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:40:54.716 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:40:54.716 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:40:54.716 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:40:54.716 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:40:54.716 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:40:54.716 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:40:54.716 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:40:54.716 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:40:54.716 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:40:54.716 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:40:54.716 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:40:54.716 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:40:54.716 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:40:54.717 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:40:54.717 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:40:54.717 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:40:54.717 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:40:54.717 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:40:54.717 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:40:54.717 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:40:54.717 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:40:54.717 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:40:54.717 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:40:54.717 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:40:54.717 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.6199ms.
2025-05-27 15:40:54.718 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:40:54.718 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:40:54.718 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:40:54.718 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:40:54.718 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:40:54.718 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:40:54.718 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 1.8475ms
2025-05-27 15:40:54.718 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:40:54.718 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:40:54.718 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:40:54.718 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:40:54.718 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 2.7169ms
2025-05-27 15:42:04.834 +07:00 [DBG] Connection id "0HNCSUJKACIJ9" received FIN.
2025-05-27 15:42:04.834 +07:00 [DBG] Connection id "0HNCSUJKACIJ9" is closed. The last processed stream ID was 1.
2025-05-27 15:42:04.834 +07:00 [DBG] Connection id "0HNCSUJKACIJ9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:42:04.834 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJ9 completed.
2025-05-27 15:42:04.834 +07:00 [DBG] Connection id "0HNCSUJKACIJ9" stopped.
2025-05-27 15:42:28.842 +07:00 [DBG] Connection id "0HNCSUJKACIJA" accepted.
2025-05-27 15:42:28.843 +07:00 [DBG] Connection id "0HNCSUJKACIJA" started.
2025-05-27 15:42:28.845 +07:00 [DBG] Connection 0HNCSUJKACIJA established using the following protocol: "Tls12"
2025-05-27 15:42:28.847 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:42:28.847 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:42:28.847 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:42:28.847 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:42:28.847 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:42:28.847 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:42:28.847 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:42:28.847 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:42:28.847 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:42:28.848 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:42:28.848 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:42:28 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:42:28.848 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:42:28 AM'.
2025-05-27 15:42:28.848 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:42:28.848 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:42:28.848 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:42:28.848 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:42:28.848 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:42:28.849 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:42:28.849 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:42:28 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:42:28.849 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:42:28.849 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:42:28.849 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:42:28 AM'.
2025-05-27 15:42:28.849 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:42:28.849 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:42:28.849 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:42:28.849 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:42:28.849 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:42:28.849 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:42:28.849 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:42:28.849 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:42:28.849 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:42:28.849 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:42:28.850 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:42:28.850 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:42:28.850 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:42:28.850 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:42:28.850 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:42:28.850 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:42:28.850 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:42:28.850 +07:00 [DBG] Connection id "0HNCSUJKACIJA", Request id "0HNCSUJKACIJA:00000003": started reading request body.
2025-05-27 15:42:28.850 +07:00 [DBG] Connection id "0HNCSUJKACIJA", Request id "0HNCSUJKACIJA:00000003": done reading request body.
2025-05-27 15:42:28.850 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:42:28.850 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:42:28.850 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:42:28.850 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:42:28.850 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:42:28.850 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:42:28.850 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:42:28.851 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:42:28.851 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:42:28.851 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:42:28.851 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:42:28.851 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:42:28.851 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:42:28.851 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:28.851 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:28.946 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:28.946 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:42:28.946 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:42:28.946 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:42:28.946 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:42:28.947 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:28.947 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:42:28.947 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:42:28.947 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:42:28.947 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:42:28.949 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:42:28.949 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:42:28.949 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:42:28.949 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:42:28.949 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:42:28.949 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:28.949 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:42:28.949 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:28.949 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:42:28.949 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 99.0285ms.
2025-05-27 15:42:28.949 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:42:28.949 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:42:28.949 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:42:28.949 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:42:28.949 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:42:28.949 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:42:28.949 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 99.6836ms
2025-05-27 15:42:28.949 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:42:28.949 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:42:28.949 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:28.949 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:42:28.949 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 103.0315ms
2025-05-27 15:42:28.951 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:42:28.951 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:42:28.951 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:42:28.951 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:42:28.951 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:28.951 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:42:28.951 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:28.951 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:42:28.951 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 100.897ms.
2025-05-27 15:42:28.951 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:42:28.951 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:42:28.951 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:42:28.951 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:42:28.951 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:42:28.951 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:42:28.951 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 102.1117ms
2025-05-27 15:42:28.951 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:42:28.951 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:42:28.952 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:28.952 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:42:28.952 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 105.1057ms
2025-05-27 15:42:38.792 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:42:38.792 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:42:38.792 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:42:38.792 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:42:38.792 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:42:38.793 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:42:38 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:42:38.793 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:42:38 AM'.
2025-05-27 15:42:38.793 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:42:38.793 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:42:38.793 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:42:38.793 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:42:38.793 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:42:38.793 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:42:38.793 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:42:38.793 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:42:38.793 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:42:38.793 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:42:38.793 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:42:38.794 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:42:38.794 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:42:38.794 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:42:38.794 +07:00 [DBG] Connection id "0HNCSUJKACIJA", Request id "0HNCSUJKACIJA:00000005": started reading request body.
2025-05-27 15:42:38.794 +07:00 [DBG] Connection id "0HNCSUJKACIJA", Request id "0HNCSUJKACIJA:00000005": done reading request body.
2025-05-27 15:42:38.794 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:42:38.794 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:42:38.794 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:42:38.794 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:42:38.794 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:42:38.794 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:42:38.794 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:42:38.795 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:42:38.795 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:42:38.795 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:38.795 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:38.795 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:42:38.795 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:42:38.795 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:42:38.795 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:42:38.797 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:42:38.801 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:42:38.803 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:42:38.803 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:42:38.803 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:38.804 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-05-27 15:42:38.804 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:38.804 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:42:38.804 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.7288ms.
2025-05-27 15:42:38.804 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:42:38.804 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:42:38.804 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:42:38.804 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:42:38.804 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:42:38.804 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:42:38.804 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 10.5412ms
2025-05-27 15:42:38.804 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:42:38.805 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:42:38.805 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:42:38.805 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:42:38.805 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 12.6762ms
2025-05-27 15:43:43.901 +07:00 [DBG] Connection id "0HNCSUJKACIJA" received FIN.
2025-05-27 15:43:43.901 +07:00 [DBG] Connection id "0HNCSUJKACIJA" is closed. The last processed stream ID was 5.
2025-05-27 15:43:43.901 +07:00 [DBG] Connection id "0HNCSUJKACIJA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:43:43.901 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJA completed.
2025-05-27 15:43:43.902 +07:00 [DBG] Connection id "0HNCSUJKACIJA" stopped.
2025-05-27 15:44:13.903 +07:00 [DBG] Connection id "0HNCSUJKACIJB" accepted.
2025-05-27 15:44:13.905 +07:00 [DBG] Connection id "0HNCSUJKACIJB" started.
2025-05-27 15:44:13.906 +07:00 [DBG] Connection 0HNCSUJKACIJB established using the following protocol: "Tls12"
2025-05-27 15:44:13.909 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:44:13.909 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:44:13.909 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:44:13.909 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:44:13.909 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:44:13.910 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:44:13 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:44:13.912 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:34:06 AM', Current time (UTC): '5/27/2025 8:44:13 AM'.
2025-05-27 15:44:13.912 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:44:13.916 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:44:13.916 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:44:13.916 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:44:13.916 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:44:13.916 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:44:13.916 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:44:13.916 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:44:13.916 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:44:13.917 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:44:13.917 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:44:13.918 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:44:13.918 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:44:13.918 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:44:13.919 +07:00 [DBG] Connection id "0HNCSUJKACIJB", Request id "0HNCSUJKACIJB:00000001": started reading request body.
2025-05-27 15:44:13.919 +07:00 [DBG] Connection id "0HNCSUJKACIJB", Request id "0HNCSUJKACIJB:00000001": done reading request body.
2025-05-27 15:44:13.919 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:44:13.919 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:44:13.919 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:44:13.919 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:44:13.919 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:44:13.919 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:44:13.920 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:44:13.921 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:44:13.921 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:44:13.921 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:44:13.921 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:44:13.921 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:44:13.921 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:44:13.921 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:44:13.921 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:44:13.925 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:44:13.925 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:44:13.925 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:44:13.925 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:44:13.925 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:44:13.925 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:44:13.925 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:44:13.925 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:44:13.926 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.6311ms.
2025-05-27 15:44:13.926 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:44:13.927 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:44:13.927 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:44:13.927 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:44:13.927 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:44:13.927 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:44:13.927 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 10.4207ms
2025-05-27 15:44:13.927 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:44:13.928 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:44:13.928 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:44:13.928 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:44:13.928 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 18.855ms
2025-05-27 15:45:29.066 +07:00 [DBG] Connection id "0HNCSUJKACIJB" received FIN.
2025-05-27 15:45:29.066 +07:00 [DBG] Connection id "0HNCSUJKACIJB" is closed. The last processed stream ID was 1.
2025-05-27 15:45:29.066 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJB completed.
2025-05-27 15:45:29.066 +07:00 [DBG] Connection id "0HNCSUJKACIJB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:45:29.081 +07:00 [DBG] Connection id "0HNCSUJKACIJB" stopped.
2025-05-27 15:47:02.671 +07:00 [DBG] Connection id "0HNCSUJKACIJC" accepted.
2025-05-27 15:47:02.671 +07:00 [DBG] Connection id "0HNCSUJKACIJC" started.
2025-05-27 15:47:02.684 +07:00 [DBG] Connection 0HNCSUJKACIJC established using the following protocol: "Tls12"
2025-05-27 15:47:02.687 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:47:02.687 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:47:02.687 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:47:02.688 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:47:02.688 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:47:02.689 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:47:02.689 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:47:02.689 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:47:02.689 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:47:02.689 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:47:02.689 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:47:02.689 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:47:02.689 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:47:02.689 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:47:02.689 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:47:02.689 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:47:02.689 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:47:02.689 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:47:02.690 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:47:02.690 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:47:02.690 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:47:02.690 +07:00 [DBG] Connection id "0HNCSUJKACIJC", Request id "0HNCSUJKACIJC:00000001": started reading request body.
2025-05-27 15:47:02.690 +07:00 [DBG] Connection id "0HNCSUJKACIJC", Request id "0HNCSUJKACIJC:00000001": done reading request body.
2025-05-27 15:47:02.690 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:47:02.690 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:47:02.690 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:47:02.690 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:47:02.690 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:47:02.691 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:47:02.692 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:47:02.694 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:47:02.694 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:47:02.694 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.694 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.694 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:47:02.694 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:47:02.694 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:47:02.694 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:47:02.694 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:47:02.694 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:47:02.694 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:47:02.694 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:47:02.694 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:47:02.694 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:47:02.695 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:47:02.695 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:47:02.695 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:47:02.695 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:47:02.695 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:47:02.695 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:47:02.695 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:47:02.695 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:47:02.695 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:47:02.695 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:47:02.695 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:47:02.695 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:47:02.695 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:47:02.695 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:47:02.695 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:47:02.695 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:47:02.695 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:47:02.695 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:47:02.696 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:47:02.696 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:47:02.696 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:47:02.696 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:47:02.696 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:47:02.696 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:47:02.696 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:47:02.696 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:47:02.696 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.696 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:47:02.696 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.696 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:47:02.696 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:47:02.696 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:47:02.696 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:47:02.696 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:47:02.696 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:47:02.696 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:47:02.696 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:47:02.696 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:47:02.696 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:47:02.696 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:47:02.696 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:47:02.696 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:47:02.696 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:47:02.697 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:47:02.697 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:47:02.697 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:47:02.697 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.697 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:47:02.697 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:47:02.697 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.697 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:47:02.697 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.697 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:47:02.697 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.4078ms.
2025-05-27 15:47:02.697 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:47:02.697 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:47:02.697 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:47:02.697 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:47:02.697 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:47:02.697 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:47:02.697 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 7.8603ms
2025-05-27 15:47:02.697 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:47:02.697 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:47:02.697 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.697 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:47:02.697 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 10.2029ms
2025-05-27 15:47:02.698 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:47:02.698 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:47:02.698 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:47:02.698 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:47:02.698 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:47:02.698 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.698 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:47:02.698 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.698 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:47:02.698 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.2753ms.
2025-05-27 15:47:02.698 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:47:02.698 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:47:02.698 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:47:02.698 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:47:02.698 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:47:02.698 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:47:02.698 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.463ms
2025-05-27 15:47:02.698 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:47:02.698 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:47:02.698 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.698 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:47:02.698 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 3.8455ms
2025-05-27 15:47:02.782 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.782 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:47:02.782 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:47:02.782 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:47:02.782 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:47:02.785 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:47:02.785 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:47:02.785 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:47:02.785 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:47:02.785 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:47:02.785 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.785 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:47:02.785 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.785 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:47:02.786 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 89.4121ms.
2025-05-27 15:47:02.786 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:47:02.786 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:47:02.786 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:47:02.786 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:47:02.786 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:47:02.786 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:47:02.786 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 89.7961ms
2025-05-27 15:47:02.786 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:47:02.786 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:47:02.786 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:02.786 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:47:02.786 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 91.7403ms
2025-05-27 15:47:15.870 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:47:15.870 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:47:15.870 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:47:15.870 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:47:15.870 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:47:15.870 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:47:15.870 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:47:15.870 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:47:15.870 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:47:15.870 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:47:15.870 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:47:15.870 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:47:15.870 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:47:15.870 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:47:15.870 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:47:15.870 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:47:15.870 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:47:15.870 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:47:15.871 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:47:15.871 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:47:15.871 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:47:15.871 +07:00 [DBG] Connection id "0HNCSUJKACIJC", Request id "0HNCSUJKACIJC:00000007": started reading request body.
2025-05-27 15:47:15.871 +07:00 [DBG] Connection id "0HNCSUJKACIJC", Request id "0HNCSUJKACIJC:00000007": done reading request body.
2025-05-27 15:47:15.871 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:47:15.871 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:47:15.871 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:47:15.871 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:47:15.871 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:47:15.871 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:47:15.875 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:47:15.875 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:47:15.875 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:47:15.876 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:15.876 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:15.876 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:47:15.876 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:47:15.876 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:47:15.876 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:47:15.877 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:47:15.877 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:47:15.877 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:47:15.877 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:47:15.877 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:15.877 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:47:15.877 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:15.877 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:47:15.877 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5.8684ms.
2025-05-27 15:47:15.877 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:47:15.877 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:47:15.877 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:47:15.877 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:47:15.877 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:47:15.877 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:47:15.877 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 7.0186ms
2025-05-27 15:47:15.877 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:47:15.878 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:47:15.878 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:47:15.878 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:47:15.878 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 7.8541ms
2025-05-27 15:48:20.981 +07:00 [DBG] Connection id "0HNCSUJKACIJC" received FIN.
2025-05-27 15:48:20.981 +07:00 [DBG] Connection id "0HNCSUJKACIJC" is closed. The last processed stream ID was 7.
2025-05-27 15:48:20.981 +07:00 [DBG] Connection id "0HNCSUJKACIJC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:48:20.981 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJC completed.
2025-05-27 15:48:20.981 +07:00 [DBG] Connection id "0HNCSUJKACIJC" stopped.
2025-05-27 15:48:32.735 +07:00 [DBG] Connection id "0HNCSUJKACIJD" accepted.
2025-05-27 15:48:32.735 +07:00 [DBG] Connection id "0HNCSUJKACIJD" started.
2025-05-27 15:48:32.737 +07:00 [DBG] Connection 0HNCSUJKACIJD established using the following protocol: "Tls12"
2025-05-27 15:48:32.739 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:48:32.739 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:48:32.739 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:48:32.740 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:48:32.740 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:48:32.740 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:48:32.740 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:48:32.740 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:48:32.740 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:48:32.740 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:48:32.740 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:48:02 AM', Current time (UTC): '5/27/2025 8:48:32 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:48:32.740 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:48:02 AM', Current time (UTC): '5/27/2025 8:48:32 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:48:32.741 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:48:02 AM', Current time (UTC): '5/27/2025 8:48:32 AM'.
2025-05-27 15:48:32.741 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:48:02 AM', Current time (UTC): '5/27/2025 8:48:32 AM'.
2025-05-27 15:48:32.741 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:48:32.741 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:48:32.741 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:48:32.741 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:48:32.741 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:48:32.741 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:48:32.741 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:48:32.741 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:48:32.741 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:48:32.741 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:48:32.741 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:48:32.741 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:48:32.741 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:48:32.741 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:48:32.741 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:48:32.741 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:48:32.741 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:48:32.741 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:48:32.741 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:48:32.741 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:48:32.741 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:48:32.741 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:48:32.741 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:48:32.741 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:48:32.741 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:48:32.741 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:48:32.742 +07:00 [DBG] Connection id "0HNCSUJKACIJD", Request id "0HNCSUJKACIJD:00000003": started reading request body.
2025-05-27 15:48:32.742 +07:00 [DBG] Connection id "0HNCSUJKACIJD", Request id "0HNCSUJKACIJD:00000003": done reading request body.
2025-05-27 15:48:32.742 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:48:32.742 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:48:32.742 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:48:32.742 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:48:32.742 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:48:32.742 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:48:32.742 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:48:32.742 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:48:32.743 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:48:32.743 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:48:32.743 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:48:32.743 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:48:32.743 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:48:32.743 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:48:32.743 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:48:32.743 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:48:32.744 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:48:32.744 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:48:32.744 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:48:32.744 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:48:32.745 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:48:32.745 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:48:32.745 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:48:32.745 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:48:32.745 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:48:32.745 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:48:32.745 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:48:32.745 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:48:32.745 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.8612ms.
2025-05-27 15:48:32.745 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:48:32.745 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:48:32.745 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:48:32.745 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:48:32.745 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:48:32.745 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:48:32.745 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 4.2058ms
2025-05-27 15:48:32.745 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:48:32.745 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:48:32.745 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:48:32.745 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:48:32.746 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 6.3864ms
2025-05-27 15:48:32.848 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:48:32.848 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:48:32.848 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:48:32.848 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:48:32.848 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:48:32.851 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:48:32.851 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:48:32.851 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:48:32.851 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:48:32.851 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:48:32.851 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:48:32.851 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:48:32.851 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:48:32.851 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 109.2129ms.
2025-05-27 15:48:32.851 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:48:32.851 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:48:32.851 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:48:32.851 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:48:32.851 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:48:32.851 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:48:32.851 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 110.2089ms
2025-05-27 15:48:32.851 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:48:32.851 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:48:32.851 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:48:32.851 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:48:32.852 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 112.3609ms
2025-05-27 15:49:47.956 +07:00 [DBG] Connection id "0HNCSUJKACIJD" received FIN.
2025-05-27 15:49:47.956 +07:00 [DBG] Connection id "0HNCSUJKACIJD" is closed. The last processed stream ID was 3.
2025-05-27 15:49:47.956 +07:00 [DBG] Connection id "0HNCSUJKACIJD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:49:47.956 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJD completed.
2025-05-27 15:49:47.971 +07:00 [DBG] Connection id "0HNCSUJKACIJD" stopped.
2025-05-27 15:49:53.605 +07:00 [DBG] Connection id "0HNCSUJKACIJE" accepted.
2025-05-27 15:49:53.605 +07:00 [DBG] Connection id "0HNCSUJKACIJE" started.
2025-05-27 15:49:53.606 +07:00 [DBG] Connection 0HNCSUJKACIJE established using the following protocol: "Tls12"
2025-05-27 15:49:53.607 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:49:53.607 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:49:53.607 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:49:53.607 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:49:53.607 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:49:53.608 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:48:02 AM', Current time (UTC): '5/27/2025 8:49:53 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:49:53.608 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:48:02 AM', Current time (UTC): '5/27/2025 8:49:53 AM'.
2025-05-27 15:49:53.608 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:49:53.608 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:49:53.608 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:49:53.608 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:49:53.608 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:49:53.608 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:49:53.608 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:49:53.608 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:49:53.608 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:49:53.608 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:49:53.608 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:49:53.608 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:49:53.608 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:49:53.609 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:49:53.609 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:49:53.609 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:49:53.609 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:49:53.609 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:49:53.609 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:49:53.609 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:49:53.609 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:49:53.609 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:49:53.609 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:49:53.609 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:49:53.609 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:49:53.610 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:49:53.610 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:49:53.610 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:49:53.610 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:49:53.610 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:49:53.610 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.5343ms.
2025-05-27 15:49:53.610 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:49:53.610 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:49:53.610 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:49:53.610 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:49:53.610 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:49:53.610 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:49:53.610 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 1.7852ms
2025-05-27 15:49:53.610 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:49:53.610 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:49:53.610 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:49:53.610 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:49:53.610 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 2.8443ms
2025-05-27 15:50:22.769 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:50:22.769 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:50:22.769 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:50:22.769 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:50:22.770 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:50:22.770 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:48:02 AM', Current time (UTC): '5/27/2025 8:50:22 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:50:22.770 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:48:02 AM', Current time (UTC): '5/27/2025 8:50:22 AM'.
2025-05-27 15:50:22.770 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:50:22.770 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:50:22.770 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:50:22.770 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:50:22.770 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:50:22.770 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:50:22.770 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:50:22.770 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:50:22.770 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:50:22.770 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:50:22.770 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:50:22.770 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:50:22.771 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:50:22.771 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:50:22.771 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:50:22.771 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:22.771 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:22.771 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:50:22.771 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:50:22.771 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:50:22.771 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:50:22.772 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:50:22.772 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:22.772 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:22.772 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:22.772 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:22.772 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:22.772 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:50:22.772 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:22.772 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:50:22.772 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.6441ms.
2025-05-27 15:50:22.772 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:50:22.772 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:50:22.772 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:50:22.772 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:50:22.772 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:50:22.772 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:50:22.772 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 1.9069ms
2025-05-27 15:50:22.772 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:50:22.772 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:50:22.772 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:22.772 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:50:22.772 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 3.4064ms
2025-05-27 15:50:23.961 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:50:23.961 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:50:23.961 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:50:23.961 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:50:23.961 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:50:23.962 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:48:02 AM', Current time (UTC): '5/27/2025 8:50:23 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:50:23.962 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:48:02 AM', Current time (UTC): '5/27/2025 8:50:23 AM'.
2025-05-27 15:50:23.962 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:50:23.962 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:50:23.962 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:50:23.962 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:50:23.962 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:50:23.962 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:50:23.962 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:50:23.962 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:50:23.962 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:50:23.962 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:50:23.962 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:50:23.962 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:50:23.962 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:50:23.963 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:50:23.963 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:50:23.963 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:23.963 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:23.963 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:50:23.963 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:50:23.963 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:50:23.963 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:50:23.963 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:50:23.964 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:23.964 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:23.964 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:23.964 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:23.964 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:23.964 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:50:23.964 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:23.964 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:50:23.964 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.7188ms.
2025-05-27 15:50:23.964 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:50:23.964 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:50:23.964 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:50:23.964 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:50:23.964 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:50:23.964 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:50:23.964 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 1.9672ms
2025-05-27 15:50:23.964 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:50:23.964 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:50:23.964 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:23.964 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:50:23.964 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 3.5665ms
2025-05-27 15:50:28.171 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Create - application/json 104
2025-05-27 15:50:28.171 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Create'
2025-05-27 15:50:28.171 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)' with route pattern 'api/Category/Create' is valid for the request path '/api/Category/Create'
2025-05-27 15:50:28.171 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)'
2025-05-27 15:50:28.172 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:50:28.172 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:48:02 AM', Current time (UTC): '5/27/2025 8:50:28 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:50:28.172 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:48:02 AM', Current time (UTC): '5/27/2025 8:50:28 AM'.
2025-05-27 15:50:28.172 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:50:28.172 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:50:28.172 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)'
2025-05-27 15:50:28.175 +07:00 [INF] Route matched with {action = "Create", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.CategoryDto) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:50:28.175 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:50:28.175 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:50:28.175 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:50:28.175 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:50:28.175 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:50:28.175 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:50:28.175 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:50:28.175 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto' ...
2025-05-27 15:50:28.175 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto' using the name '' in request data ...
2025-05-27 15:50:28.175 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:50:28.176 +07:00 [DBG] Connection id "0HNCSUJKACIJE", Request id "0HNCSUJKACIJE:00000007": started reading request body.
2025-05-27 15:50:28.176 +07:00 [DBG] Connection id "0HNCSUJKACIJE", Request id "0HNCSUJKACIJE:00000007": done reading request body.
2025-05-27 15:50:28.178 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.CategoryDto'
2025-05-27 15:50:28.178 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-27 15:50:28.178 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-27 15:50:28.178 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.CategoryDto' ...
2025-05-27 15:50:28.179 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-27 15:50:28.179 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Create (Product.API) - Validation state: "Valid"
2025-05-27 15:50:28.182 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:50:28.197 +07:00 [DBG] 'ProductDBContext' generated a value for the property 'CategoryEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:28.201 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:28.203 +07:00 [DBG] SaveChanges starting for 'ProductDBContext'.
2025-05-27 15:50:28.206 +07:00 [DBG] DetectChanges starting for 'ProductDBContext'.
2025-05-27 15:50:28.214 +07:00 [DBG] DetectChanges completed for 'ProductDBContext'.
2025-05-27 15:50:28.215 +07:00 [DBG] DetectChanges starting for 'ProductDBContext'.
2025-05-27 15:50:28.216 +07:00 [DBG] The unchanged property 'CategoryEntity.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:50:28.218 +07:00 [DBG] The unchanged property 'CategoryEntity.CreatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:50:28.218 +07:00 [DBG] The unchanged property 'CategoryEntity.IsDeleted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:50:28.218 +07:00 [DBG] The unchanged property 'CategoryEntity.LastUpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:50:28.219 +07:00 [DBG] The unchanged property 'CategoryEntity.LastUpdatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:50:28.219 +07:00 [DBG] DetectChanges completed for 'ProductDBContext'.
2025-05-27 15:50:28.257 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:50:28.257 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:50:28.257 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:28.257 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:28.258 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:50:28.258 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:50:28.258 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:50:28.258 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("Id", "CreatedAt", "CreatedBy", "Description", "ImageUrl", "IsDeleted", "LastUpdatedAt", "LastUpdatedBy", "Name", "ParentId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-27 15:50:28.265 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("Id", "CreatedAt", "CreatedBy", "Description", "ImageUrl", "IsDeleted", "LastUpdatedAt", "LastUpdatedBy", "Name", "ParentId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-27 15:50:28.266 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:28.267 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-05-27 15:50:28.267 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:28.267 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:50:28.271 +07:00 [DBG] An entity of type 'CategoryEntity' tracked by 'ProductDBContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:28.272 +07:00 [DBG] SaveChanges completed for 'ProductDBContext' with 1 entities written to the database.
2025-05-27 15:50:28.273 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Create (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 93.3482ms.
2025-05-27 15:50:28.273 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:50:28.273 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:50:28.273 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:50:28.273 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:50:28.273 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:50:28.273 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Guid'.
2025-05-27 15:50:28.274 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Create (Product.API) in 99.0821ms
2025-05-27 15:50:28.274 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)'
2025-05-27 15:50:28.274 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:50:28.274 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:28.274 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:50:28.274 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Create - 200 null application/json; charset=utf-8 103.2777ms
2025-05-27 15:50:31.749 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:50:31.750 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:50:31.750 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:50:31.750 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:50:31.750 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:50:31.750 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:50:31.750 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:50:31.750 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:50:31.750 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:50:31.750 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:50:31.750 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:50:31.750 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:50:31.750 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:50:31.750 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:50:31.750 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:50:31.750 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:50:31.750 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:50:31.750 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:50:31.750 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:50:31.751 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:50:31.751 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:50:31.751 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:50:31.751 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.751 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.751 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:50:31.751 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:50:31.751 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:50:31.751 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:50:31.751 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:50:31.751 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:50:31.751 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:50:31.751 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:50:31.751 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:50:31.751 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:50:31.752 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:50:31.752 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:31.752 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:50:31.752 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:31.752 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:31.752 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:50:31.752 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:50:31.752 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:50:31.752 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:50:31.752 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:31.752 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:31.752 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.752 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:50:31.752 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:50:31.752 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:50:31.752 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.752 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:50:31.752 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:50:31.752 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:50:31.752 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:50:31.752 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:50:31.752 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:50:31.752 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.0644ms.
2025-05-27 15:50:31.752 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:50:31.752 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:50:31.752 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:50:31.752 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:50:31.752 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:50:31.752 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:50:31.752 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:50:31.752 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:50:31.753 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:50:31.753 +07:00 [DBG] Connection id "0HNCSUJKACIJE", Request id "0HNCSUJKACIJE:0000000B": started reading request body.
2025-05-27 15:50:31.753 +07:00 [DBG] Connection id "0HNCSUJKACIJE", Request id "0HNCSUJKACIJE:0000000B": done reading request body.
2025-05-27 15:50:31.753 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:50:31.753 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.4919ms
2025-05-27 15:50:31.753 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:50:31.753 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:50:31.753 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:50:31.753 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:50:31.753 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:50:31.753 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.753 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:50:31.753 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:50:31.753 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 3.4004ms
2025-05-27 15:50:31.753 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:50:31.753 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:50:31.753 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:50:31.753 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:50:31.753 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.753 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.753 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:50:31.753 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:50:31.753 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:50:31.753 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:50:31.754 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:50:31.754 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:31.754 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:31.754 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:31.754 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:31.754 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.755 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:50:31.755 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.755 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:50:31.755 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.9479ms.
2025-05-27 15:50:31.755 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:50:31.755 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:50:31.755 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:50:31.755 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:50:31.755 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:50:31.755 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:50:31.755 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 2.6964ms
2025-05-27 15:50:31.755 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:50:31.755 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:50:31.755 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.755 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:50:31.755 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 4.2326ms
2025-05-27 15:50:31.756 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:50:31.756 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:50:31.756 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:50:31.756 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:50:31.756 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:50:31.756 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:50:31.756 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:50:31.756 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:50:31.756 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:50:31.756 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:50:31.756 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:50:31.756 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:50:31.756 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:50:31.756 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:50:31.756 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:50:31.756 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:50:31.756 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:50:31.756 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:50:31.756 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:50:31.756 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:50:31.756 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:50:31.756 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:50:31.756 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.757 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.757 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:50:31.757 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:50:31.757 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:50:31.757 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:50:31.758 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:50:31.758 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:31.758 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:31.758 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:31.758 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:31.758 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:50:31.758 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.758 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:50:31.758 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.758 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:50:31.758 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.0029ms.
2025-05-27 15:50:31.759 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:50:31.759 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:50:31.759 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:50:31.759 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:50:31.759 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:50:31.759 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:50:31.759 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 3.0168ms
2025-05-27 15:50:31.759 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:50:31.760 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:50:31.760 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:50:31.760 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:50:31.760 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 4.4831ms
2025-05-27 15:51:36.833 +07:00 [DBG] Connection id "0HNCSUJKACIJE" received FIN.
2025-05-27 15:51:36.833 +07:00 [DBG] Connection id "0HNCSUJKACIJE" is closed. The last processed stream ID was 13.
2025-05-27 15:51:36.833 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJE completed.
2025-05-27 15:51:36.833 +07:00 [DBG] Connection id "0HNCSUJKACIJE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:51:36.848 +07:00 [DBG] Connection id "0HNCSUJKACIJE" stopped.
2025-05-27 15:52:02.946 +07:00 [DBG] Connection id "0HNCSUJKACIJF" accepted.
2025-05-27 15:52:02.946 +07:00 [DBG] Connection id "0HNCSUJKACIJF" started.
2025-05-27 15:52:02.953 +07:00 [DBG] Connection 0HNCSUJKACIJF established using the following protocol: "Tls12"
2025-05-27 15:52:02.956 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Create - application/json 113
2025-05-27 15:52:02.956 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Create'
2025-05-27 15:52:02.956 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)' with route pattern 'api/Category/Create' is valid for the request path '/api/Category/Create'
2025-05-27 15:52:02.956 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)'
2025-05-27 15:52:02.956 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:52:02.956 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:51:31 AM', Current time (UTC): '5/27/2025 8:52:02 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:52:02.957 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:51:31 AM', Current time (UTC): '5/27/2025 8:52:02 AM'.
2025-05-27 15:52:02.957 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:52:02.957 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:52:02.957 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)'
2025-05-27 15:52:02.957 +07:00 [INF] Route matched with {action = "Create", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.CategoryDto) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:52:02.957 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:52:02.957 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:52:02.957 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:52:02.957 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:52:02.957 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:52:02.957 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:52:02.957 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:52:02.957 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto' ...
2025-05-27 15:52:02.957 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto' using the name '' in request data ...
2025-05-27 15:52:02.957 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:52:02.957 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:00000001": started reading request body.
2025-05-27 15:52:02.957 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:00000001": done reading request body.
2025-05-27 15:52:02.957 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.CategoryDto'
2025-05-27 15:52:02.957 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-27 15:52:02.957 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-27 15:52:02.957 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.CategoryDto' ...
2025-05-27 15:52:02.957 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-27 15:52:02.957 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Create (Product.API) - Validation state: "Valid"
2025-05-27 15:52:02.959 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:52:02.959 +07:00 [DBG] 'ProductDBContext' generated a value for the property 'CategoryEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:02.960 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:02.960 +07:00 [DBG] SaveChanges starting for 'ProductDBContext'.
2025-05-27 15:52:02.960 +07:00 [DBG] DetectChanges starting for 'ProductDBContext'.
2025-05-27 15:52:02.960 +07:00 [DBG] DetectChanges completed for 'ProductDBContext'.
2025-05-27 15:52:02.960 +07:00 [DBG] DetectChanges starting for 'ProductDBContext'.
2025-05-27 15:52:02.960 +07:00 [DBG] The unchanged property 'CategoryEntity.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:52:02.960 +07:00 [DBG] The unchanged property 'CategoryEntity.CreatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:52:02.960 +07:00 [DBG] The unchanged property 'CategoryEntity.IsDeleted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:52:02.960 +07:00 [DBG] The unchanged property 'CategoryEntity.LastUpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:52:02.960 +07:00 [DBG] The unchanged property 'CategoryEntity.LastUpdatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:52:02.960 +07:00 [DBG] DetectChanges completed for 'ProductDBContext'.
2025-05-27 15:52:02.961 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:52:02.961 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:52:02.961 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:02.961 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:02.961 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:52:02.961 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:52:02.961 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:52:02.961 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("Id", "CreatedAt", "CreatedBy", "Description", "ImageUrl", "IsDeleted", "LastUpdatedAt", "LastUpdatedBy", "Name", "ParentId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-27 15:52:02.971 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("Id", "CreatedAt", "CreatedBy", "Description", "ImageUrl", "IsDeleted", "LastUpdatedAt", "LastUpdatedBy", "Name", "ParentId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-27 15:52:02.971 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:02.971 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:52:02.971 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:02.971 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:52:02.972 +07:00 [DBG] An entity of type 'CategoryEntity' tracked by 'ProductDBContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:02.972 +07:00 [DBG] SaveChanges completed for 'ProductDBContext' with 1 entities written to the database.
2025-05-27 15:52:02.972 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Create (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14.3917ms.
2025-05-27 15:52:02.972 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:52:02.972 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:52:02.972 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:52:02.972 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:52:02.972 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:52:02.972 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Guid'.
2025-05-27 15:52:02.972 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Create (Product.API) in 15.1369ms
2025-05-27 15:52:02.972 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)'
2025-05-27 15:52:02.972 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:52:02.972 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:02.972 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:52:02.972 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Create - 200 null application/json; charset=utf-8 16.064ms
2025-05-27 15:52:05.578 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:52:05.578 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:52:05.578 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:52:05.578 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:52:05.578 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:52:05.578 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:52:05.578 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:52:05.578 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:52:05.578 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:52:05.578 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:52:05.578 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:52:05.578 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:52:05.578 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:52:05.578 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:52:05.578 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:52:05.578 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:52:05.578 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:52:05.578 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:52:05.579 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:52:05.579 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:52:05.579 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:52:05.579 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:52:05.579 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:52:05.579 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:52:05.579 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:52:05.579 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:52:05.579 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:52:05.579 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:52:05.579 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:52:05.579 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:52:05.579 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:52:05.579 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:52:05.579 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:52:05.579 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:52:05.579 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:52:05.579 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:52:05.579 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:52:05.579 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:52:05.579 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:52:05.579 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:52:05.579 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:52:05.579 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:52:05.579 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.579 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:52:05.579 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.580 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:52:05.580 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:52:05.580 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:00000005": started reading request body.
2025-05-27 15:52:05.580 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:52:05.580 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:00000005": done reading request body.
2025-05-27 15:52:05.580 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:52:05.580 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:52:05.580 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:52:05.580 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:52:05.580 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:52:05.580 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:52:05.580 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:52:05.580 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:52:05.580 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.580 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:52:05.580 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.580 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.580 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.580 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.580 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.580 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.581 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:52:05.581 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.581 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:52:05.581 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.7454ms.
2025-05-27 15:52:05.581 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:52:05.581 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:52:05.581 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:52:05.581 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:52:05.581 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:52:05.581 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:52:05.581 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.581 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.581 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:52:05.581 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:52:05.581 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:52:05.581 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:52:05.581 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:52:05.581 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:52:05.581 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.5568ms
2025-05-27 15:52:05.581 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:52:05.581 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:52:05.581 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.581 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:52:05.581 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 4.8909ms
2025-05-27 15:52:05.582 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:52:05.582 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.583 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.583 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.583 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.583 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.583 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.583 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:52:05.583 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.583 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:52:05.583 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.1507ms.
2025-05-27 15:52:05.583 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:52:05.583 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:52:05.583 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:52:05.583 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:52:05.583 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:52:05.583 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:52:05.583 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 4.3174ms
2025-05-27 15:52:05.583 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:52:05.583 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:52:05.583 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.583 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:52:05.583 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 5.4495ms
2025-05-27 15:52:05.586 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:52:05.586 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:52:05.586 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:52:05.586 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:52:05.586 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:52:05.587 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:52:05.587 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:52:05.587 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:52:05.587 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:52:05.587 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:52:05.587 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:52:05.587 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:52:05.587 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:52:05.587 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:52:05.587 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:52:05.587 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:52:05.587 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:52:05.587 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:52:05.587 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:52:05.588 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:52:05.588 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:52:05.588 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:52:05.588 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.588 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.588 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:52:05.588 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:52:05.588 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:52:05.588 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:52:05.589 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:52:05.589 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.589 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.589 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.589 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.589 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.589 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:05.589 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.589 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:52:05.589 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.589 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:52:05.589 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.1542ms.
2025-05-27 15:52:05.589 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:52:05.589 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:52:05.589 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:52:05.589 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:52:05.589 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:52:05.589 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:52:05.589 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.5005ms
2025-05-27 15:52:05.589 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:52:05.589 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:52:05.589 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:05.589 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:52:05.590 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 3.3571ms
2025-05-27 15:52:20.434 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:52:20.434 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:52:20.434 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:52:20.434 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:52:20.434 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:52:20.434 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:52:20.434 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:52:20.434 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:52:20.434 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:52:20.434 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:52:20.435 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:52:20.435 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:52:20.435 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:52:20.435 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:52:20.435 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:52:20.435 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:52:20.435 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:52:20.435 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:52:20.435 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:52:20.435 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:52:20.435 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:52:20.435 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:00000009": started reading request body.
2025-05-27 15:52:20.435 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:00000009": done reading request body.
2025-05-27 15:52:20.435 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:52:20.435 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:52:20.435 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:52:20.435 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:52:20.436 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:52:20.436 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:52:20.437 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:52:20.439 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:52:20.439 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:52:20.439 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:20.439 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:20.439 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:52:20.439 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:52:20.439 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:52:20.439 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:52:20.441 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:52:20.441 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:20.441 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:20.441 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:20.441 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:20.441 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:20.441 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:20.441 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:52:20.441 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:20.441 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:52:20.441 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5.5664ms.
2025-05-27 15:52:20.441 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:52:20.441 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:52:20.441 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:52:20.442 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:52:20.442 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:52:20.442 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:52:20.442 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 6.831ms
2025-05-27 15:52:20.442 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:52:20.442 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:52:20.442 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:20.442 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:52:20.442 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 8.2618ms
2025-05-27 15:52:55.290 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:52:55.290 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:52:55.290 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:52:55.290 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:52:55.290 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:52:55.290 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:52:55.290 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:52:55.290 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:52:55.290 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:52:55.290 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:52:55.290 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:52:55.290 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:52:55.290 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:52:55.290 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:52:55.290 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:52:55.290 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:52:55.290 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:52:55.290 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:52:55.290 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:52:55.291 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:52:55.291 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:52:55.291 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:52:55.291 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:55.355 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:55.355 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:52:55.355 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:52:55.355 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:52:55.355 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:52:55.357 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:52:55.357 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:55.357 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:55.357 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:55.357 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:55.357 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:55.357 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:55.357 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:55.357 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:52:55.357 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:55.357 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:52:55.357 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 67.1031ms.
2025-05-27 15:52:55.357 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:52:55.357 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:52:55.357 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:52:55.357 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:52:55.357 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:52:55.358 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:52:55.358 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 67.4062ms
2025-05-27 15:52:55.358 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:52:55.358 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:52:55.358 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:55.358 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:52:55.358 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 68.1043ms
2025-05-27 15:52:55.426 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:52:55.426 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:52:55.426 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:52:55.426 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:52:55.426 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:52:55.427 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:52:55.427 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:52:55.427 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:52:55.427 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:52:55.427 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:52:55.427 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:52:55.427 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:52:55.427 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:52:55.427 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:52:55.427 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:52:55.427 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:52:55.427 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:52:55.427 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:52:55.427 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:52:55.427 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:52:55.427 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:52:55.427 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:0000000D": started reading request body.
2025-05-27 15:52:55.427 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:0000000D": done reading request body.
2025-05-27 15:52:55.427 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:52:55.427 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:52:55.427 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:52:55.427 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:52:55.428 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:52:55.428 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:52:55.428 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:52:55.428 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:52:55.428 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:52:55.428 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:55.428 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:55.428 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:52:55.428 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:52:55.428 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:52:55.428 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:52:55.430 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:52:55.430 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:55.430 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:55.430 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:55.430 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:55.430 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:52:55.430 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:55.430 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:52:55.430 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:55.430 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:52:55.431 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.9597ms.
2025-05-27 15:52:55.431 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:52:55.431 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:52:55.431 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:52:55.431 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:52:55.431 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:52:55.431 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:52:55.431 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 3.7334ms
2025-05-27 15:52:55.431 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:52:55.431 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:52:55.431 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:52:55.431 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:52:55.431 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 4.8655ms
2025-05-27 15:53:05.747 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Create - application/json 103
2025-05-27 15:53:05.747 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Create'
2025-05-27 15:53:05.747 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)' with route pattern 'api/Category/Create' is valid for the request path '/api/Category/Create'
2025-05-27 15:53:05.747 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)'
2025-05-27 15:53:05.747 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:53:05.748 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:53:05 AM', Current time (UTC): '5/27/2025 8:53:05 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:53:05.748 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:53:05 AM', Current time (UTC): '5/27/2025 8:53:05 AM'.
2025-05-27 15:53:05.748 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:53:05.748 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:53:05.748 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)'
2025-05-27 15:53:05.748 +07:00 [INF] Route matched with {action = "Create", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.CategoryDto) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:53:05.748 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:53:05.748 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:53:05.748 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:53:05.748 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:53:05.748 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:53:05.748 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:05.748 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:05.748 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto' ...
2025-05-27 15:53:05.748 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto' using the name '' in request data ...
2025-05-27 15:53:05.748 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:53:05.748 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:0000000F": started reading request body.
2025-05-27 15:53:05.748 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:0000000F": done reading request body.
2025-05-27 15:53:05.748 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.CategoryDto'
2025-05-27 15:53:05.748 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-27 15:53:05.748 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-27 15:53:05.748 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.CategoryDto' ...
2025-05-27 15:53:05.748 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-27 15:53:05.748 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Create (Product.API) - Validation state: "Valid"
2025-05-27 15:53:05.750 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:53:05.750 +07:00 [DBG] 'ProductDBContext' generated a value for the property 'CategoryEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:05.750 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:05.750 +07:00 [DBG] SaveChanges starting for 'ProductDBContext'.
2025-05-27 15:53:05.750 +07:00 [DBG] DetectChanges starting for 'ProductDBContext'.
2025-05-27 15:53:05.750 +07:00 [DBG] DetectChanges completed for 'ProductDBContext'.
2025-05-27 15:53:05.750 +07:00 [DBG] DetectChanges starting for 'ProductDBContext'.
2025-05-27 15:53:05.750 +07:00 [DBG] The unchanged property 'CategoryEntity.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:53:05.750 +07:00 [DBG] The unchanged property 'CategoryEntity.CreatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:53:05.750 +07:00 [DBG] The unchanged property 'CategoryEntity.IsDeleted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:53:05.750 +07:00 [DBG] The unchanged property 'CategoryEntity.LastUpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:53:05.750 +07:00 [DBG] The unchanged property 'CategoryEntity.LastUpdatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-27 15:53:05.750 +07:00 [DBG] DetectChanges completed for 'ProductDBContext'.
2025-05-27 15:53:05.751 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:53:05.751 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:53:05.751 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:05.751 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:05.751 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:53:05.751 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:05.751 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:05.751 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("Id", "CreatedAt", "CreatedBy", "Description", "ImageUrl", "IsDeleted", "LastUpdatedAt", "LastUpdatedBy", "Name", "ParentId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-27 15:53:05.755 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("Id", "CreatedAt", "CreatedBy", "Description", "ImageUrl", "IsDeleted", "LastUpdatedAt", "LastUpdatedBy", "Name", "ParentId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-27 15:53:05.755 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:05.755 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:53:05.755 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:05.755 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:05.755 +07:00 [DBG] An entity of type 'CategoryEntity' tracked by 'ProductDBContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:05.755 +07:00 [DBG] SaveChanges completed for 'ProductDBContext' with 1 entities written to the database.
2025-05-27 15:53:05.755 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Create (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.5618ms.
2025-05-27 15:53:05.755 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:53:05.755 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:53:05.755 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:53:05.755 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:53:05.755 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:53:05.755 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Guid'.
2025-05-27 15:53:05.755 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Create (Product.API) in 7.043ms
2025-05-27 15:53:05.755 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)'
2025-05-27 15:53:05.755 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:53:05.755 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:05.755 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:05.755 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Create - 200 null application/json; charset=utf-8 8.1128ms
2025-05-27 15:53:10.607 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:53:10.607 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:53:10.607 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:53:10.607 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:53:10.607 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:53:10.608 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:53:05 AM', Current time (UTC): '5/27/2025 8:53:10 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:53:10.608 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:53:05 AM', Current time (UTC): '5/27/2025 8:53:10 AM'.
2025-05-27 15:53:10.608 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:53:10.608 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:53:10.608 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:53:10.608 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:53:10.608 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:53:10.608 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:53:10.608 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:53:10.608 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:53:10.608 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:53:10.608 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:10.608 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:10.608 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:53:10.608 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:53:10.608 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:53:10.608 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:00000011": started reading request body.
2025-05-27 15:53:10.608 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:00000011": done reading request body.
2025-05-27 15:53:10.608 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:53:10.608 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:53:10.608 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:53:10.608 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:53:10.608 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:53:10.608 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:53:10.609 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:53:10.609 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:53:10.609 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:53:10.609 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:10.609 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:10.609 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:53:10.609 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:10.609 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:10.609 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:53:10.610 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:53:10.610 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:10.610 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:10.610 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:10.610 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:10.610 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:10.610 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:10.610 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:10.610 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:53:10.610 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:10.610 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:10.610 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.2002ms.
2025-05-27 15:53:10.611 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:53:10.611 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:53:10.611 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:53:10.611 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:53:10.611 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:53:10.611 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:53:10.611 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 2.7946ms
2025-05-27 15:53:10.611 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:53:10.611 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:53:10.611 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:10.611 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:10.611 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 3.8359ms
2025-05-27 15:53:12.868 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:53:12.868 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:53:12.868 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:53:12.868 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:53:12.868 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:53:12.868 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:53:12.868 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:53:12.868 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:53:12.868 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:53:12.869 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:53:12.869 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:53:12.869 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:53:12.869 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:53:12.869 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:53:12.869 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:53:12.869 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:53:12.869 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:53:12.869 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:53:12.869 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:53:12.869 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:53:12.869 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:53:12.869 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:53:12.869 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:53:12.869 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:53:12.869 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:53:12.869 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:53:12.869 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:53:12.869 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:53:12.869 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:53:12.869 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:53:12.869 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:53:12.869 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:12.869 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:53:12.869 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:12.869 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:12.869 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:12.869 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:53:12.869 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:53:12.869 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:53:12.869 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:53:12.869 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:00000013": started reading request body.
2025-05-27 15:53:12.869 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:00000013": done reading request body.
2025-05-27 15:53:12.869 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:53:12.869 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:53:12.869 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:53:12.869 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:53:12.870 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:53:12.870 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:53:12.870 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:53:12.870 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:53:12.870 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:53:12.870 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.870 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:53:12.870 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.870 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:53:12.870 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:12.870 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:12.870 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:53:12.870 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:53:12.870 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:53:12.870 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.871 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:53:12.871 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.871 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.871 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.871 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.872 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.872 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.872 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.872 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.872 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-05-27 15:53:12.872 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.872 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:12.872 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.7974ms.
2025-05-27 15:53:12.872 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:53:12.872 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:53:12.872 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:53:12.872 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:53:12.872 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:53:12.872 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:53:12.872 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 3.0928ms
2025-05-27 15:53:12.872 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:53:12.872 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:53:12.872 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.872 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:12.872 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 4.2142ms
2025-05-27 15:53:12.878 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:53:12.878 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:53:12.878 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:53:12.878 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:53:12.878 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:53:12.879 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:53:12.879 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:53:12.879 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:53:12.879 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:53:12.879 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:53:12.879 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:53:12.879 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:53:12.879 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:53:12.879 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:53:12.879 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:53:12.879 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:53:12.879 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:12.879 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:12.879 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:53:12.880 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:53:12.880 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:53:12.880 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:53:12.880 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.880 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.880 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:53:12.880 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:12.880 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:12.880 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:53:12.881 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:53:12.881 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.881 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.881 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.881 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.881 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.881 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.881 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.881 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.881 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:53:12.881 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.881 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:12.881 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.0533ms.
2025-05-27 15:53:12.881 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:53:12.881 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:53:12.881 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:53:12.881 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:53:12.881 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:53:12.881 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:53:12.881 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.3121ms
2025-05-27 15:53:12.881 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:53:12.881 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:53:12.881 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.881 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:12.881 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 3.2237ms
2025-05-27 15:53:12.950 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.951 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:53:12.951 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:12.951 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:12.951 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:53:12.955 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:53:12.955 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.955 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.955 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.955 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.955 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.955 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:12.955 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.955 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:53:12.955 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.955 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:12.955 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 85.544ms.
2025-05-27 15:53:12.955 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:53:12.955 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:53:12.955 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:53:12.955 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:53:12.955 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:53:12.955 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:53:12.956 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 87.1093ms
2025-05-27 15:53:12.956 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:53:12.956 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:53:12.956 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:12.956 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:12.956 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 499 null application/json; charset=utf-8 88.3145ms
2025-05-27 15:53:20.143 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:53:20.144 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:53:20.144 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:53:20.144 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:53:20.144 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:53:20.144 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:53:20.144 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:53:20.144 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:53:20.145 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:53:20.145 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:53:20.145 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:53:20.145 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:53:20.145 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:53:20.145 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:53:20.145 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:53:20.145 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:53:20.145 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:53:20.145 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:53:20.145 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:53:20.145 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:53:20.145 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:53:20.145 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:53:20.145 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:53:20.145 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:53:20.145 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:53:20.145 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:53:20.145 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:53:20.145 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:53:20.145 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:53:20.145 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:20.145 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:20.145 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:53:20.145 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:53:20.145 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:53:20.145 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:53:20.145 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:20.145 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:20.146 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:53:20.146 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:53:20.146 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:53:20.146 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:0000001B": started reading request body.
2025-05-27 15:53:20.146 +07:00 [DBG] Connection id "0HNCSUJKACIJF", Request id "0HNCSUJKACIJF:0000001B": done reading request body.
2025-05-27 15:53:20.146 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:53:20.146 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:53:20.146 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:53:20.146 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:53:20.146 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:53:20.146 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:53:20.146 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:53:20.146 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:53:20.146 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:53:20.146 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.146 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.146 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:53:20.146 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:20.146 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:20.146 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:53:20.146 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:53:20.146 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:53:20.146 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:53:20.146 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.146 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.146 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:53:20.146 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:53:20.147 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:20.147 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:20.147 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:53:20.147 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.147 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.147 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.147 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.147 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.147 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.147 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.147 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.147 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:53:20.147 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.147 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:20.147 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.7819ms.
2025-05-27 15:53:20.147 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:53:20.147 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:53:20.147 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:53:20.147 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:53:20.147 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:53:20.147 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:53:20.147 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.0649ms
2025-05-27 15:53:20.147 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:53:20.147 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:53:20.147 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.147 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:20.147 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 4.3877ms
2025-05-27 15:53:20.148 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:53:20.148 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.148 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.148 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.148 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.148 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.148 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.148 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.148 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:53:20.148 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.148 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:20.148 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.1911ms.
2025-05-27 15:53:20.148 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:53:20.148 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:53:20.148 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:53:20.148 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:53:20.148 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:53:20.148 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:53:20.148 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 2.7679ms
2025-05-27 15:53:20.148 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:53:20.148 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:53:20.148 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.148 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:20.148 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 4.0651ms
2025-05-27 15:53:20.151 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:53:20.151 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:53:20.151 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:53:20.151 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:53:20.151 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:53:20.152 +07:00 [DBG] Successfully validated the token.
2025-05-27 15:53:20.152 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 15:53:20.152 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:53:20.152 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:53:20.152 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:53:20.152 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:53:20.152 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:53:20.152 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:53:20.152 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:53:20.152 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:53:20.152 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:53:20.152 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:20.152 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:53:20.152 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:53:20.152 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:53:20.152 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:53:20.152 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:53:20.152 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.152 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.152 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:53:20.152 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:20.152 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:53:20.152 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:53:20.153 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:53:20.153 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.153 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.153 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.153 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.153 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.153 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.153 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:53:20.153 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.153 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:53:20.153 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.153 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:20.153 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.1786ms.
2025-05-27 15:53:20.153 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:53:20.153 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:53:20.153 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:53:20.153 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:53:20.153 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:53:20.153 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:53:20.153 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 1.4424ms
2025-05-27 15:53:20.153 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:53:20.154 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:53:20.154 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:53:20.154 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:53:20.154 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 2.4351ms
2025-05-27 15:54:35.274 +07:00 [DBG] Connection id "0HNCSUJKACIJF" received FIN.
2025-05-27 15:54:35.274 +07:00 [DBG] Connection id "0HNCSUJKACIJF" is closed. The last processed stream ID was 29.
2025-05-27 15:54:35.274 +07:00 [DBG] Connection id "0HNCSUJKACIJF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:54:35.274 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJF completed.
2025-05-27 15:54:35.275 +07:00 [DBG] Connection id "0HNCSUJKACIJF" stopped.
2025-05-27 15:55:16.482 +07:00 [DBG] Connection id "0HNCSUJKACIJG" accepted.
2025-05-27 15:55:16.483 +07:00 [DBG] Connection id "0HNCSUJKACIJG" started.
2025-05-27 15:55:16.490 +07:00 [DBG] Connection 0HNCSUJKACIJG established using the following protocol: "Tls12"
2025-05-27 15:55:16.495 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-05-27 15:55:16.495 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 15:55:16.495 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 15:55:16.495 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:16.495 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:55:16.495 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-05-27 15:55:16.496 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 15:55:16.496 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 15:55:16.496 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:16.496 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:55:16.496 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:16 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:55:16.497 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:16 AM'.
2025-05-27 15:55:16.497 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:55:16.497 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:55:16.498 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:16.498 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 15:55:16.498 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:55:16.498 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:55:16.498 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:55:16.498 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:55:16.498 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:55:16.498 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:55:16.498 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:55:16.498 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:16.498 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:55:16.498 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:55:16.498 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:00000003": started reading request body.
2025-05-27 15:55:16.499 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:16 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:55:16.499 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:16 AM'.
2025-05-27 15:55:16.499 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:55:16.499 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:55:16.499 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:16.499 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 15:55:16.499 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:55:16.499 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:55:16.499 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:55:16.499 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:55:16.499 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:55:16.499 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:55:16.499 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:55:16.499 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:16.499 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:55:16.499 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:55:16.499 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:00000001": started reading request body.
2025-05-27 15:55:16.499 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:00000001": done reading request body.
2025-05-27 15:55:16.499 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:55:16.499 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:16.499 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:16.499 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:16.499 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:16.500 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:55:16.500 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:55:16.501 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:55:16.501 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:55:16.501 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:16.501 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:16.501 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:55:16.501 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:16.501 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:16.501 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:55:16.502 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:00000003": done reading request body.
2025-05-27 15:55:16.505 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:55:16.506 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:16.506 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:16.506 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:16.506 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:16.508 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:55:16.509 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:16.509 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:55:16.509 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:16.509 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:16.509 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.1771ms.
2025-05-27 15:55:16.509 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:55:16.509 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:55:16.509 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:55:16.509 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:55:16.509 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:55:16.509 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:55:16.509 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 9.9338ms
2025-05-27 15:55:16.509 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:16.509 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:55:16.509 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:16.509 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:16.509 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 14.5823ms
2025-05-27 15:55:16.509 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:55:16.510 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:55:16.510 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:55:16.510 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:55:16.510 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:16.510 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:16.510 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:55:16.510 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:16.510 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:16.510 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:55:16.515 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:55:16.516 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:16.516 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:55:16.516 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:16.516 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:16.516 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.2726ms.
2025-05-27 15:55:16.516 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:55:16.516 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:55:16.516 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:55:16.516 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:55:16.516 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:55:16.516 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:55:16.516 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 17.999ms
2025-05-27 15:55:16.516 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:16.516 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:55:16.516 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:16.516 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:16.516 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 20.9245ms
2025-05-27 15:55:17.020 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:55:17.020 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:55:17.020 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:55:17.020 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:55:17.020 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:55:17.021 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:17 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:55:17.021 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:17 AM'.
2025-05-27 15:55:17.021 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:55:17.021 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:55:17.021 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:55:17.021 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:55:17.021 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:55:17.021 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:55:17.021 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:55:17.021 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:55:17.021 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:55:17.021 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:55:17.021 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:55:17.021 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:55:17.021 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:55:17.021 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:55:17.022 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:55:17.022 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:55:17.022 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:55:17.022 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:55:17.022 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:55:17.022 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:55:17.022 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.022 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.022 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:55:17.022 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:17.022 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:17.022 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:55:17.022 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:17 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:55:17.022 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:17 AM'.
2025-05-27 15:55:17.022 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:55:17.022 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:55:17.022 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:55:17.022 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:55:17.022 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:55:17.022 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:55:17.022 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:55:17.022 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:55:17.022 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:55:17.022 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:55:17.023 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:55:17.023 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:55:17.023 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.023 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:17.023 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.023 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:55:17.023 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.023 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:55:17.023 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.023 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.023 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:00000007": started reading request body.
2025-05-27 15:55:17.023 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.023 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:00000007": done reading request body.
2025-05-27 15:55:17.023 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.023 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.023 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:55:17.023 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:55:17.023 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:17.023 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.023 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:17.023 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:17.023 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:17.023 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:17.023 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:55:17.023 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.7991ms.
2025-05-27 15:55:17.023 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:55:17.023 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:55:17.023 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:55:17.023 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:55:17.023 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:55:17.023 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:55:17.023 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.1401ms
2025-05-27 15:55:17.023 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:55:17.023 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:55:17.023 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.023 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:17.023 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 3.6004ms
2025-05-27 15:55:17.023 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:55:17.024 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:55:17.024 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:55:17.024 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.024 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.024 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:55:17.024 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:17.024 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:17.024 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:55:17.025 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:55:17.025 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.025 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.026 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.026 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.026 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.026 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.026 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.026 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-05-27 15:55:17.026 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.026 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:17.026 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.3836ms.
2025-05-27 15:55:17.027 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:55:17.027 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:55:17.027 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:55:17.027 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:55:17.027 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:55:17.027 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:55:17.027 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 4.2069ms
2025-05-27 15:55:17.027 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:55:17.027 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:55:17.027 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.027 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:17.027 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 5.4278ms
2025-05-27 15:55:17.027 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:55:17.027 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:55:17.027 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:55:17.027 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:55:17.027 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:55:17.027 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:17 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:55:17.028 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:17 AM'.
2025-05-27 15:55:17.028 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:55:17.028 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:55:17.028 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:55:17.028 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:55:17.028 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:55:17.028 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:55:17.028 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:55:17.028 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:55:17.028 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:55:17.028 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:55:17.028 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:55:17.028 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:55:17.028 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:55:17.028 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:55:17.028 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:55:17.028 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.028 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.029 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:55:17.029 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:17.029 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:17.029 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:55:17.029 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:55:17.029 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.029 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.029 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.029 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.029 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.029 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.029 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:17.029 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.029 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:55:17.029 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.029 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:17.029 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.4392ms.
2025-05-27 15:55:17.030 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:55:17.030 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:55:17.030 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:55:17.030 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:55:17.030 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:55:17.030 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:55:17.030 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 1.7814ms
2025-05-27 15:55:17.030 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:55:17.030 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:55:17.030 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.030 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:17.030 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 2.9163ms
2025-05-27 15:55:17.931 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-05-27 15:55:17.931 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-05-27 15:55:17.931 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 15:55:17.932 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 15:55:17.932 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 15:55:17.932 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:17.932 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 15:55:17.932 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:17.932 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:55:17.932 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:55:17.932 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:17 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:55:17.932 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:17 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:55:17.932 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:17 AM'.
2025-05-27 15:55:17.932 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:17 AM'.
2025-05-27 15:55:17.933 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:55:17.933 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:55:17.933 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:55:17.933 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:17.933 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:55:17.934 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:17.934 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 15:55:17.934 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 15:55:17.934 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:55:17.934 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:55:17.934 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:55:17.934 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:55:17.934 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:55:17.934 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:55:17.934 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:55:17.934 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:55:17.934 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:55:17.934 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:55:17.934 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:55:17.934 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:55:17.934 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:55:17.934 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:55:17.934 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:17.934 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:17.934 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:55:17.934 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:55:17.934 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:55:17.934 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:55:17.934 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:0000000D": started reading request body.
2025-05-27 15:55:17.934 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:0000000B": started reading request body.
2025-05-27 15:55:17.934 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:0000000D": done reading request body.
2025-05-27 15:55:17.934 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:0000000B": done reading request body.
2025-05-27 15:55:17.934 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:55:17.934 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:55:17.934 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:17.934 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:17.934 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:17.934 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:17.934 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:17.934 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:17.934 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:17.934 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:17.934 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:55:17.934 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:55:17.935 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:55:17.935 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:55:17.935 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:55:17.935 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:55:17.935 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.935 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.935 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:55:17.935 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:17.935 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:17.935 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:55:17.935 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:55:17.935 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:55:17.935 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.935 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.935 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:55:17.935 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:17.935 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:17.935 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:55:17.936 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:55:17.936 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:55:17.936 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.936 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:55:17.936 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.936 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.936 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:17.936 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:55:17.936 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.936 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.7275ms.
2025-05-27 15:55:17.936 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:17.936 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:55:17.936 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.7872ms.
2025-05-27 15:55:17.936 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:55:17.936 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:55:17.936 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:55:17.936 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:55:17.936 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:55:17.936 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:55:17.936 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:55:17.936 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:55:17.936 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:55:17.936 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:55:17.936 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:55:17.936 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 2.5279ms
2025-05-27 15:55:17.936 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 2.5478ms
2025-05-27 15:55:17.936 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:17.936 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:17.936 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:55:17.936 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:55:17.936 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.936 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:17.936 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:17.936 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:17.936 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 5.1806ms
2025-05-27 15:55:17.936 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 5.1759ms
2025-05-27 15:55:21.479 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:55:21.479 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:55:21.479 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:55:21.479 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:55:21.479 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 15:55:21.480 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:55:21.480 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 15:55:21.480 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 15:55:21.480 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:55:21.480 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:55:21.480 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:21 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:55:21.480 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:21 AM'.
2025-05-27 15:55:21.480 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:55:21.480 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:55:21.480 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:55:21.480 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:55:21.480 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:55:21.480 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:55:21.480 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:55:21.480 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:55:21.480 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:55:21.480 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:55:21.480 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:55:21.480 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:21 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:55:21.480 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:21 AM'.
2025-05-27 15:55:21.480 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:55:21.480 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:55:21.480 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:55:21.480 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:55:21.480 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:55:21.480 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:55:21.480 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:55:21.480 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:55:21.481 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:55:21.481 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:55:21.481 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:55:21.481 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:55:21.481 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:21.481 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:55:21.481 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:55:21.481 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:00000011": started reading request body.
2025-05-27 15:55:21.481 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:00000011": done reading request body.
2025-05-27 15:55:21.481 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:55:21.481 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:21.481 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:21.481 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:55:21.481 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:21.481 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:55:21.481 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:55:21.481 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.481 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.481 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:55:21.481 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:21.481 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:21.481 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:21.481 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:55:21.481 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:55:21.481 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:55:21.482 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:55:21.482 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.482 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:55:21.482 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:55:21.482 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.482 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.482 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.482 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.482 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.482 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:55:21.482 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:21.482 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:21.482 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:55:21.482 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.482 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.482 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.482 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.482 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:55:21.482 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.482 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:21.482 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.7503ms.
2025-05-27 15:55:21.482 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:55:21.482 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:55:21.482 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:55:21.482 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:55:21.482 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:55:21.482 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:55:21.482 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.1753ms
2025-05-27 15:55:21.482 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:55:21.482 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:55:21.482 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.482 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:21.482 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 3.21ms
2025-05-27 15:55:21.484 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 15:55:21.484 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.484 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.484 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.484 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.484 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.484 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.484 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.484 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:55:21.484 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.484 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:21.484 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.2524ms.
2025-05-27 15:55:21.484 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:55:21.484 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:55:21.484 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:55:21.484 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:55:21.484 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:55:21.484 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:55:21.484 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 3.872ms
2025-05-27 15:55:21.484 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 15:55:21.484 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:55:21.484 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.484 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:21.484 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 5.1043ms
2025-05-27 15:55:21.486 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 15:55:21.486 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 15:55:21.486 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 15:55:21.486 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:55:21.486 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:55:21.487 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:21 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:55:21.487 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:21 AM'.
2025-05-27 15:55:21.487 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:55:21.487 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:55:21.487 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:55:21.487 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 15:55:21.487 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:55:21.487 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:55:21.487 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:55:21.487 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:55:21.487 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:55:21.487 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:55:21.487 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 15:55:21.487 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 15:55:21.487 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:55:21.488 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:55:21.488 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:55:21.488 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.488 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.488 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:55:21.488 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:21.488 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:21.488 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:55:21.488 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 15:55:21.489 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.489 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.489 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.489 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.489 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.489 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.489 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 15:55:21.489 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.489 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:55:21.489 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.489 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:21.489 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.8113ms.
2025-05-27 15:55:21.489 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:55:21.489 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:55:21.489 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:55:21.489 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:55:21.489 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:55:21.489 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:55:21.489 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.0129ms
2025-05-27 15:55:21.489 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 15:55:21.489 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:55:21.489 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:21.489 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:21.489 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 2.977ms
2025-05-27 15:55:22.051 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-05-27 15:55:22.052 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 15:55:22.052 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 15:55:22.052 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:22.052 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:55:22.052 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-05-27 15:55:22.052 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:22 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:55:22.052 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 15:55:22.052 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 15:55:22.052 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:22.052 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 15:55:22.052 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:22 AM'.
2025-05-27 15:55:22.052 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:22 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 15:55:22.052 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 8:54:18 AM', Current time (UTC): '5/27/2025 8:55:22 AM'.
2025-05-27 15:55:22.052 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:55:22.052 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 15:55:22.052 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:55:22.052 +07:00 [INF] CORS policy execution successful.
2025-05-27 15:55:22.052 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:22.052 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:22.052 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 15:55:22.052 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 15:55:22.052 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:55:22.052 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:55:22.052 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 15:55:22.052 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:55:22.052 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 15:55:22.052 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:55:22.052 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 15:55:22.052 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:55:22.052 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 15:55:22.053 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 15:55:22.053 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:55:22.053 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:55:22.053 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:55:22.053 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 15:55:22.053 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:22.053 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:22.053 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:55:22.053 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 15:55:22.053 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:55:22.053 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 15:55:22.053 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:00000015": started reading request body.
2025-05-27 15:55:22.053 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:00000017": started reading request body.
2025-05-27 15:55:22.053 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:00000015": done reading request body.
2025-05-27 15:55:22.053 +07:00 [DBG] Connection id "0HNCSUJKACIJG", Request id "0HNCSUJKACIJG:00000017": done reading request body.
2025-05-27 15:55:22.053 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:55:22.053 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 15:55:22.053 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:22.053 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:22.053 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:22.053 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:22.053 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:22.053 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 15:55:22.053 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:22.053 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 15:55:22.053 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:55:22.053 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 15:55:22.053 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:55:22.053 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 15:55:22.053 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:55:22.053 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:55:22.053 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:22.053 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:22.053 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:55:22.053 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:22.054 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:22.054 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:55:22.054 +07:00 [DBG] Creating DbConnection.
2025-05-27 15:55:22.054 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 15:55:22.054 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:22.054 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:22.054 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 15:55:22.054 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:22.054 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 15:55:22.054 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:55:22.054 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:55:22.054 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:22.054 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:55:22.054 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:22.054 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:22.054 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.6438ms.
2025-05-27 15:55:22.055 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:55:22.055 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:55:22.055 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:55:22.055 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:55:22.055 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:55:22.055 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:55:22.055 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 2.123ms
2025-05-27 15:55:22.055 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:22.055 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 15:55:22.055 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:55:22.055 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:22.055 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:22.055 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 15:55:22.055 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:22.055 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:22.055 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 3.0779ms
2025-05-27 15:55:22.055 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:22.055 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.1357ms.
2025-05-27 15:55:22.055 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 15:55:22.055 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 15:55:22.055 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 15:55:22.055 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 15:55:22.055 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 15:55:22.055 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 15:55:22.055 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 2.6598ms
2025-05-27 15:55:22.055 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 15:55:22.055 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 15:55:22.055 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 15:55:22.055 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 15:55:22.055 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 3.9923ms
2025-05-27 15:56:32.185 +07:00 [DBG] Connection id "0HNCSUJKACIJG" received FIN.
2025-05-27 15:56:32.185 +07:00 [DBG] Connection id "0HNCSUJKACIJG" is closed. The last processed stream ID was 23.
2025-05-27 15:56:32.185 +07:00 [DBG] Connection id "0HNCSUJKACIJG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 15:56:32.185 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJG completed.
2025-05-27 15:56:32.186 +07:00 [DBG] Connection id "0HNCSUJKACIJG" stopped.
2025-05-27 16:14:49.787 +07:00 [DBG] Config reload token fired. Checking for changes...
2025-05-27 16:14:51.737 +07:00 [DBG] Config reload token fired. Checking for changes...
2025-05-27 16:35:34.292 +07:00 [DBG] Connection id "0HNCSUJKACIJH" accepted.
2025-05-27 16:35:34.293 +07:00 [DBG] Connection id "0HNCSUJKACIJH" started.
2025-05-27 16:35:34.294 +07:00 [DBG] Connection 0HNCSUJKACIJH established using the following protocol: "Tls12"
2025-05-27 16:35:34.297 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 16:35:34.297 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 16:35:34.297 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 16:35:34.297 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 16:35:34.297 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 16:35:34.297 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 16:35:34.297 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 16:35:34.297 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 16:35:34.297 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:35:34.297 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:35:34.297 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:35:34.297 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:35:34.298 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 16:35:34.298 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 16:35:34.298 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:35:34.298 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:35:34.298 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:35:34.298 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:35:34.298 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:35:34.298 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:35:34.298 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 16:35:34.298 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 16:35:34.298 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:35:34.298 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:35:34.298 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:35:34.298 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:35:34.298 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:35:34.298 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:35:34.298 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:35:34.298 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:35:34.298 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:35:34.298 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:35:34.298 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:35:34.298 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:35:34.298 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:35:34.298 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:35:34.298 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 16:35:34.298 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:35:34.298 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 16:35:34.298 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 16:35:34.298 +07:00 [DBG] Connection id "0HNCSUJKACIJH", Request id "0HNCSUJKACIJH:00000003": started reading request body.
2025-05-27 16:35:34.298 +07:00 [DBG] Connection id "0HNCSUJKACIJH", Request id "0HNCSUJKACIJH:00000003": done reading request body.
2025-05-27 16:35:34.298 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 16:35:34.298 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:35:34.298 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:35:34.298 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:35:34.298 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:35:34.298 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 16:35:34.298 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:35:34.298 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:35:34.298 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:35:34.298 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:35:34.298 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.298 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:35:34.298 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:35:34.298 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.357 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.357 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:35:34.357 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:35:34.357 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:35:34.357 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 16:35:34.359 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 16:35:34.359 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.359 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.359 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:35:34.359 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:35:34.359 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.359 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:35:34.359 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.359 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.359 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.359 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.359 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.359 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 16:35:34.359 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.359 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:35:34.359 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.359 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:35:34.359 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 61.2444ms.
2025-05-27 16:35:34.359 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:35:34.359 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:35:34.359 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:35:34.359 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:35:34.359 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:35:34.359 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:35:34.359 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 61.5013ms
2025-05-27 16:35:34.359 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:35:34.359 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:35:34.359 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.359 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:35:34.359 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 62.16ms
2025-05-27 16:35:34.362 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 16:35:34.362 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 16:35:34.362 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 16:35:34.362 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:35:34.362 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:35:34.362 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 16:35:34.362 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:35:34.362 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:35:34.362 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:35:34.362 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 16:35:34.362 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:35:34.362 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:35:34.362 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:35:34.362 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:35:34.362 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:35:34.362 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:35:34.362 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 16:35:34.362 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:35:34.362 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 16:35:34.362 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.362 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.362 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.362 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.362 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.362 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.362 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.362 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:35:34.362 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.362 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:35:34.362 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 64.3794ms.
2025-05-27 16:35:34.362 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:35:34.362 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:35:34.362 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:35:34.362 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:35:34.362 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:35:34.362 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:35:34.363 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:35:34.363 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 64.8582ms
2025-05-27 16:35:34.363 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:35:34.363 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:35:34.363 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:35:34.363 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:35:34.363 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.363 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.363 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.363 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:35:34.363 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:35:34.363 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 65.6638ms
2025-05-27 16:35:34.363 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:35:34.363 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:35:34.363 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 16:35:34.363 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 16:35:34.363 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.363 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.363 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.363 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.363 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.363 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.363 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:35:34.363 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.363 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:35:34.363 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.363 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:35:34.364 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.3114ms.
2025-05-27 16:35:34.364 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:35:34.364 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:35:34.364 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:35:34.364 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:35:34.364 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:35:34.364 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:35:34.364 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 1.6849ms
2025-05-27 16:35:34.364 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:35:34.364 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:35:34.364 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:35:34.364 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:35:34.364 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 2.1568ms
2025-05-27 16:36:49.490 +07:00 [DBG] Connection id "0HNCSUJKACIJH" received FIN.
2025-05-27 16:36:49.490 +07:00 [DBG] Connection id "0HNCSUJKACIJH" is closed. The last processed stream ID was 5.
2025-05-27 16:36:49.490 +07:00 [DBG] Connection id "0HNCSUJKACIJH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 16:36:49.490 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJH completed.
2025-05-27 16:36:49.491 +07:00 [DBG] Connection id "0HNCSUJKACIJH" stopped.
2025-05-27 16:38:22.249 +07:00 [DBG] Connection id "0HNCSUJKACIJI" accepted.
2025-05-27 16:38:22.249 +07:00 [DBG] Connection id "0HNCSUJKACIJI" started.
2025-05-27 16:38:22.254 +07:00 [DBG] Connection 0HNCSUJKACIJI established using the following protocol: "Tls12"
2025-05-27 16:38:22.256 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 16:38:22.256 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 16:38:22.257 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 16:38:22.257 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:38:22.257 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:38:22.257 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 16:38:22.257 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:38:22.257 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:38:22.257 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:38:22.257 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 16:38:22.257 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:38:22.257 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:38:22.257 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:38:22.257 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:38:22.257 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:38:22.257 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:38:22.257 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:38:22.257 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:38:22.257 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 16:38:22.257 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 16:38:22.257 +07:00 [DBG] Connection id "0HNCSUJKACIJI", Request id "0HNCSUJKACIJI:00000001": started reading request body.
2025-05-27 16:38:22.257 +07:00 [DBG] Connection id "0HNCSUJKACIJI", Request id "0HNCSUJKACIJI:00000001": done reading request body.
2025-05-27 16:38:22.258 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 16:38:22.258 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:38:22.258 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:38:22.258 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:38:22.258 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:38:22.258 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 16:38:22.259 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:38:22.259 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:38:22.259 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:38:22.259 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:38:22.259 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:38:22.259 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:38:22.259 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:38:22.259 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:38:22.260 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 16:38:22.261 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 16:38:22.261 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:38:22.261 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:38:22.261 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:38:22.261 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:38:22.261 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:38:22.261 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:38:22.261 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:38:22.261 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:38:22.261 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:38:22.261 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:38:22.261 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.3892ms.
2025-05-27 16:38:22.261 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:38:22.261 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:38:22.261 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:38:22.261 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:38:22.261 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:38:22.261 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:38:22.261 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 3.911ms
2025-05-27 16:38:22.261 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:38:22.261 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:38:22.261 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:38:22.261 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:38:22.261 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 5.1509ms
2025-05-27 16:38:41.759 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 16:38:41.759 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 16:38:41.760 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 16:38:41.764 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:38:41.764 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:38:41.764 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 16:38:41.764 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:38:41.764 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:38:41.764 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:38:41.764 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 16:38:41.764 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:38:41.764 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:38:41.764 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:38:41.764 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:38:41.764 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:38:41.764 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:38:41.764 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:38:41.764 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:38:41.765 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 16:38:41.765 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 16:38:41.765 +07:00 [DBG] Connection id "0HNCSUJKACIJI", Request id "0HNCSUJKACIJI:00000003": started reading request body.
2025-05-27 16:38:41.766 +07:00 [DBG] Connection id "0HNCSUJKACIJI", Request id "0HNCSUJKACIJI:00000003": done reading request body.
2025-05-27 16:38:41.768 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 16:38:41.768 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:38:41.768 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:38:41.768 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:38:41.768 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:38:41.768 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 16:38:41.768 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:38:41.769 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:38:41.769 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:38:41.769 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:38:41.769 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:38:41.769 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:38:41.769 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:38:41.769 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:38:41.769 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 16:38:41.771 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 16:38:41.771 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:38:41.771 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:38:41.771 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:38:41.771 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:38:41.771 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:38:41.771 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:38:41.771 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:38:41.771 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:38:41.771 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:38:41.771 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:38:41.771 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.9486ms.
2025-05-27 16:38:41.771 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:38:41.771 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:38:41.771 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:38:41.771 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:38:41.771 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:38:41.771 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:38:41.771 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 6.8896ms
2025-05-27 16:38:41.771 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:38:41.771 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:38:41.771 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:38:41.771 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:38:41.771 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 15.3226ms
2025-05-27 16:39:56.845 +07:00 [DBG] Connection id "0HNCSUJKACIJI" received FIN.
2025-05-27 16:39:56.845 +07:00 [DBG] Connection id "0HNCSUJKACIJI" is closed. The last processed stream ID was 3.
2025-05-27 16:39:56.845 +07:00 [DBG] Connection id "0HNCSUJKACIJI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 16:39:56.845 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJI completed.
2025-05-27 16:39:56.846 +07:00 [DBG] Connection id "0HNCSUJKACIJI" stopped.
2025-05-27 16:39:59.680 +07:00 [DBG] Connection id "0HNCSUJKACIJJ" accepted.
2025-05-27 16:39:59.681 +07:00 [DBG] Connection id "0HNCSUJKACIJJ" started.
2025-05-27 16:39:59.682 +07:00 [DBG] Connection 0HNCSUJKACIJJ established using the following protocol: "Tls12"
2025-05-27 16:39:59.684 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-05-27 16:39:59.684 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-05-27 16:39:59.684 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 16:39:59.684 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 16:39:59.684 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 16:39:59.684 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 16:39:59.684 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:39:59.684 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:39:59.684 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:39:59.684 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:39:59.684 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 16:39:59.684 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-27 16:39:59.684 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:39:59.684 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:39:59.684 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:39:59.684 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:39:59.684 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:39:59.684 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:39:59.684 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 16:39:59.684 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 16:39:59.684 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:39:59.684 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:39:59.684 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:39:59.684 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:39:59.684 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:39:59.684 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:39:59.684 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:39:59.684 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 16:39:59.684 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 16:39:59.684 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:39:59.684 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:39:59.684 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:39:59.684 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 16:39:59.684 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:39:59.684 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 16:39:59.684 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:39:59.684 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 16:39:59.684 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 16:39:59.684 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 16:39:59.684 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 16:39:59.685 +07:00 [DBG] Connection id "0HNCSUJKACIJJ", Request id "0HNCSUJKACIJJ:00000001": started reading request body.
2025-05-27 16:39:59.685 +07:00 [DBG] Connection id "0HNCSUJKACIJJ", Request id "0HNCSUJKACIJJ:00000001": done reading request body.
2025-05-27 16:39:59.685 +07:00 [DBG] Connection id "0HNCSUJKACIJJ", Request id "0HNCSUJKACIJJ:00000003": started reading request body.
2025-05-27 16:39:59.685 +07:00 [DBG] Connection id "0HNCSUJKACIJJ", Request id "0HNCSUJKACIJJ:00000003": done reading request body.
2025-05-27 16:39:59.685 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 16:39:59.690 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:39:59.690 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:39:59.690 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:39:59.690 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:39:59.690 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 16:39:59.691 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:39:59.691 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:39:59.691 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:39:59.691 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:39:59.691 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:39:59.691 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:39:59.691 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:39:59.691 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:39:59.691 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 16:39:59.685 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 16:39:59.691 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:39:59.691 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:39:59.691 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:39:59.691 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:39:59.691 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 16:39:59.692 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:39:59.692 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:39:59.692 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:39:59.692 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:39:59.692 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:39:59.692 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:39:59.692 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:39:59.692 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:39:59.692 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 16:39:59.695 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 16:39:59.695 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:39:59.695 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:39:59.695 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:39:59.695 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:39:59.695 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3.4954ms.
2025-05-27 16:39:59.695 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:39:59.695 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:39:59.695 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:39:59.695 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:39:59.695 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:39:59.695 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:39:59.695 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 10.7267ms
2025-05-27 16:39:59.695 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:39:59.695 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:39:59.695 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:39:59.695 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:39:59.695 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 11.4344ms
2025-05-27 16:39:59.695 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 16:39:59.695 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:39:59.695 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:39:59.695 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:39:59.695 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:39:59.695 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5.1118ms.
2025-05-27 16:39:59.695 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:39:59.695 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:39:59.695 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:39:59.695 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:39:59.695 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:39:59.695 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:39:59.696 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 11.1374ms
2025-05-27 16:39:59.696 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:39:59.696 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:39:59.696 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:39:59.696 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:39:59.696 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 11.8745ms
2025-05-27 16:41:09.817 +07:00 [DBG] Connection id "0HNCSUJKACIJJ" received FIN.
2025-05-27 16:41:09.817 +07:00 [DBG] Connection id "0HNCSUJKACIJJ" is closed. The last processed stream ID was 3.
2025-05-27 16:41:09.817 +07:00 [DBG] Connection id "0HNCSUJKACIJJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 16:41:09.817 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJJ completed.
2025-05-27 16:41:09.832 +07:00 [DBG] Connection id "0HNCSUJKACIJJ" stopped.
2025-05-27 16:42:04.816 +07:00 [DBG] Config reload token fired. Checking for changes...
2025-05-27 16:42:05.080 +07:00 [DBG] Config reload token fired. Checking for changes...
2025-05-27 16:42:05.982 +07:00 [DBG] Connection id "0HNCSUJKACIJK" accepted.
2025-05-27 16:42:05.983 +07:00 [DBG] Connection id "0HNCSUJKACIJK" started.
2025-05-27 16:42:05.988 +07:00 [DBG] Connection 0HNCSUJKACIJK established using the following protocol: "Tls12"
2025-05-27 16:42:05.991 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-05-27 16:42:05.991 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 16:42:05.991 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 16:42:05.991 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 16:42:05.991 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:42:05.991 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:42:05.992 +07:00 [DBG] Successfully validated the token.
2025-05-27 16:42:05.992 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 16:42:05.992 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:42:05.992 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:42:05.992 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:42:05.992 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 16:42:05.992 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:42:05.992 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:42:05.992 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:42:05.992 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:42:05.992 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:42:05.992 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 16:42:05.992 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 16:42:05.992 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:42:05.992 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 16:42:05.992 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 16:42:05.992 +07:00 [DBG] Connection id "0HNCSUJKACIJK", Request id "0HNCSUJKACIJK:00000001": started reading request body.
2025-05-27 16:42:05.992 +07:00 [DBG] Connection id "0HNCSUJKACIJK", Request id "0HNCSUJKACIJK:00000001": done reading request body.
2025-05-27 16:42:05.993 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 16:42:05.993 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:42:05.993 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:42:05.993 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:42:05.993 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:42:05.993 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 16:42:05.993 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:42:05.993 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-05-27 16:42:05.993 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 16:42:05.993 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 16:42:05.994 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:42:05.994 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:42:05.994 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:42:05.994 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:05.994 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:42:05.994 +07:00 [DBG] Successfully validated the token.
2025-05-27 16:42:05.994 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 16:42:05.994 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:42:05.994 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:42:05.994 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:42:05.994 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 16:42:05.994 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:42:05.994 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:42:05.994 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:42:05.994 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:42:05.994 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:42:05.994 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 16:42:05.994 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 16:42:05.994 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:42:05.994 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 16:42:05.994 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 16:42:05.994 +07:00 [DBG] Connection id "0HNCSUJKACIJK", Request id "0HNCSUJKACIJK:00000003": started reading request body.
2025-05-27 16:42:05.994 +07:00 [DBG] Connection id "0HNCSUJKACIJK", Request id "0HNCSUJKACIJK:00000003": done reading request body.
2025-05-27 16:42:05.994 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 16:42:05.994 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:42:05.994 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:42:05.994 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:42:05.994 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:42:05.994 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 16:42:05.994 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:42:05.994 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:42:05.994 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:42:05.994 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:06.073 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:06.073 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:42:06.073 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:42:06.073 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:42:06.073 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 16:42:06.073 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:06.073 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:42:06.073 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:42:06.073 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:42:06.073 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 16:42:06.080 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 16:42:06.080 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:06.080 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:42:06.080 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:06.080 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:42:06.080 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 86.3768ms.
2025-05-27 16:42:06.080 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:42:06.080 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:42:06.080 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:42:06.080 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:42:06.080 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:42:06.081 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:42:06.081 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 86.73ms
2025-05-27 16:42:06.081 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:42:06.081 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:42:06.081 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:06.081 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:42:06.081 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 87.3654ms
2025-05-27 16:42:06.081 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 16:42:06.081 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:06.082 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:42:06.082 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:06.082 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:42:06.082 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 89.2102ms.
2025-05-27 16:42:06.082 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:42:06.082 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:42:06.082 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:42:06.082 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:42:06.082 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:42:06.082 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:42:06.082 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 89.692ms
2025-05-27 16:42:06.082 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:42:06.082 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:42:06.082 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:06.082 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:42:06.082 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 91.2994ms
2025-05-27 16:42:08.347 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 16:42:08.347 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 16:42:08.347 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 16:42:08.347 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:42:08.347 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:42:08.347 +07:00 [DBG] Successfully validated the token.
2025-05-27 16:42:08.347 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 16:42:08.347 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:42:08.347 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:42:08.347 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:42:08.347 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 16:42:08.347 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:42:08.347 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:42:08.347 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:42:08.347 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:42:08.347 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:42:08.347 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:42:08.347 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:42:08.347 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 16:42:08.348 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:42:08.348 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:42:08.348 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:42:08.348 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.348 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.348 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:42:08.348 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:42:08.348 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:42:08.348 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 16:42:08.348 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 16:42:08.348 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 16:42:08.348 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 16:42:08.348 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:42:08.348 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:42:08.349 +07:00 [DBG] Successfully validated the token.
2025-05-27 16:42:08.349 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 16:42:08.349 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:42:08.349 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:42:08.349 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:42:08.349 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 16:42:08.349 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:42:08.349 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:42:08.349 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:42:08.349 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:42:08.349 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:42:08.349 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:42:08.349 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:42:08.349 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:42:08.349 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 16:42:08.349 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 16:42:08.349 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 16:42:08.349 +07:00 [DBG] Connection id "0HNCSUJKACIJK", Request id "0HNCSUJKACIJK:00000007": started reading request body.
2025-05-27 16:42:08.349 +07:00 [DBG] Connection id "0HNCSUJKACIJK", Request id "0HNCSUJKACIJK:00000007": done reading request body.
2025-05-27 16:42:08.349 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.349 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 16:42:08.349 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:42:08.349 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:42:08.349 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.349 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:42:08.349 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.349 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.349 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.349 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:42:08.349 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.349 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 16:42:08.349 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.349 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.349 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:42:08.349 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.349 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:42:08.349 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.9336ms.
2025-05-27 16:42:08.349 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:42:08.349 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:42:08.349 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:42:08.349 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:42:08.349 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:42:08.349 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:42:08.349 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:42:08.349 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.1968ms
2025-05-27 16:42:08.350 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:42:08.350 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:42:08.350 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.350 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:42:08.350 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 2.9812ms
2025-05-27 16:42:08.350 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:42:08.350 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:42:08.350 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.350 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.350 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:42:08.350 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:42:08.350 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:42:08.350 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 16:42:08.351 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 16:42:08.351 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.351 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.351 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.351 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.351 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.351 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.351 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.351 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:42:08.351 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.351 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:42:08.351 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.1707ms.
2025-05-27 16:42:08.351 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:42:08.351 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:42:08.351 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:42:08.351 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:42:08.351 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:42:08.351 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:42:08.352 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 2.681ms
2025-05-27 16:42:08.352 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:42:08.352 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:42:08.352 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.352 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:42:08.352 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 3.4317ms
2025-05-27 16:42:08.352 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 16:42:08.352 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 16:42:08.352 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 16:42:08.352 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:42:08.352 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:42:08.352 +07:00 [DBG] Successfully validated the token.
2025-05-27 16:42:08.352 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 16:42:08.352 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:42:08.352 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:42:08.352 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:42:08.352 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 16:42:08.352 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:42:08.352 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:42:08.352 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:42:08.352 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:42:08.352 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:42:08.352 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:42:08.352 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:42:08.353 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 16:42:08.353 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:42:08.353 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:42:08.353 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:42:08.353 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.353 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.353 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:42:08.353 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:42:08.353 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:42:08.353 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 16:42:08.353 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 16:42:08.353 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.353 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.353 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.353 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.353 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.353 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.353 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:08.353 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.354 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:42:08.354 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.354 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:42:08.354 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.0307ms.
2025-05-27 16:42:08.354 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:42:08.354 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:42:08.354 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:42:08.354 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:42:08.354 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:42:08.354 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:42:08.354 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 1.1979ms
2025-05-27 16:42:08.354 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:42:08.354 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:42:08.354 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:08.354 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:42:08.354 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 1.7228ms
2025-05-27 16:42:14.304 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 16:42:14.304 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 16:42:14.304 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 16:42:14.304 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:42:14.305 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:42:14.305 +07:00 [DBG] Successfully validated the token.
2025-05-27 16:42:14.305 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-27 16:42:14.305 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:42:14.305 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:42:14.305 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:42:14.305 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 16:42:14.305 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:42:14.305 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:42:14.306 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:42:14.306 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:42:14.306 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:42:14.306 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:42:14.306 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:42:14.306 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:42:14.306 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 16:42:14.306 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 16:42:14.306 +07:00 [DBG] Connection id "0HNCSUJKACIJK", Request id "0HNCSUJKACIJK:0000000B": started reading request body.
2025-05-27 16:42:14.306 +07:00 [DBG] Connection id "0HNCSUJKACIJK", Request id "0HNCSUJKACIJK:0000000B": done reading request body.
2025-05-27 16:42:14.306 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 16:42:14.306 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:42:14.306 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:42:14.306 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:42:14.306 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:42:14.306 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 16:42:14.307 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:42:14.307 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:42:14.307 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:42:14.307 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:14.307 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:14.307 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:42:14.307 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:42:14.307 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:42:14.307 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 16:42:14.308 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 16:42:14.308 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:14.308 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:14.308 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:14.308 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:14.308 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:14.308 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:42:14.308 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:14.308 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:42:14.308 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:14.308 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:42:14.308 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.2122ms.
2025-05-27 16:42:14.308 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:42:14.308 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:42:14.308 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:42:14.308 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:42:14.309 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:42:14.309 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:42:14.309 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 3.032ms
2025-05-27 16:42:14.309 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:42:14.309 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:42:14.309 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:42:14.309 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:42:14.309 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 4.3702ms
2025-05-27 16:43:24.410 +07:00 [DBG] Connection id "0HNCSUJKACIJK" received FIN.
2025-05-27 16:43:24.410 +07:00 [DBG] Connection id "0HNCSUJKACIJK" is closed. The last processed stream ID was 11.
2025-05-27 16:43:24.410 +07:00 [DBG] Connection id "0HNCSUJKACIJK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 16:43:24.410 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJK completed.
2025-05-27 16:43:24.411 +07:00 [DBG] Connection id "0HNCSUJKACIJK" stopped.
2025-05-27 16:43:55.109 +07:00 [DBG] Connection id "0HNCSUJKACIJL" accepted.
2025-05-27 16:43:55.109 +07:00 [DBG] Connection id "0HNCSUJKACIJL" started.
2025-05-27 16:43:55.110 +07:00 [DBG] Connection 0HNCSUJKACIJL established using the following protocol: "Tls12"
2025-05-27 16:43:55.112 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-05-27 16:43:55.112 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-05-27 16:43:55.112 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-05-27 16:43:55.112 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:43:55.112 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:43:55.112 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 9:43:05 AM', Current time (UTC): '5/27/2025 9:43:55 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 16:43:55.112 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 9:43:05 AM', Current time (UTC): '5/27/2025 9:43:55 AM'.
2025-05-27 16:43:55.112 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:43:55.112 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:43:55.112 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:43:55.112 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 16:43:55.113 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:43:55.113 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:43:55.113 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:43:55.113 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:43:55.113 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:43:55.113 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:43:55.113 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:43:55.113 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:43:55.113 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 16:43:55.113 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 16:43:55.113 +07:00 [DBG] Connection id "0HNCSUJKACIJL", Request id "0HNCSUJKACIJL:00000001": started reading request body.
2025-05-27 16:43:55.113 +07:00 [DBG] Connection id "0HNCSUJKACIJL", Request id "0HNCSUJKACIJL:00000001": done reading request body.
2025-05-27 16:43:55.113 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 16:43:55.113 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:43:55.113 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:43:55.113 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:43:55.113 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:43:55.113 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-05-27 16:43:55.113 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:43:55.114 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:43:55.114 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:43:55.114 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:43:55.114 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:43:55.114 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:43:55.114 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:43:55.114 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:43:55.114 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 16:43:55.115 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-05-27 16:43:55.115 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:43:55.115 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:43:55.115 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:43:55.115 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:43:55.115 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:43:55.116 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:43:55.116 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:43:55.116 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:43:55.116 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:43:55.116 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:43:55.116 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.6549ms.
2025-05-27 16:43:55.116 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:43:55.116 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:43:55.116 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:43:55.116 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:43:55.116 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:43:55.116 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:43:55.116 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 3.4891ms
2025-05-27 16:43:55.116 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-05-27 16:43:55.116 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:43:55.116 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:43:55.116 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:43:55.116 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 4.6221ms
2025-05-27 16:43:58.148 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-05-27 16:43:58.148 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-05-27 16:43:58.148 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-05-27 16:43:58.148 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:43:58.148 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:43:58.148 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 9:43:05 AM', Current time (UTC): '5/27/2025 9:43:58 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 16:43:58.148 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 9:43:05 AM', Current time (UTC): '5/27/2025 9:43:58 AM'.
2025-05-27 16:43:58.148 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:43:58.148 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:43:58.148 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:43:58.148 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-27 16:43:58.148 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:43:58.148 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:43:58.148 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:43:58.148 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:43:58.148 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:43:58.148 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:43:58.149 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-27 16:43:58.149 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-05-27 16:43:58.149 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:43:58.149 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:43:58.149 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:43:58.149 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:43:58.149 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:43:58.149 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:43:58.149 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:43:58.149 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:43:58.149 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 16:43:58.150 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-05-27 16:43:58.150 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:43:58.150 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:43:58.150 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:43:58.150 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:43:58.150 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:43:58.150 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:43:58.150 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 16:43:58.150 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:43:58.150 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:43:58.150 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:43:58.150 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:43:58.150 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.8423ms.
2025-05-27 16:43:58.151 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:43:58.151 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:43:58.151 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:43:58.151 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:43:58.151 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:43:58.151 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:43:58.151 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 2.2342ms
2025-05-27 16:43:58.151 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-05-27 16:43:58.151 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:43:58.151 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:43:58.151 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:43:58.151 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 2.995ms
2025-05-27 16:44:08.279 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-05-27 16:44:08.279 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-05-27 16:44:08.280 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 16:44:08.280 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-05-27 16:44:08.280 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 16:44:08.280 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-05-27 16:44:08.280 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:44:08.280 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:44:08.280 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:44:08.280 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 16:44:08.280 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 9:43:05 AM', Current time (UTC): '5/27/2025 9:44:08 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 16:44:08.280 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 9:43:05 AM', Current time (UTC): '5/27/2025 9:44:08 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-27 16:44:08.280 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 9:43:05 AM', Current time (UTC): '5/27/2025 9:44:08 AM'.
2025-05-27 16:44:08.280 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/27/2025 9:43:05 AM', Current time (UTC): '5/27/2025 9:44:08 AM'.
2025-05-27 16:44:08.280 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:44:08.280 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:44:08.280 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-05-27 16:44:08.280 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:44:08.280 +07:00 [INF] CORS policy execution successful.
2025-05-27 16:44:08.280 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:44:08.280 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 16:44:08.280 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-27 16:44:08.280 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:44:08.280 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 16:44:08.280 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:44:08.280 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 16:44:08.280 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:44:08.280 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 16:44:08.280 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:44:08.280 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-27 16:44:08.280 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:44:08.280 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 16:44:08.281 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 16:44:08.281 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 16:44:08.281 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 16:44:08.281 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-27 16:44:08.281 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:44:08.281 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:44:08.281 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 16:44:08.281 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 16:44:08.281 +07:00 [DBG] Connection id "0HNCSUJKACIJL", Request id "0HNCSUJKACIJL:00000005": started reading request body.
2025-05-27 16:44:08.281 +07:00 [DBG] Connection id "0HNCSUJKACIJL", Request id "0HNCSUJKACIJL:00000005": done reading request body.
2025-05-27 16:44:08.281 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 16:44:08.281 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:44:08.281 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-05-27 16:44:08.281 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:44:08.281 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-27 16:44:08.281 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:44:08.281 +07:00 [DBG] Connection id "0HNCSUJKACIJL", Request id "0HNCSUJKACIJL:00000007": started reading request body.
2025-05-27 16:44:08.281 +07:00 [DBG] Connection id "0HNCSUJKACIJL", Request id "0HNCSUJKACIJL:00000007": done reading request body.
2025-05-27 16:44:08.281 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-05-27 16:44:08.281 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:44:08.281 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:44:08.281 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-05-27 16:44:08.281 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:44:08.281 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-05-27 16:44:08.281 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 16:44:08.281 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-05-27 16:44:08.281 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:44:08.281 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-27 16:44:08.282 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:44:08.282 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:44:08.282 +07:00 [DBG] Creating DbConnection.
2025-05-27 16:44:08.282 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:44:08.282 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-27 16:44:08.282 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:44:08.282 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:44:08.282 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:44:08.282 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:44:08.282 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:44:08.282 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 16:44:08.282 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:44:08.282 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:44:08.282 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 16:44:08.282 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 16:44:08.282 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 16:44:08.283 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 16:44:08.283 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-05-27 16:44:08.283 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:44:08.283 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:44:08.283 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:44:08.283 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-27 16:44:08.283 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:44:08.283 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:44:08.283 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:44:08.283 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:44:08.283 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.888ms.
2025-05-27 16:44:08.283 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.8807ms.
2025-05-27 16:44:08.283 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:44:08.283 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 16:44:08.283 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:44:08.283 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 16:44:08.283 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:44:08.283 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 16:44:08.283 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:44:08.283 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:44:08.283 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 16:44:08.283 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:44:08.283 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 16:44:08.283 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 16:44:08.283 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 2.666ms
2025-05-27 16:44:08.283 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:44:08.283 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 2.671ms
2025-05-27 16:44:08.283 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-05-27 16:44:08.283 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:44:08.283 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-27 16:44:08.283 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:44:08.283 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-27 16:44:08.283 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:44:08.283 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-27 16:44:08.283 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 4.0195ms
2025-05-27 16:44:08.283 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 4.0141ms
2025-05-27 16:45:13.384 +07:00 [DBG] Connection id "0HNCSUJKACIJL" received FIN.
2025-05-27 16:45:13.384 +07:00 [DBG] Connection id "0HNCSUJKACIJL" is closed. The last processed stream ID was 7.
2025-05-27 16:45:13.384 +07:00 [DBG] Connection id "0HNCSUJKACIJL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 16:45:13.384 +07:00 [DBG] The connection queue processing loop for 0HNCSUJKACIJL completed.
2025-05-27 16:45:13.384 +07:00 [DBG] Connection id "0HNCSUJKACIJL" stopped.
