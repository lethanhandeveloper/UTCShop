2025-05-13 11:16:14.021 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-13 11:16:14.719 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-13 11:16:14.734 +07:00 [DBG] Creating DbConnection.
2025-05-13 11:16:14.740 +07:00 [DBG] Created DbConnection. (4ms).
2025-05-13 11:16:14.750 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:14.933 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:14.936 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:14.943 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (4ms).
2025-05-13 11:16:14.950 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-13 11:16:14.954 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-05-13 11:16:14.954 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-05-13 11:16:14.954 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.053 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.060 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:16:15.146 +07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:16:15.148 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.150 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-05-13 11:16:15.161 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.162 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.162 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:16:15.162 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:16:15.162 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:16:15.162 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-13 11:16:15.169 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-13 11:16:15.174 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.175 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-05-13 11:16:15.175 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.175 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:16:15.178 +07:00 [DBG] Migrating using database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.178 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.260 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.260 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.261 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:16:15.261 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-13 11:16:15.261 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-13 11:16:15.261 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-13 11:16:15.261 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.261 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.261 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:16:15.265 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:16:15.265 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.265 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:16:15.266 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.333 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.334 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.334 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:16:15.334 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-13 11:16:15.334 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-13 11:16:15.334 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-13 11:16:15.334 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.334 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.334 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:16:15.336 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:16:15.336 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.336 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:16:15.336 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.336 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.336 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:16:15.336 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:16:15.336 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:16:15.336 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-13 11:16:15.337 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-13 11:16:15.337 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.337 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-13 11:16:15.337 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.337 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:16:15.345 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-05-13 11:16:15.347 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-13 11:16:15.348 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:16:15.349 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:16:15.380 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-13 11:16:15.430 +07:00 [DBG] Hosting starting
2025-05-13 11:16:15.471 +07:00 [INF] User profile is available. Using 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-13 11:16:15.746 +07:00 [DBG] Reading data from file 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys\key-3583acd8-6f16-4ac5-bafa-6a936a93b8ee.xml'.
2025-05-13 11:16:15.751 +07:00 [DBG] Reading data from file 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys\key-af50a5e9-0754-44e4-8bb0-81de900232ca.xml'.
2025-05-13 11:16:15.751 +07:00 [DBG] Reading data from file 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3edaa6-2f44-4836-b1df-64c8b561693e.xml'.
2025-05-13 11:16:15.754 +07:00 [DBG] Found key {3583acd8-6f16-4ac5-bafa-6a936a93b8ee}.
2025-05-13 11:16:15.756 +07:00 [DBG] Found key {af50a5e9-0754-44e4-8bb0-81de900232ca}.
2025-05-13 11:16:15.756 +07:00 [DBG] Found key {cc3edaa6-2f44-4836-b1df-64c8b561693e}.
2025-05-13 11:16:15.760 +07:00 [DBG] Considering key {cc3edaa6-2f44-4836-b1df-64c8b561693e} with expiration date 2025-06-22 04:23:39Z as default key.
2025-05-13 11:16:15.762 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-13 11:16:15.762 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-13 11:16:15.764 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-13 11:16:15.766 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-13 11:16:15.767 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-13 11:16:15.768 +07:00 [DBG] Using key {cc3edaa6-2f44-4836-b1df-64c8b561693e} as the default key.
2025-05-13 11:16:15.768 +07:00 [DBG] Key ring with default key {cc3edaa6-2f44-4836-b1df-64c8b561693e} was loaded during application startup.
2025-05-13 11:16:15.928 +07:00 [INF] Now listening on: https://localhost:50458
2025-05-13 11:16:15.928 +07:00 [INF] Now listening on: http://localhost:50459
2025-05-13 11:16:15.928 +07:00 [DBG] Loaded hosting startup assembly Product.API
2025-05-13 11:16:15.928 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-05-13 11:16:15.928 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-05-13 11:16:15.928 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-05-13 11:16:15.971 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-13 11:16:15.971 +07:00 [INF] Hosting environment: Development
2025-05-13 11:16:15.971 +07:00 [INF] Content root path: C:\PProjects\UTCShop\src\Services\Product\Product.API
2025-05-13 11:16:15.971 +07:00 [DBG] Hosting started
2025-05-13 11:18:15.600 +07:00 [DBG] Connection id "0HNCHQKND1VT3" accepted.
2025-05-13 11:18:15.608 +07:00 [DBG] Connection id "0HNCHQKND1VT3" started.
2025-05-13 11:18:15.632 +07:00 [DBG] Connection 0HNCHQKND1VT3 established using the following protocol: "Tls12"
2025-05-13 11:18:15.780 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - null null
2025-05-13 11:18:15.869 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-13 11:18:15.899 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-05-13 11:18:15.900 +07:00 [DBG] Request did not match any endpoints
2025-05-13 11:18:15.951 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-05-13 11:18:15.952 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-05-13 11:18:15.957 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-05-13 11:18:15.958 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-05-13 11:18:15.961 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - 200 null text/html;charset=utf-8 197.3686ms
2025-05-13 11:18:15.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.js - null null
2025-05-13 11:18:15.979 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-13 11:18:15.980 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-13 11:18:15.980 +07:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-05-13 11:18:15.981 +07:00 [DBG] Request did not match any endpoints
2025-05-13 11:18:15.984 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.js - 200 null application/javascript;charset=utf-8 5.7086ms
2025-05-13 11:18:16.001 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 22.3656ms
2025-05-13 11:18:16.053 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.458ms
2025-05-13 11:18:16.167 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-13 11:18:16.167 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-13 11:18:16.167 +07:00 [DBG] Request did not match any endpoints
2025-05-13 11:18:16.204 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.6093ms
2025-05-13 11:18:43.778 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Create - application/json 125
2025-05-13 11:18:43.782 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Create'
2025-05-13 11:18:43.786 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)' with route pattern 'api/Category/Create' is valid for the request path '/api/Category/Create'
2025-05-13 11:18:43.786 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)'
2025-05-13 11:18:43.788 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:18:43.888 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:18:43.890 +07:00 [DBG] The request has an origin header: 'https://localhost:5003'.
2025-05-13 11:18:43.890 +07:00 [INF] CORS policy execution failed.
2025-05-13 11:18:43.890 +07:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2025-05-13 11:18:43.891 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)'
2025-05-13 11:18:43.908 +07:00 [INF] Route matched with {action = "Create", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.CategoryDto) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-13 11:18:43.909 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:18:43.909 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:18:43.910 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:18:43.910 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:18:43.910 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:18:43.911 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-13 11:18:43.912 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-13 11:18:43.930 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto' ...
2025-05-13 11:18:43.932 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto' using the name '' in request data ...
2025-05-13 11:18:43.933 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:18:43.953 +07:00 [DBG] Connection id "0HNCHQKND1VT3", Request id "0HNCHQKND1VT3:0000000B": started reading request body.
2025-05-13 11:18:43.953 +07:00 [DBG] Connection id "0HNCHQKND1VT3", Request id "0HNCHQKND1VT3:0000000B": done reading request body.
2025-05-13 11:18:43.964 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.CategoryDto'
2025-05-13 11:18:43.965 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-13 11:18:43.965 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-13 11:18:43.965 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.CategoryDto' ...
2025-05-13 11:18:43.975 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-13 11:18:43.980 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Create (Product.API) - Validation state: "Valid"
2025-05-13 11:18:43.995 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-13 11:18:44.035 +07:00 [DBG] 'ProductDBContext' generated a value for the property 'CategoryEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-13 11:18:44.100 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-13 11:18:44.104 +07:00 [DBG] SaveChanges starting for 'ProductDBContext'.
2025-05-13 11:18:44.107 +07:00 [DBG] DetectChanges starting for 'ProductDBContext'.
2025-05-13 11:18:44.119 +07:00 [DBG] DetectChanges completed for 'ProductDBContext'.
2025-05-13 11:18:44.123 +07:00 [DBG] DetectChanges starting for 'ProductDBContext'.
2025-05-13 11:18:44.124 +07:00 [DBG] The unchanged property 'CategoryEntity.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-13 11:18:44.127 +07:00 [DBG] The unchanged property 'CategoryEntity.CreatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-13 11:18:44.128 +07:00 [DBG] The unchanged property 'CategoryEntity.IsDeleted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-13 11:18:44.128 +07:00 [DBG] The unchanged property 'CategoryEntity.LastUpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-13 11:18:44.129 +07:00 [DBG] The unchanged property 'CategoryEntity.LastUpdatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-13 11:18:44.129 +07:00 [DBG] DetectChanges completed for 'ProductDBContext'.
2025-05-13 11:18:44.188 +07:00 [DBG] Creating DbConnection.
2025-05-13 11:18:44.188 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-13 11:18:44.188 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:18:44.188 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:18:44.190 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:18:44.190 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:18:44.194 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-05-13 11:18:44.198 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("Id", "CreatedAt", "CreatedBy", "Description", "ImageUrl", "IsDeleted", "LastUpdatedAt", "LastUpdatedBy", "Name", "ParentId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-13 11:18:44.248 +07:00 [ERR] Failed executing DbCommand (52ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("Id", "CreatedAt", "CreatedBy", "Description", "ImageUrl", "IsDeleted", "LastUpdatedAt", "LastUpdatedBy", "Name", "ParentId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-13 11:18:44.254 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:18:44.255 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:18:44.300 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Product.Infrastructure.ProductDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Categories" violates foreign key constraint "FK_Categories_Categories_ParentId"

DETAIL: Key (ParentId)=(3fa85f64-5717-4562-b3fc-2c963f66afa6) is not present in table "Categories".
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Categories" violates foreign key constraint "FK_Categories_Categories_ParentId"
    Detail: Key (ParentId)=(3fa85f64-5717-4562-b3fc-2c963f66afa6) is not present in table "Categories".
    SchemaName: public
    TableName: Categories
    ConstraintName: FK_Categories_Categories_ParentId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Categories" violates foreign key constraint "FK_Categories_Categories_ParentId"

DETAIL: Key (ParentId)=(3fa85f64-5717-4562-b3fc-2c963f66afa6) is not present in table "Categories".
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Categories" violates foreign key constraint "FK_Categories_Categories_ParentId"
    Detail: Key (ParentId)=(3fa85f64-5717-4562-b3fc-2c963f66afa6) is not present in table "Categories".
    SchemaName: public
    TableName: Categories
    ConstraintName: FK_Categories_Categories_ParentId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-13 11:18:44.674 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-13 11:18:44.675 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-05-13 11:18:44.676 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-13 11:18:44.676 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Dtos.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-13 11:18:44.686 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Create (Product.API) in 773.6337ms
2025-05-13 11:18:44.687 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)'
2025-05-13 11:18:44.688 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-13 11:18:44.689 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:18:44.690 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:18:44.690 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Create - 200 null application/json; charset=utf-8 913.0347ms
2025-05-13 11:19:14.730 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Create - application/json 125
2025-05-13 11:19:14.731 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Create'
2025-05-13 11:19:14.731 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)' with route pattern 'api/Category/Create' is valid for the request path '/api/Category/Create'
2025-05-13 11:19:14.732 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)'
2025-05-13 11:19:14.732 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:19:14.733 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:19:14.733 +07:00 [DBG] The request has an origin header: 'https://localhost:5003'.
2025-05-13 11:19:14.733 +07:00 [INF] CORS policy execution failed.
2025-05-13 11:19:14.733 +07:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2025-05-13 11:19:14.733 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Create (Product.API)'
2025-05-13 11:19:14.733 +07:00 [INF] Route matched with {action = "Create", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.CategoryDto) on controller Product.API.Controllers.CategoryController (Product.API).
2025-05-13 11:19:14.734 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:19:14.734 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:19:14.734 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:19:14.734 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:19:14.734 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:19:14.734 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-13 11:19:14.734 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-05-13 11:19:14.734 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto' ...
2025-05-13 11:19:14.734 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto' using the name '' in request data ...
2025-05-13 11:19:14.734 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:19:14.735 +07:00 [DBG] Connection id "0HNCHQKND1VT3", Request id "0HNCHQKND1VT3:0000000D": started reading request body.
2025-05-13 11:19:14.735 +07:00 [DBG] Connection id "0HNCHQKND1VT3", Request id "0HNCHQKND1VT3:0000000D": done reading request body.
2025-05-13 11:19:14.735 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.CategoryDto'
2025-05-13 11:19:14.735 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-13 11:19:14.735 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-13 11:19:14.735 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.CategoryDto' ...
2025-05-13 11:19:14.735 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.CategoryDto'.
2025-05-13 11:19:14.735 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Create (Product.API) - Validation state: "Valid"
2025-05-13 11:19:18.980 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-13 11:19:18.981 +07:00 [DBG] 'ProductDBContext' generated a value for the property 'CategoryEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-13 11:19:18.982 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-13 11:19:18.982 +07:00 [DBG] SaveChanges starting for 'ProductDBContext'.
2025-05-13 11:19:18.982 +07:00 [DBG] DetectChanges starting for 'ProductDBContext'.
2025-05-13 11:19:18.983 +07:00 [DBG] DetectChanges completed for 'ProductDBContext'.
2025-05-13 11:19:18.983 +07:00 [DBG] DetectChanges starting for 'ProductDBContext'.
2025-05-13 11:19:18.983 +07:00 [DBG] The unchanged property 'CategoryEntity.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-13 11:19:18.983 +07:00 [DBG] The unchanged property 'CategoryEntity.CreatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-13 11:19:18.983 +07:00 [DBG] The unchanged property 'CategoryEntity.IsDeleted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-13 11:19:18.983 +07:00 [DBG] The unchanged property 'CategoryEntity.LastUpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-13 11:19:18.983 +07:00 [DBG] The unchanged property 'CategoryEntity.LastUpdatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-13 11:19:18.983 +07:00 [DBG] DetectChanges completed for 'ProductDBContext'.
2025-05-13 11:19:18.983 +07:00 [DBG] Creating DbConnection.
2025-05-13 11:19:18.983 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-13 11:19:18.983 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:19:18.983 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:19:18.984 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:19:18.984 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:19:18.984 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:19:18.984 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("Id", "CreatedAt", "CreatedBy", "Description", "ImageUrl", "IsDeleted", "LastUpdatedAt", "LastUpdatedBy", "Name", "ParentId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-13 11:19:18.992 +07:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("Id", "CreatedAt", "CreatedBy", "Description", "ImageUrl", "IsDeleted", "LastUpdatedAt", "LastUpdatedBy", "Name", "ParentId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-13 11:19:18.993 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:19:18.993 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:19:18.995 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Product.Infrastructure.ProductDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Categories" violates foreign key constraint "FK_Categories_Categories_ParentId"

DETAIL: Key (ParentId)=(3fa85f64-5717-4562-b3fc-2c963f66afa6) is not present in table "Categories".
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Categories" violates foreign key constraint "FK_Categories_Categories_ParentId"
    Detail: Key (ParentId)=(3fa85f64-5717-4562-b3fc-2c963f66afa6) is not present in table "Categories".
    SchemaName: public
    TableName: Categories
    ConstraintName: FK_Categories_Categories_ParentId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Categories" violates foreign key constraint "FK_Categories_Categories_ParentId"

DETAIL: Key (ParentId)=(3fa85f64-5717-4562-b3fc-2c963f66afa6) is not present in table "Categories".
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Categories" violates foreign key constraint "FK_Categories_Categories_ParentId"
    Detail: Key (ParentId)=(3fa85f64-5717-4562-b3fc-2c963f66afa6) is not present in table "Categories".
    SchemaName: public
    TableName: Categories
    ConstraintName: FK_Categories_Categories_ParentId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-13 11:26:38.274 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-13 11:26:39.051 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-13 11:26:39.064 +07:00 [DBG] Creating DbConnection.
2025-05-13 11:26:39.067 +07:00 [DBG] Created DbConnection. (2ms).
2025-05-13 11:26:39.079 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.267 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.272 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.283 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (7ms).
2025-05-13 11:26:39.292 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-13 11:26:39.296 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2025-05-13 11:26:39.297 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2025-05-13 11:26:39.297 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.400 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.406 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:26:39.490 +07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:26:39.491 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.493 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-05-13 11:26:39.509 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.510 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.510 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:26:39.511 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:26:39.511 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:26:39.511 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-13 11:26:39.517 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-13 11:26:39.522 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.523 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-05-13 11:26:39.523 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.523 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:26:39.525 +07:00 [DBG] Migrating using database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.525 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.593 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.593 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.593 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:26:39.593 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-13 11:26:39.593 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-13 11:26:39.593 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-13 11:26:39.593 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.593 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.593 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:26:39.596 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:26:39.596 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.596 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:26:39.596 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.666 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.667 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.667 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:26:39.667 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-13 11:26:39.667 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-13 11:26:39.667 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-13 11:26:39.667 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.667 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.667 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:26:39.668 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:26:39.668 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.668 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:26:39.669 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.669 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.669 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:26:39.669 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:26:39.669 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:26:39.669 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-13 11:26:39.670 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-13 11:26:39.670 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.671 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-13 11:26:39.671 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.671 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:26:39.678 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-05-13 11:26:39.680 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-13 11:26:39.682 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:26:39.683 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:26:39.717 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-13 11:26:39.780 +07:00 [DBG] Hosting starting
2025-05-13 11:26:39.826 +07:00 [INF] User profile is available. Using 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-13 11:26:40.000 +07:00 [DBG] Reading data from file 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys\key-3583acd8-6f16-4ac5-bafa-6a936a93b8ee.xml'.
2025-05-13 11:26:40.005 +07:00 [DBG] Reading data from file 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys\key-af50a5e9-0754-44e4-8bb0-81de900232ca.xml'.
2025-05-13 11:26:40.005 +07:00 [DBG] Reading data from file 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3edaa6-2f44-4836-b1df-64c8b561693e.xml'.
2025-05-13 11:26:40.007 +07:00 [DBG] Found key {3583acd8-6f16-4ac5-bafa-6a936a93b8ee}.
2025-05-13 11:26:40.010 +07:00 [DBG] Found key {af50a5e9-0754-44e4-8bb0-81de900232ca}.
2025-05-13 11:26:40.010 +07:00 [DBG] Found key {cc3edaa6-2f44-4836-b1df-64c8b561693e}.
2025-05-13 11:26:40.013 +07:00 [DBG] Considering key {cc3edaa6-2f44-4836-b1df-64c8b561693e} with expiration date 2025-06-22 04:23:39Z as default key.
2025-05-13 11:26:40.015 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-13 11:26:40.015 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-13 11:26:40.016 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-13 11:26:40.017 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-13 11:26:40.018 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-13 11:26:40.019 +07:00 [DBG] Using key {cc3edaa6-2f44-4836-b1df-64c8b561693e} as the default key.
2025-05-13 11:26:40.019 +07:00 [DBG] Key ring with default key {cc3edaa6-2f44-4836-b1df-64c8b561693e} was loaded during application startup.
2025-05-13 11:26:40.171 +07:00 [INF] Now listening on: https://localhost:51004
2025-05-13 11:26:40.171 +07:00 [INF] Now listening on: http://localhost:51005
2025-05-13 11:26:40.171 +07:00 [DBG] Loaded hosting startup assembly Product.API
2025-05-13 11:26:40.172 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-05-13 11:26:40.172 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-05-13 11:26:40.172 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-05-13 11:26:40.220 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-13 11:26:40.220 +07:00 [INF] Hosting environment: Development
2025-05-13 11:26:40.220 +07:00 [INF] Content root path: C:\PProjects\UTCShop\src\Services\Product\Product.API
2025-05-13 11:26:40.221 +07:00 [DBG] Hosting started
2025-05-13 11:26:50.426 +07:00 [DBG] Connection id "0HNCHQPGQQPD4" accepted.
2025-05-13 11:26:50.432 +07:00 [DBG] Connection id "0HNCHQPGQQPD4" started.
2025-05-13 11:26:50.466 +07:00 [DBG] Connection 0HNCHQPGQQPD4 established using the following protocol: "Tls12"
2025-05-13 11:26:50.579 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - null null
2025-05-13 11:26:50.640 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-13 11:26:50.652 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-05-13 11:26:50.653 +07:00 [DBG] Request did not match any endpoints
2025-05-13 11:26:50.702 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-05-13 11:26:50.704 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-05-13 11:26:50.711 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-05-13 11:26:50.711 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-05-13 11:26:50.714 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - 200 null text/html;charset=utf-8 150.3596ms
2025-05-13 11:26:50.730 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-13 11:26:50.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.js - null null
2025-05-13 11:26:50.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-13 11:26:50.735 +07:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-05-13 11:26:50.735 +07:00 [DBG] Request did not match any endpoints
2025-05-13 11:26:50.737 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.js - 200 null application/javascript;charset=utf-8 2.7645ms
2025-05-13 11:26:50.750 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 20.6512ms
2025-05-13 11:26:50.781 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.451ms
2025-05-13 11:26:50.906 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-13 11:26:50.906 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-13 11:26:50.906 +07:00 [DBG] Request did not match any endpoints
2025-05-13 11:26:50.948 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.8226ms
2025-05-13 11:27:14.248 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Create - application/json 142
2025-05-13 11:27:14.253 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-05-13 11:27:14.257 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-05-13 11:27:14.257 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:27:14.259 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:27:14.338 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:27:14.340 +07:00 [DBG] The request has an origin header: 'https://localhost:5003'.
2025-05-13 11:27:14.340 +07:00 [INF] CORS policy execution failed.
2025-05-13 11:27:14.340 +07:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2025-05-13 11:27:14.341 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:27:14.362 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-13 11:27:14.363 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:27:14.363 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:27:14.364 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:27:14.364 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:27:14.364 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:27:14.365 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:27:14.365 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:27:14.378 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:27:14.380 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-05-13 11:27:14.381 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:27:14.394 +07:00 [DBG] Connection id "0HNCHQPGQQPD4", Request id "0HNCHQPGQQPD4:0000000B": started reading request body.
2025-05-13 11:27:14.394 +07:00 [DBG] Connection id "0HNCHQPGQQPD4", Request id "0HNCHQPGQQPD4:0000000B": done reading request body.
2025-05-13 11:27:14.398 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.ProductDto'
2025-05-13 11:27:14.398 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:27:14.399 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:27:14.399 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:27:14.407 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:27:14.409 +07:00 [DBG] The request has model state errors, returning an error response.
2025-05-13 11:27:14.410 +07:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-05-13 11:27:14.412 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-13 11:27:14.414 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-05-13 11:27:14.414 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-13 11:27:14.414 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-13 11:27:14.415 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-13 11:27:14.415 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-13 11:27:14.431 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 64.6715ms
2025-05-13 11:27:14.431 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:27:14.431 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Create - 400 null application/problem+json; charset=utf-8 184.6648ms
2025-05-13 11:27:39.500 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Create - application/json 142
2025-05-13 11:27:39.506 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-05-13 11:27:39.507 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-05-13 11:27:39.507 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:27:39.507 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:27:39.510 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:27:39.511 +07:00 [DBG] The request has an origin header: 'https://localhost:5003'.
2025-05-13 11:27:39.511 +07:00 [INF] CORS policy execution failed.
2025-05-13 11:27:39.511 +07:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2025-05-13 11:27:39.511 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:27:39.512 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-13 11:27:39.512 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:27:39.512 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:27:39.512 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:27:39.512 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:27:39.512 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:27:39.512 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:27:39.513 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:27:39.513 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:27:39.513 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-05-13 11:27:39.513 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:27:39.513 +07:00 [DBG] Connection id "0HNCHQPGQQPD4", Request id "0HNCHQPGQQPD4:0000000D": started reading request body.
2025-05-13 11:27:39.514 +07:00 [DBG] Connection id "0HNCHQPGQQPD4", Request id "0HNCHQPGQQPD4:0000000D": done reading request body.
2025-05-13 11:27:39.514 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.ProductDto'
2025-05-13 11:27:39.514 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:27:39.514 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:27:39.514 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:27:39.519 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:27:39.519 +07:00 [DBG] The request has model state errors, returning an error response.
2025-05-13 11:27:39.519 +07:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-05-13 11:27:39.520 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-13 11:27:39.520 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-05-13 11:27:39.520 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-13 11:27:39.520 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-13 11:27:39.520 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-13 11:27:39.520 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-13 11:27:39.520 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 8.4047ms
2025-05-13 11:27:39.520 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:27:39.521 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Create - 400 null application/problem+json; charset=utf-8 22.7354ms
2025-05-13 11:27:52.011 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Create - application/json 142
2025-05-13 11:27:52.012 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-05-13 11:27:52.012 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-05-13 11:27:52.012 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:27:52.012 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:27:52.014 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:27:52.014 +07:00 [DBG] The request has an origin header: 'https://localhost:5003'.
2025-05-13 11:27:52.014 +07:00 [INF] CORS policy execution failed.
2025-05-13 11:27:52.014 +07:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2025-05-13 11:27:52.014 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:27:52.014 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-13 11:27:52.014 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:27:52.015 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:27:52.015 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:27:52.015 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:27:52.015 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:27:52.015 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:27:52.016 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:27:52.016 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:27:52.016 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-05-13 11:27:52.016 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:27:52.016 +07:00 [DBG] Connection id "0HNCHQPGQQPD4", Request id "0HNCHQPGQQPD4:0000000F": started reading request body.
2025-05-13 11:27:52.016 +07:00 [DBG] Connection id "0HNCHQPGQQPD4", Request id "0HNCHQPGQQPD4:0000000F": done reading request body.
2025-05-13 11:27:52.016 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.ProductDto'
2025-05-13 11:27:52.017 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:27:52.017 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:27:52.017 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:27:52.017 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:27:52.017 +07:00 [DBG] The request has model state errors, returning an error response.
2025-05-13 11:27:52.017 +07:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-05-13 11:27:52.017 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-13 11:27:52.017 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-05-13 11:27:52.017 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-13 11:27:52.017 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-13 11:27:52.017 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-13 11:27:52.017 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-13 11:27:52.017 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 2.3948ms
2025-05-13 11:27:52.017 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:27:52.018 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Create - 400 null application/problem+json; charset=utf-8 6.4391ms
2025-05-13 11:27:55.807 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Create - application/json 142
2025-05-13 11:27:55.807 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-05-13 11:27:55.807 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-05-13 11:27:55.807 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:27:55.808 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:27:55.808 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:27:55.808 +07:00 [DBG] The request has an origin header: 'https://localhost:5003'.
2025-05-13 11:27:55.808 +07:00 [INF] CORS policy execution failed.
2025-05-13 11:27:55.808 +07:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2025-05-13 11:27:55.808 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:27:55.808 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-13 11:27:55.808 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:27:55.808 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:27:55.808 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:27:55.808 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:27:55.808 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:27:55.808 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:27:55.808 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:27:55.808 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:27:55.809 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-05-13 11:27:55.809 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:27:55.809 +07:00 [DBG] Connection id "0HNCHQPGQQPD4", Request id "0HNCHQPGQQPD4:00000011": started reading request body.
2025-05-13 11:27:55.809 +07:00 [DBG] Connection id "0HNCHQPGQQPD4", Request id "0HNCHQPGQQPD4:00000011": done reading request body.
2025-05-13 11:27:55.809 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.ProductDto'
2025-05-13 11:27:55.809 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:27:55.809 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:27:55.809 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:27:55.809 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:27:55.809 +07:00 [DBG] The request has model state errors, returning an error response.
2025-05-13 11:27:55.809 +07:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-05-13 11:27:55.809 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-13 11:27:55.809 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-05-13 11:27:55.809 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-13 11:27:55.809 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-13 11:27:55.809 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-13 11:27:55.809 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-13 11:27:55.810 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 1.2361ms
2025-05-13 11:27:55.810 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:27:55.810 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Create - 400 null application/problem+json; charset=utf-8 2.6078ms
2025-05-13 11:28:18.218 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Create - application/json 139
2025-05-13 11:28:18.218 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-05-13 11:28:18.218 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-05-13 11:28:18.218 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:28:18.219 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:28:18.219 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:28:18.219 +07:00 [DBG] The request has an origin header: 'https://localhost:5003'.
2025-05-13 11:28:18.219 +07:00 [INF] CORS policy execution failed.
2025-05-13 11:28:18.219 +07:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2025-05-13 11:28:18.219 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:28:18.219 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-13 11:28:18.219 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:28:18.219 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:28:18.219 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:28:18.219 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:28:18.219 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:28:18.219 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:28:18.219 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:28:18.219 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:28:18.219 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-05-13 11:28:18.219 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:28:18.219 +07:00 [DBG] Connection id "0HNCHQPGQQPD4", Request id "0HNCHQPGQQPD4:00000013": started reading request body.
2025-05-13 11:28:18.219 +07:00 [DBG] Connection id "0HNCHQPGQQPD4", Request id "0HNCHQPGQQPD4:00000013": done reading request body.
2025-05-13 11:28:18.219 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.ProductDto'
2025-05-13 11:28:18.219 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:28:18.219 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:28:18.219 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:28:18.220 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:28:18.220 +07:00 [DBG] The request has model state errors, returning an error response.
2025-05-13 11:28:18.220 +07:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-05-13 11:28:18.220 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-13 11:28:18.220 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-05-13 11:28:18.220 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-13 11:28:18.220 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-13 11:28:18.220 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 0.8939ms
2025-05-13 11:28:18.220 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:28:18.220 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Create - 400 null application/problem+json; charset=utf-8 2.3646ms
2025-05-13 11:28:56.964 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - null null
2025-05-13 11:28:56.986 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-05-13 11:28:56.986 +07:00 [DBG] Request did not match any endpoints
2025-05-13 11:28:56.986 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-05-13 11:28:56.986 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-05-13 11:28:56.986 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-05-13 11:28:56.986 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-05-13 11:28:56.987 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - 200 null text/html;charset=utf-8 23.5859ms
2025-05-13 11:28:57.000 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-13 11:28:57.000 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.js - null null
2025-05-13 11:28:57.001 +07:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-05-13 11:28:57.001 +07:00 [DBG] Request did not match any endpoints
2025-05-13 11:28:57.001 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-13 11:28:57.002 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.js - 200 null application/javascript;charset=utf-8 1.4605ms
2025-05-13 11:28:57.002 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 1.4154ms
2025-05-13 11:28:57.032 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.6288ms
2025-05-13 11:28:57.169 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-13 11:28:57.169 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-13 11:28:57.169 +07:00 [DBG] Request did not match any endpoints
2025-05-13 11:28:57.180 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.1694ms
2025-05-13 11:29:08.240 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Create - application/json 174
2025-05-13 11:29:08.240 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-05-13 11:29:08.240 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-05-13 11:29:08.240 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:29:08.240 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:29:08.241 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:29:08.241 +07:00 [DBG] The request has an origin header: 'https://localhost:5003'.
2025-05-13 11:29:08.241 +07:00 [INF] CORS policy execution failed.
2025-05-13 11:29:08.241 +07:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2025-05-13 11:29:08.241 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:29:08.241 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-13 11:29:08.241 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:29:08.241 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:29:08.241 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:29:08.241 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:29:08.241 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:29:08.241 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:29:08.241 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:29:08.241 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:29:08.241 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-05-13 11:29:08.241 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:29:08.241 +07:00 [DBG] Connection id "0HNCHQPGQQPD4", Request id "0HNCHQPGQQPD4:0000001F": started reading request body.
2025-05-13 11:29:08.241 +07:00 [DBG] Connection id "0HNCHQPGQQPD4", Request id "0HNCHQPGQQPD4:0000001F": done reading request body.
2025-05-13 11:29:08.243 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.ProductDto'
2025-05-13 11:29:08.243 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:29:08.243 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:29:08.243 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:29:08.243 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:29:08.246 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Create (Product.API) - Validation state: "Valid"
2025-05-13 11:29:27.367 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-13 11:29:27.416 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Select(c => c.ParentId)'
2025-05-13 11:29:27.579 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Guid?>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT c.ParentId
        FROM Categories AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Guid?>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-05-13 11:29:27.595 +07:00 [DBG] Creating DbConnection.
2025-05-13 11:29:27.596 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-13 11:29:27.596 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:27.596 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:27.596 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:29:27.596 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:29:27.596 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:29:27.596 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-05-13 11:29:27.599 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-05-13 11:29:28.343 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:28.343 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 743ms reading results.
2025-05-13 11:29:28.343 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:28.343 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:29:28.355 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Where(c => c.Id == __Id_0 && !(__parentIds_1.Contains((Guid?)c.Id)))
    .Any()'
2025-05-13 11:29:28.399 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Categories AS c
                WHERE (c.Id == @__Id_0) && Not(c.Id = ANY(@__parentIds_1)))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Product.Infrastructure.ProductDBContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-13 11:29:28.414 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:28.414 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:28.414 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:29:28.414 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:29:28.416 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-05-13 11:29:28.417 +07:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-05-13 11:29:28.470 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-05-13 11:29:28.474 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:28.475 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-05-13 11:29:28.475 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:28.475 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:29:34.130 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-13 11:29:34.131 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-05-13 11:29:34.131 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-13 11:29:34.131 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Dtos.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-13 11:29:34.140 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 25898.6856ms
2025-05-13 11:29:34.140 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:29:34.142 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-13 11:29:34.145 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:34.145 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:29:34.146 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Create - 200 null application/json; charset=utf-8 25906.253ms
2025-05-13 11:29:39.931 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Create - application/json 174
2025-05-13 11:29:39.931 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-05-13 11:29:39.931 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-05-13 11:29:39.931 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:29:39.931 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:29:39.931 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:29:39.931 +07:00 [DBG] The request has an origin header: 'https://localhost:5003'.
2025-05-13 11:29:39.931 +07:00 [INF] CORS policy execution failed.
2025-05-13 11:29:39.931 +07:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2025-05-13 11:29:39.931 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:29:39.931 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-13 11:29:39.931 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:29:39.931 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:29:39.931 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:29:39.931 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:29:39.931 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:29:39.932 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:29:39.932 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:29:39.932 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:29:39.932 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-05-13 11:29:39.932 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:29:39.932 +07:00 [DBG] Connection id "0HNCHQPGQQPD4", Request id "0HNCHQPGQQPD4:00000021": started reading request body.
2025-05-13 11:29:39.932 +07:00 [DBG] Connection id "0HNCHQPGQQPD4", Request id "0HNCHQPGQQPD4:00000021": done reading request body.
2025-05-13 11:29:39.933 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.ProductDto'
2025-05-13 11:29:39.933 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:29:39.933 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:29:39.933 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:29:39.933 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:29:39.933 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Create (Product.API) - Validation state: "Valid"
2025-05-13 11:29:44.019 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-13 11:29:44.025 +07:00 [DBG] Creating DbConnection.
2025-05-13 11:29:44.025 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-13 11:29:44.025 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:44.025 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:44.025 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:29:44.025 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:29:44.026 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:29:44.026 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-05-13 11:29:44.033 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-05-13 11:29:44.035 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:44.036 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-05-13 11:29:44.036 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:44.036 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:29:44.037 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:44.037 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:44.037 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:29:44.037 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:29:44.037 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:29:44.037 +07:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-05-13 11:29:44.039 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-05-13 11:29:44.039 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:44.039 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-13 11:29:44.039 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:29:44.039 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:31:46.694 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-13 11:31:47.385 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-13 11:31:47.400 +07:00 [DBG] Creating DbConnection.
2025-05-13 11:31:47.405 +07:00 [DBG] Created DbConnection. (4ms).
2025-05-13 11:31:47.415 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.610 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.613 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.623 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (4ms).
2025-05-13 11:31:47.629 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-13 11:31:47.635 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-05-13 11:31:47.636 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2025-05-13 11:31:47.636 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.734 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.739 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:31:47.811 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:31:47.812 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.813 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-05-13 11:31:47.826 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.826 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.826 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:31:47.826 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:31:47.826 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:31:47.826 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-13 11:31:47.833 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-13 11:31:47.839 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.840 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-05-13 11:31:47.840 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.840 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:31:47.842 +07:00 [DBG] Migrating using database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.842 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.908 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.908 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.908 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:31:47.909 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-13 11:31:47.909 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-13 11:31:47.909 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-13 11:31:47.909 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.909 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.909 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:31:47.913 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:31:47.913 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.913 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:31:47.913 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.981 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.981 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.981 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:31:47.981 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-13 11:31:47.981 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-13 11:31:47.981 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-13 11:31:47.981 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.981 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.982 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:31:47.983 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-13 11:31:47.983 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.983 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:31:47.984 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.984 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.984 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:31:47.984 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:31:47.984 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:31:47.984 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-13 11:31:47.985 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-13 11:31:47.985 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.985 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-13 11:31:47.985 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.985 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:31:47.993 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-05-13 11:31:47.994 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-13 11:31:47.996 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:31:47.996 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:31:48.043 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-13 11:31:48.107 +07:00 [DBG] Hosting starting
2025-05-13 11:31:48.149 +07:00 [INF] User profile is available. Using 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-13 11:31:48.345 +07:00 [DBG] Reading data from file 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys\key-3583acd8-6f16-4ac5-bafa-6a936a93b8ee.xml'.
2025-05-13 11:31:48.351 +07:00 [DBG] Reading data from file 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys\key-af50a5e9-0754-44e4-8bb0-81de900232ca.xml'.
2025-05-13 11:31:48.352 +07:00 [DBG] Reading data from file 'C:\Users\riley.le\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3edaa6-2f44-4836-b1df-64c8b561693e.xml'.
2025-05-13 11:31:48.355 +07:00 [DBG] Found key {3583acd8-6f16-4ac5-bafa-6a936a93b8ee}.
2025-05-13 11:31:48.359 +07:00 [DBG] Found key {af50a5e9-0754-44e4-8bb0-81de900232ca}.
2025-05-13 11:31:48.359 +07:00 [DBG] Found key {cc3edaa6-2f44-4836-b1df-64c8b561693e}.
2025-05-13 11:31:48.364 +07:00 [DBG] Considering key {cc3edaa6-2f44-4836-b1df-64c8b561693e} with expiration date 2025-06-22 04:23:39Z as default key.
2025-05-13 11:31:48.367 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-13 11:31:48.367 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-13 11:31:48.368 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-13 11:31:48.371 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-13 11:31:48.372 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-13 11:31:48.373 +07:00 [DBG] Using key {cc3edaa6-2f44-4836-b1df-64c8b561693e} as the default key.
2025-05-13 11:31:48.374 +07:00 [DBG] Key ring with default key {cc3edaa6-2f44-4836-b1df-64c8b561693e} was loaded during application startup.
2025-05-13 11:31:48.544 +07:00 [INF] Now listening on: https://localhost:51293
2025-05-13 11:31:48.544 +07:00 [INF] Now listening on: http://localhost:51294
2025-05-13 11:31:48.544 +07:00 [DBG] Loaded hosting startup assembly Product.API
2025-05-13 11:31:48.544 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-05-13 11:31:48.544 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-05-13 11:31:48.544 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-05-13 11:31:48.591 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-13 11:31:48.591 +07:00 [INF] Hosting environment: Development
2025-05-13 11:31:48.591 +07:00 [INF] Content root path: C:\PProjects\UTCShop\src\Services\Product\Product.API
2025-05-13 11:31:48.591 +07:00 [DBG] Hosting started
2025-05-13 11:31:51.682 +07:00 [DBG] Connection id "0HNCHQSAJQLFU" accepted.
2025-05-13 11:31:51.690 +07:00 [DBG] Connection id "0HNCHQSAJQLFU" started.
2025-05-13 11:31:51.720 +07:00 [DBG] Connection 0HNCHQSAJQLFU established using the following protocol: "Tls12"
2025-05-13 11:31:51.879 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - null null
2025-05-13 11:31:51.951 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-13 11:31:51.967 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-05-13 11:31:51.968 +07:00 [DBG] Request did not match any endpoints
2025-05-13 11:31:52.017 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-05-13 11:31:52.018 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-05-13 11:31:52.027 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-05-13 11:31:52.029 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-05-13 11:31:52.033 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - 200 null text/html;charset=utf-8 170.7761ms
2025-05-13 11:31:52.057 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-13 11:31:52.058 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.js - null null
2025-05-13 11:31:52.060 +07:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-05-13 11:31:52.060 +07:00 [DBG] Request did not match any endpoints
2025-05-13 11:31:52.062 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.js - 200 null application/javascript;charset=utf-8 4.0202ms
2025-05-13 11:31:52.062 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-13 11:31:52.081 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 24.2333ms
2025-05-13 11:31:52.114 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.9961ms
2025-05-13 11:31:52.238 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-13 11:31:52.238 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-13 11:31:52.238 +07:00 [DBG] Request did not match any endpoints
2025-05-13 11:31:52.273 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.8552ms
2025-05-13 11:32:09.705 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Create - application/json 173
2025-05-13 11:32:09.708 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-05-13 11:32:09.710 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-05-13 11:32:09.711 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:32:09.712 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:32:09.765 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:32:09.767 +07:00 [DBG] The request has an origin header: 'https://localhost:5003'.
2025-05-13 11:32:09.767 +07:00 [INF] CORS policy execution failed.
2025-05-13 11:32:09.767 +07:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2025-05-13 11:32:09.768 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:32:09.785 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-13 11:32:09.786 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:32:09.787 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:32:09.787 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:32:09.787 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:32:09.787 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:32:09.788 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:32:09.789 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:32:09.802 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:32:09.804 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-05-13 11:32:09.805 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:32:09.819 +07:00 [DBG] Connection id "0HNCHQSAJQLFU", Request id "0HNCHQSAJQLFU:0000000B": started reading request body.
2025-05-13 11:32:09.819 +07:00 [DBG] Connection id "0HNCHQSAJQLFU", Request id "0HNCHQSAJQLFU:0000000B": done reading request body.
2025-05-13 11:32:09.823 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.ProductDto'
2025-05-13 11:32:09.823 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:32:09.824 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:32:09.824 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:32:09.831 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:32:09.835 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Create (Product.API) - Validation state: "Valid"
2025-05-13 11:32:11.887 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-13 11:32:11.916 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Select(c => c.ParentId)'
2025-05-13 11:32:12.026 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Guid?>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT c.ParentId
        FROM Categories AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Guid?>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-05-13 11:32:12.041 +07:00 [DBG] Creating DbConnection.
2025-05-13 11:32:12.041 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-13 11:32:12.041 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:32:12.041 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:32:12.041 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:32:12.041 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:32:12.041 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:32:12.042 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-05-13 11:32:12.044 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-05-13 11:32:12.050 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:32:12.051 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2025-05-13 11:32:12.051 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:32:12.051 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:32:12.060 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Where(c => c.Id == __Id_0 && !(__parentIds_1.Contains((Guid?)c.Id)))
    .Any()'
2025-05-13 11:32:12.102 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Categories AS c
                WHERE (c.Id == @__Id_0) && Not(c.Id = ANY(@__parentIds_1)))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Product.Infrastructure.ProductDBContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-13 11:32:12.117 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:32:12.117 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:32:12.117 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:32:12.117 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:32:12.119 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-05-13 11:32:12.120 +07:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-05-13 11:32:12.175 +07:00 [INF] Executed DbCommand (56ms) [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-05-13 11:32:12.178 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:32:12.180 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-05-13 11:32:12.180 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:32:12.181 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:32:12.319 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-13 11:32:12.321 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-05-13 11:32:12.321 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-13 11:32:12.322 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Dtos.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-13 11:32:12.334 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 2543.5597ms
2025-05-13 11:32:12.335 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:32:12.337 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-13 11:32:12.340 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:32:12.340 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:32:12.341 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Create - 200 null application/json; charset=utf-8 2635.7489ms
2025-05-13 11:33:26.387 +07:00 [DBG] Connection id "0HNCHQSAJQLFV" accepted.
2025-05-13 11:33:26.388 +07:00 [DBG] Connection id "0HNCHQSAJQLFV" started.
2025-05-13 11:33:26.389 +07:00 [DBG] Connection id "0HNCHQSAJQLG0" accepted.
2025-05-13 11:33:26.389 +07:00 [DBG] Connection id "0HNCHQSAJQLG0" started.
2025-05-13 11:33:26.399 +07:00 [DBG] Connection 0HNCHQSAJQLG0 established using the following protocol: "Tls12"
2025-05-13 11:33:26.406 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:5003/api/Product/Create - application/json 171
2025-05-13 11:33:26.407 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-05-13 11:33:26.407 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-05-13 11:33:26.407 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:33:26.407 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:33:26.408 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:33:26.408 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:33:26.409 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-13 11:33:26.409 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:33:26.409 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:33:26.409 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:33:26.409 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:33:26.409 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:33:26.409 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:33:26.409 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:33:26.410 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:33:26.410 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-05-13 11:33:26.410 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:33:26.411 +07:00 [DBG] Connection id "0HNCHQSAJQLG0", Request id "0HNCHQSAJQLG0:00000001": started reading request body.
2025-05-13 11:33:26.411 +07:00 [DBG] Connection id "0HNCHQSAJQLG0", Request id "0HNCHQSAJQLG0:00000001": done reading request body.
2025-05-13 11:33:26.417 +07:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.String. Path: $.name | LineNumber: 1 | BytePositionInLine: 11.
2025-05-13 11:33:26.417 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:33:26.417 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:33:26.417 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:33:26.418 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:33:26.418 +07:00 [DBG] The request has model state errors, returning an error response.
2025-05-13 11:33:26.419 +07:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-05-13 11:33:26.419 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-13 11:33:26.420 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-13 11:33:26.420 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-13 11:33:26.420 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-13 11:33:26.420 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-13 11:33:26.432 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 22.7765ms
2025-05-13 11:33:26.432 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:33:26.432 +07:00 [DBG] Connection id "0HNCHQSAJQLG0" completed keep alive response.
2025-05-13 11:33:26.432 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:5003/api/Product/Create - 400 null application/problem+json; charset=utf-8 26.7719ms
2025-05-13 11:33:31.394 +07:00 [DBG] Connection id "0HNCHQSAJQLFV" received FIN.
2025-05-13 11:33:31.396 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-05-13 11:33:31.431 +07:00 [DBG] Connection id "0HNCHQSAJQLFV" stopped.
2025-05-13 11:33:31.432 +07:00 [DBG] Connection id "0HNCHQSAJQLFV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-13 11:33:39.987 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:5003/api/Product/Create - application/json 177
2025-05-13 11:33:39.987 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-05-13 11:33:39.987 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-05-13 11:33:39.987 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:33:39.987 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:33:39.988 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:33:39.989 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:33:39.989 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-13 11:33:39.989 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:33:39.989 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:33:39.989 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:33:39.989 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:33:39.989 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:33:39.989 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:33:39.989 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:33:39.989 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:33:39.990 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-05-13 11:33:39.990 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:33:39.990 +07:00 [DBG] Connection id "0HNCHQSAJQLG0", Request id "0HNCHQSAJQLG0:00000002": started reading request body.
2025-05-13 11:33:39.990 +07:00 [DBG] Connection id "0HNCHQSAJQLG0", Request id "0HNCHQSAJQLG0:00000002": done reading request body.
2025-05-13 11:33:39.990 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.ProductDto'
2025-05-13 11:33:39.990 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:33:39.990 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:33:39.990 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:33:39.990 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:33:39.990 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Create (Product.API) - Validation state: "Valid"
2025-05-13 11:33:41.570 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-05-13 11:33:41.573 +07:00 [DBG] Creating DbConnection.
2025-05-13 11:33:41.574 +07:00 [DBG] Created DbConnection. (0ms).
2025-05-13 11:33:41.574 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:33:41.574 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:33:41.574 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:33:41.574 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:33:41.574 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:33:41.574 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-05-13 11:33:41.575 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-05-13 11:33:41.576 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:33:41.577 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-05-13 11:33:41.577 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:33:41.577 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:33:41.580 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:33:41.580 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:33:41.580 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-13 11:33:41.580 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:33:41.580 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-13 11:33:41.580 +07:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-05-13 11:33:41.582 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-05-13 11:33:41.582 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:33:41.582 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-05-13 11:33:41.582 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:33:41.582 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:33:41.770 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-13 11:33:41.770 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-13 11:33:41.770 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-13 11:33:41.770 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-13 11:33:41.771 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-13 11:33:41.771 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Dtos.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-13 11:33:41.771 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 1781.9358ms
2025-05-13 11:33:41.771 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:33:41.771 +07:00 [DBG] Connection id "0HNCHQSAJQLG0" completed keep alive response.
2025-05-13 11:33:41.771 +07:00 [DBG] 'ProductDBContext' disposed.
2025-05-13 11:33:41.771 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-05-13 11:33:41.771 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-05-13 11:33:41.771 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:5003/api/Product/Create - 200 null application/json; charset=utf-8 1784.6075ms
2025-05-13 11:33:49.155 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:5003/api/Product/Create - application/json 185
2025-05-13 11:33:49.156 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-05-13 11:33:49.156 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-05-13 11:33:49.156 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:33:49.156 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:33:49.156 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:33:49.156 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:33:49.156 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-13 11:33:49.156 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:33:49.156 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:33:49.156 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:33:49.156 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:33:49.156 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:33:49.156 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:33:49.156 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:33:49.156 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:33:49.156 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-05-13 11:33:49.156 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:33:49.156 +07:00 [DBG] Connection id "0HNCHQSAJQLG0", Request id "0HNCHQSAJQLG0:00000003": started reading request body.
2025-05-13 11:33:49.156 +07:00 [DBG] Connection id "0HNCHQSAJQLG0", Request id "0HNCHQSAJQLG0:00000003": done reading request body.
2025-05-13 11:33:49.159 +07:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Decimal. Path: $.price | LineNumber: 2 | BytePositionInLine: 20.
2025-05-13 11:33:49.159 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:33:49.159 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:33:49.159 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:33:49.159 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:33:49.159 +07:00 [DBG] The request has model state errors, returning an error response.
2025-05-13 11:33:49.159 +07:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-05-13 11:33:49.159 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-13 11:33:49.159 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-13 11:33:49.159 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-13 11:33:49.159 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-13 11:33:49.159 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-13 11:33:49.159 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 2.9792ms
2025-05-13 11:33:49.159 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:33:49.159 +07:00 [DBG] Connection id "0HNCHQSAJQLG0" completed keep alive response.
2025-05-13 11:33:49.159 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:5003/api/Product/Create - 400 null application/problem+json; charset=utf-8 4.2748ms
2025-05-13 11:34:08.018 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:5003/api/Product/Create - application/json 185
2025-05-13 11:34:08.018 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-05-13 11:34:08.018 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-05-13 11:34:08.018 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:34:08.018 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:34:08.018 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:34:08.018 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:34:08.018 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-13 11:34:08.018 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:34:08.018 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:34:08.018 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:34:08.018 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:34:08.018 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:34:08.018 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:34:08.018 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:34:08.018 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:34:08.018 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-05-13 11:34:08.018 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:34:08.019 +07:00 [DBG] Connection id "0HNCHQSAJQLG0", Request id "0HNCHQSAJQLG0:00000004": started reading request body.
2025-05-13 11:34:08.019 +07:00 [DBG] Connection id "0HNCHQSAJQLG0", Request id "0HNCHQSAJQLG0:00000004": done reading request body.
2025-05-13 11:34:08.019 +07:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Decimal. Path: $.price | LineNumber: 2 | BytePositionInLine: 20.
2025-05-13 11:34:08.020 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:34:08.020 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:34:08.020 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:34:08.020 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:34:08.020 +07:00 [DBG] The request has model state errors, returning an error response.
2025-05-13 11:34:08.020 +07:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-05-13 11:34:08.020 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-13 11:34:08.020 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-13 11:34:08.020 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-13 11:34:08.020 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-13 11:34:08.020 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-13 11:34:08.020 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 1.6844ms
2025-05-13 11:34:08.020 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:34:08.020 +07:00 [DBG] Connection id "0HNCHQSAJQLG0" completed keep alive response.
2025-05-13 11:34:08.020 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:5003/api/Product/Create - 400 null application/problem+json; charset=utf-8 2.519ms
2025-05-13 11:34:09.148 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:5003/api/Product/Create - application/json 185
2025-05-13 11:34:09.149 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-05-13 11:34:09.149 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-05-13 11:34:09.149 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:34:09.149 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:34:09.149 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:34:09.149 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:34:09.149 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-13 11:34:09.149 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:34:09.149 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:34:09.149 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:34:09.149 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:34:09.149 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:34:09.149 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:34:09.149 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:34:09.149 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:34:09.149 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-05-13 11:34:09.149 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:34:09.149 +07:00 [DBG] Connection id "0HNCHQSAJQLG0", Request id "0HNCHQSAJQLG0:00000005": started reading request body.
2025-05-13 11:34:09.149 +07:00 [DBG] Connection id "0HNCHQSAJQLG0", Request id "0HNCHQSAJQLG0:00000005": done reading request body.
2025-05-13 11:34:09.150 +07:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Decimal. Path: $.price | LineNumber: 2 | BytePositionInLine: 20.
2025-05-13 11:34:09.150 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:34:09.150 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:34:09.151 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:34:09.151 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:34:09.151 +07:00 [DBG] The request has model state errors, returning an error response.
2025-05-13 11:34:09.151 +07:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-05-13 11:34:09.151 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-13 11:34:09.151 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-13 11:34:09.151 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-13 11:34:09.151 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-13 11:34:09.151 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-13 11:34:09.151 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 1.8968ms
2025-05-13 11:34:09.151 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:34:09.151 +07:00 [DBG] Connection id "0HNCHQSAJQLG0" completed keep alive response.
2025-05-13 11:34:09.151 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:5003/api/Product/Create - 400 null application/problem+json; charset=utf-8 2.9913ms
2025-05-13 11:34:16.211 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:5003/api/Product/Create - application/json 185
2025-05-13 11:34:16.211 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-05-13 11:34:16.211 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-05-13 11:34:16.211 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:34:16.211 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-13 11:34:16.211 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-13 11:34:16.211 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:34:16.211 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-05-13 11:34:16.211 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-13 11:34:16.211 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-13 11:34:16.211 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-13 11:34:16.211 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-05-13 11:34:16.211 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-13 11:34:16.211 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:34:16.211 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-05-13 11:34:16.211 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:34:16.212 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-05-13 11:34:16.212 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-13 11:34:16.212 +07:00 [DBG] Connection id "0HNCHQSAJQLG0", Request id "0HNCHQSAJQLG0:00000006": started reading request body.
2025-05-13 11:34:16.212 +07:00 [DBG] Connection id "0HNCHQSAJQLG0", Request id "0HNCHQSAJQLG0:00000006": done reading request body.
2025-05-13 11:34:16.213 +07:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Decimal. Path: $.price | LineNumber: 2 | BytePositionInLine: 20.
2025-05-13 11:34:16.213 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:34:16.213 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:34:16.213 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-05-13 11:34:16.213 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-05-13 11:34:16.213 +07:00 [DBG] The request has model state errors, returning an error response.
2025-05-13 11:34:16.213 +07:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-05-13 11:34:16.213 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-13 11:34:16.213 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-13 11:34:16.213 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-13 11:34:16.213 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-13 11:34:16.213 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-13 11:34:16.213 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 1.8297ms
2025-05-13 11:34:16.213 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-05-13 11:34:16.213 +07:00 [DBG] Connection id "0HNCHQSAJQLG0" completed keep alive response.
2025-05-13 11:34:16.213 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:5003/api/Product/Create - 400 null application/problem+json; charset=utf-8 2.8236ms
