2025-06-07 11:03:09.970 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-07 11:03:11.250 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:03:11.268 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:03:11.272 +07:00 [DBG] Created DbConnection. (3ms).
2025-06-07 11:03:11.285 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.499 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.502 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.512 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (6ms).
2025-06-07 11:03:11.520 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:03:11.527 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2025-06-07 11:03:11.528 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2025-06-07 11:03:11.528 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.596 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.603 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:03:11.668 +07:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:03:11.670 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.672 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 11:03:11.687 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.687 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.687 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:03:11.687 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:03:11.687 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:03:11.688 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:03:11.694 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:03:11.701 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.702 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
2025-06-07 11:03:11.702 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.702 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:03:11.705 +07:00 [DBG] Migrating using database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.705 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.751 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.751 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.751 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:03:11.751 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:03:11.752 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:03:11.752 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:03:11.752 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.752 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.752 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:03:11.754 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:03:11.754 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.754 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:03:11.755 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.798 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.798 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.799 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:03:11.799 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:03:11.799 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:03:11.799 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:03:11.799 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.799 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.799 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:03:11.800 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:03:11.800 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.800 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:03:11.800 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.800 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.801 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:03:11.801 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:03:11.801 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:03:11.801 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:03:11.801 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:03:11.802 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.802 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:03:11.802 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.802 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:03:11.811 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-06-07 11:03:11.812 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:03:11.814 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:03:11.815 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:03:11.849 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-07 11:03:11.902 +07:00 [DBG] Hosting starting
2025-06-07 11:03:11.934 +07:00 [INF] User profile is available. Using 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-07 11:03:12.495 +07:00 [DBG] Starting bus instances: IBus
2025-06-07 11:03:12.500 +07:00 [DBG] Starting bus: "rabbitmq://localhost/"
2025-06-07 11:03:12.520 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-76077df0-b207-403d-8775-1a14f934e677.xml'.
2025-06-07 11:03:12.536 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-f34d44b7-a8db-4c0f-9aaf-b09be42d65e9.xml'.
2025-06-07 11:03:12.541 +07:00 [DBG] Found key {76077df0-b207-403d-8775-1a14f934e677}.
2025-06-07 11:03:12.543 +07:00 [DBG] Connect: guest@localhost:5672/
2025-06-07 11:03:12.545 +07:00 [DBG] Found key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9}.
2025-06-07 11:03:12.550 +07:00 [DBG] Considering key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} with expiration date 2025-09-05 02:16:48Z as default key.
2025-06-07 11:03:12.552 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 11:03:12.553 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-06-07 11:03:12.554 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 11:03:12.556 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-06-07 11:03:12.557 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-06-07 11:03:12.559 +07:00 [DBG] Using key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} as the default key.
2025-06-07 11:03:12.560 +07:00 [DBG] Key ring with default key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} was loaded during application startup.
2025-06-07 11:03:12.617 +07:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 56857)
2025-06-07 11:03:12.721 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/LAPTOPHPOFAN_ProductAPI_bus_tofoyyg414af3fbybdq4k6bsf5?temporary=true"
2025-06-07 11:03:12.737 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-06-07 11:03:12.843 +07:00 [INF] Now listening on: https://localhost:56804
2025-06-07 11:03:12.843 +07:00 [INF] Now listening on: http://localhost:56805
2025-06-07 11:03:12.843 +07:00 [DBG] Loaded hosting startup assembly Product.API
2025-06-07 11:03:12.843 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-07 11:03:12.843 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-07 11:03:12.843 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-07 11:03:12.927 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-07 11:03:12.928 +07:00 [INF] Hosting environment: Development
2025-06-07 11:03:12.928 +07:00 [INF] Content root path: D:\LearnNetMicroServices\UTCShop\src\Services\Product\Product.API
2025-06-07 11:03:12.928 +07:00 [DBG] Hosting started
2025-06-07 11:04:54.931 +07:00 [DBG] Connection id "0HND5F1QUGUKN" accepted.
2025-06-07 11:04:54.938 +07:00 [DBG] Connection id "0HND5F1QUGUKN" started.
2025-06-07 11:04:54.960 +07:00 [DBG] Connection 0HND5F1QUGUKN established using the following protocol: "Tls12"
2025-06-07 11:04:55.036 +07:00 [DBG] Connection id "0HND5F1QUGUKO" accepted.
2025-06-07 11:04:55.036 +07:00 [DBG] Connection id "0HND5F1QUGUKO" started.
2025-06-07 11:04:55.040 +07:00 [DBG] Connection 0HND5F1QUGUKO established using the following protocol: "Tls12"
2025-06-07 11:04:55.136 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger - null null
2025-06-07 11:04:55.811 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-07 11:04:55.832 +07:00 [DBG] No candidates found for the request path '/swagger'
2025-06-07 11:04:55.832 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:04:55.846 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger - 301 0 null 749.3252ms
2025-06-07 11:04:55.854 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - null null
2025-06-07 11:04:55.859 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-06-07 11:04:55.859 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:04:55.921 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-07 11:04:55.922 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-07 11:04:55.928 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-07 11:04:55.929 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-07 11:04:55.929 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - 200 null text/html;charset=utf-8 75.4796ms
2025-06-07 11:04:55.950 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/swagger-ui.css - null null
2025-06-07 11:04:55.950 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.css - null null
2025-06-07 11:04:55.951 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/swagger-ui-bundle.js - null null
2025-06-07 11:04:55.951 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/swagger-ui-standalone-preset.js - null null
2025-06-07 11:04:55.952 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2025-06-07 11:04:55.952 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2025-06-07 11:04:55.952 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-06-07 11:04:55.954 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:04:55.954 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:04:55.954 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.js - null null
2025-06-07 11:04:55.954 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:04:55.958 +07:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-06-07 11:04:55.958 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:04:55.958 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-06-07 11:04:55.958 +07:00 [DBG] No candidates found for the request path '/swagger/index.css'
2025-06-07 11:04:55.961 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:04:55.963 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.js - 200 null application/javascript;charset=utf-8 10.3187ms
2025-06-07 11:04:55.966 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-06-07 11:04:55.979 +07:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-06-07 11:04:55.980 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.css - 200 202 text/css 29.5753ms
2025-06-07 11:04:56.014 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 63.0797ms
2025-06-07 11:04:56.032 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-06-07 11:04:56.032 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-07 11:04:56.043 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 92.1677ms
2025-06-07 11:04:56.043 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/swagger-ui.css - 200 154948 text/css 92.5136ms
2025-06-07 11:04:56.104 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-06-07 11:04:56.105 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/swagger-ui-bundle.js - 200 1466324 text/javascript 154.2182ms
2025-06-07 11:04:56.347 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 381.1086ms
2025-06-07 11:04:56.428 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-06-07 11:04:56.428 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-06-07 11:04:56.428 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:04:56.490 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/favicon-32x32.png - null null
2025-06-07 11:04:56.490 +07:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2025-06-07 11:04:56.490 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:04:56.491 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-06-07 11:04:56.491 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/favicon-32x32.png - 200 628 image/png 1.149ms
2025-06-07 11:04:56.506 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 77.92ms
2025-06-07 11:05:00.050 +07:00 [DBG] Connection id "0HND5F1QUGUKO" received FIN.
2025-06-07 11:05:00.051 +07:00 [DBG] Connection id "0HND5F1QUGUKO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 11:05:00.051 +07:00 [DBG] Connection id "0HND5F1QUGUKO" is closed. The last processed stream ID was 0.
2025-06-07 11:05:00.052 +07:00 [DBG] The connection queue processing loop for 0HND5F1QUGUKO completed.
2025-06-07 11:05:00.055 +07:00 [DBG] Connection id "0HND5F1QUGUKO" stopped.
2025-06-07 11:05:01.514 +07:00 [DBG] Connection id "0HND5F1QUGUKN" received FIN.
2025-06-07 11:05:01.515 +07:00 [DBG] Connection id "0HND5F1QUGUKN" is closed. The last processed stream ID was 21.
2025-06-07 11:05:01.515 +07:00 [DBG] The connection queue processing loop for 0HND5F1QUGUKN completed.
2025-06-07 11:05:01.515 +07:00 [DBG] Connection id "0HND5F1QUGUKN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 11:05:01.530 +07:00 [DBG] Connection id "0HND5F1QUGUKN" stopped.
2025-06-07 11:06:07.641 +07:00 [DBG] Connection id "0HND5F1QUGUKP" accepted.
2025-06-07 11:06:07.641 +07:00 [DBG] Connection id "0HND5F1QUGUKP" started.
2025-06-07 11:06:07.649 +07:00 [DBG] Connection 0HND5F1QUGUKP established using the following protocol: "Tls12"
2025-06-07 11:06:07.655 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 87
2025-06-07 11:06:07.666 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:06:07.671 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:06:07.672 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:06:07.674 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:06:10.014 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 11:06:10.016 +07:00 [DBG] The request has an origin header: 'https://localhost:5003'.
2025-06-07 11:06:10.016 +07:00 [INF] CORS policy execution failed.
2025-06-07 11:06:10.016 +07:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2025-06-07 11:06:10.017 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:06:10.055 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:06:10.060 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:06:10.061 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:06:10.061 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:06:10.061 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:06:10.062 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:06:10.063 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:06:10.065 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:06:10.084 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:06:10.088 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:06:10.093 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:06:10.114 +07:00 [DBG] Connection id "0HND5F1QUGUKP", Request id "0HND5F1QUGUKP:00000001": started reading request body.
2025-06-07 11:06:10.114 +07:00 [DBG] Connection id "0HND5F1QUGUKP", Request id "0HND5F1QUGUKP:00000001": done reading request body.
2025-06-07 11:06:10.120 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:06:10.121 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:06:10.121 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:06:10.121 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:06:10.145 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:06:10.152 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:06:10.199 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:06:10.272 +07:00 [DBG] Compiling query expression: 
'DbSet<ProductEntity>()
    .Where(p => p.IsDeleted == (bool?)False)
    .Include(p => p.Category)
    .Skip(__p_0)
    .Take(__p_1)'
2025-06-07 11:06:10.396 +07:00 [DBG] Including navigation: 'ProductEntity.Category'.
2025-06-07 11:06:10.481 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-07 11:06:10.483 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-07 11:06:10.685 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ProductEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductEntity.CategoryId (Guid) Required FK Index, 1], [Property: ProductEntity.CreatedAt (DateTime?), 2], [Property: ProductEntity.CreatedBy (Guid?), 3], [Property: ProductEntity.Description (string) Required, 4], [Property: ProductEntity.ImageUrl (string) Required, 5], [Property: ProductEntity.IsDeleted (bool?), 6], [Property: ProductEntity.LastUpdatedAt (DateTime?), 7], [Property: ProductEntity.LastUpdatedBy (Guid?), 8], [Property: ProductEntity.Name (string) Required, 9], [Property: ProductEntity.Price (decimal) Required, 10] }
            1 -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: CategoryEntity.CreatedAt (DateTime?), 12], [Property: CategoryEntity.CreatedBy (Guid?), 13], [Property: CategoryEntity.Description (string) Required, 14], [Property: CategoryEntity.ImageUrl (string) Required, 15], [Property: CategoryEntity.IsDeleted (bool?), 16], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 17], [Property: CategoryEntity.LastUpdatedBy (Guid?), 18], [Property: CategoryEntity.Name (string) Required, 19], [Property: CategoryEntity.ParentId (Guid?) FK Index, 20] }
        SELECT t.Id, t.CategoryId, t.CreatedAt, t.CreatedBy, t.Description, t.ImageUrl, t.IsDeleted, t.LastUpdatedAt, t.LastUpdatedBy, t.Name, t.Price, c.Id, c.CreatedAt, c.CreatedBy, c.Description, c.ImageUrl, c.IsDeleted, c.LastUpdatedAt, c.LastUpdatedBy, c.Name, c.ParentId
        FROM 
        (
            SELECT p.Id, p.CategoryId, p.CreatedAt, p.CreatedBy, p.Description, p.ImageUrl, p.IsDeleted, p.LastUpdatedAt, p.LastUpdatedBy, p.Name, p.Price
            FROM Products AS p
            WHERE p.IsDeleted == FALSE
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN Categories AS c ON t.CategoryId == c.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 11:06:10.729 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:06:10.729 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:06:10.729 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:06:10.729 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:06:10.729 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:06:10.729 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:06:10.733 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-06-07 11:06:10.735 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:06:10.767 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:06:10.772 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:06:10.772 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-06-07 11:06:10.773 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:06:10.773 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:06:10.884 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 728.9353ms.
2025-06-07 11:06:10.893 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:06:10.896 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-06-07 11:06:10.896 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:06:10.897 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:06:10.929 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 861.5935ms
2025-06-07 11:06:10.930 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:06:10.931 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:06:10.933 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:06:10.934 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 11:06:10.934 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 3279.6033ms
2025-06-07 11:06:20.948 +07:00 [DBG] Connection id "0HND5F1QUGUKP" received FIN.
2025-06-07 11:06:20.948 +07:00 [DBG] Connection id "0HND5F1QUGUKP" is closed. The last processed stream ID was 1.
2025-06-07 11:06:20.948 +07:00 [DBG] Connection id "0HND5F1QUGUKP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 11:06:20.948 +07:00 [DBG] The connection queue processing loop for 0HND5F1QUGUKP completed.
2025-06-07 11:06:20.949 +07:00 [DBG] Connection id "0HND5F1QUGUKP" stopped.
2025-06-07 11:13:38.132 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-07 11:13:39.907 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:13:39.923 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:13:39.928 +07:00 [DBG] Created DbConnection. (4ms).
2025-06-07 11:13:39.942 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.223 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.228 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.239 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (7ms).
2025-06-07 11:13:40.248 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:13:40.253 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2025-06-07 11:13:40.254 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2025-06-07 11:13:40.254 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.341 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.347 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:13:40.493 +07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:13:40.499 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.508 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (8ms).
2025-06-07 11:13:40.576 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.576 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.577 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:13:40.577 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:13:40.577 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:13:40.577 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:13:40.585 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:13:40.593 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.594 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 8ms reading results.
2025-06-07 11:13:40.594 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.594 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:13:40.597 +07:00 [DBG] Migrating using database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.598 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.644 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.644 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.644 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:13:40.644 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:13:40.644 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:13:40.644 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:13:40.644 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.645 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.645 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:13:40.647 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:13:40.647 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.648 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:13:40.648 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.687 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.688 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.688 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:13:40.688 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:13:40.688 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:13:40.688 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:13:40.688 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.688 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.688 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:13:40.689 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:13:40.689 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.689 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:13:40.689 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.689 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.689 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:13:40.689 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:13:40.689 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:13:40.689 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:13:40.690 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:13:40.690 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.690 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:13:40.690 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.690 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:13:40.698 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-06-07 11:13:40.700 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:13:40.701 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:13:40.702 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:13:40.736 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-07 11:13:40.793 +07:00 [DBG] Hosting starting
2025-06-07 11:13:40.828 +07:00 [INF] User profile is available. Using 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-07 11:13:41.020 +07:00 [DBG] Starting bus instances: IBus
2025-06-07 11:13:41.024 +07:00 [DBG] Starting bus: "rabbitmq://localhost/"
2025-06-07 11:13:41.048 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-76077df0-b207-403d-8775-1a14f934e677.xml'.
2025-06-07 11:13:41.066 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-f34d44b7-a8db-4c0f-9aaf-b09be42d65e9.xml'.
2025-06-07 11:13:41.074 +07:00 [DBG] Found key {76077df0-b207-403d-8775-1a14f934e677}.
2025-06-07 11:13:41.077 +07:00 [DBG] Connect: guest@localhost:5672/
2025-06-07 11:13:41.081 +07:00 [DBG] Found key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9}.
2025-06-07 11:13:41.088 +07:00 [DBG] Considering key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} with expiration date 2025-09-05 02:16:48Z as default key.
2025-06-07 11:13:41.094 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 11:13:41.095 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-06-07 11:13:41.097 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 11:13:41.100 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-06-07 11:13:41.102 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-06-07 11:13:41.111 +07:00 [DBG] Using key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} as the default key.
2025-06-07 11:13:41.113 +07:00 [DBG] Key ring with default key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} was loaded during application startup.
2025-06-07 11:13:41.185 +07:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 51123)
2025-06-07 11:13:41.444 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/LAPTOPHPOFAN_ProductAPI_bus_ybmyyyg414afanzbbdq4k6ppdc?temporary=true"
2025-06-07 11:13:41.464 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-06-07 11:13:41.613 +07:00 [INF] Now listening on: https://localhost:51060
2025-06-07 11:13:41.613 +07:00 [INF] Now listening on: http://localhost:51061
2025-06-07 11:13:41.614 +07:00 [DBG] Loaded hosting startup assembly Product.API
2025-06-07 11:13:41.614 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-07 11:13:41.614 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-07 11:13:41.614 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-07 11:13:41.798 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-07 11:13:41.799 +07:00 [INF] Hosting environment: Development
2025-06-07 11:13:41.799 +07:00 [INF] Content root path: D:\LearnNetMicroServices\UTCShop\src\Services\Product\Product.API
2025-06-07 11:13:41.799 +07:00 [DBG] Hosting started
2025-06-07 11:15:50.385 +07:00 [DBG] Connection id "0HND5F7U9DHOI" accepted.
2025-06-07 11:15:50.397 +07:00 [DBG] Connection id "0HND5F7U9DHOI" started.
2025-06-07 11:15:50.432 +07:00 [DBG] Connection 0HND5F7U9DHOI established using the following protocol: "Tls12"
2025-06-07 11:15:50.532 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 11:15:50.531 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 11:15:50.556 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-07 11:15:50.556 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-07 11:15:50.607 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 11:15:50.607 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 11:15:50.614 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 11:15:50.615 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 11:15:50.616 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:15:50.616 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:15:50.627 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:15:50.628 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:15:50.942 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:15:50.942 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:15:50.944 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:15:50.944 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:15:50.948 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:15:50.948 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:15:50.948 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:15:50.948 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:15:50.949 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:15:50.949 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:15:50.968 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:15:50.969 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:15:50.970 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:15:50.970 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:15:50.970 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:15:50.970 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:15:50.971 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:15:50.971 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:15:50.971 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:15:50.971 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:15:50.971 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:15:50.971 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:15:50.973 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:15:50.973 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:15:50.974 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:15:50.974 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:15:50.986 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 11:15:50.987 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:15:50.990 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:15:50.992 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:15:51.029 +07:00 [DBG] Connection id "0HND5F7U9DHOI", Request id "0HND5F7U9DHOI:00000003": started reading request body.
2025-06-07 11:15:51.029 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:15:51.029 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:15:51.029 +07:00 [DBG] Connection id "0HND5F7U9DHOI", Request id "0HND5F7U9DHOI:00000003": done reading request body.
2025-06-07 11:15:51.031 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:15:51.031 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:15:51.031 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:15:51.031 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:15:51.031 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:15:51.031 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:15:51.031 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:15:51.032 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:15:51.032 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:15:51.035 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:15:51.035 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:15:51.036 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:15:51.036 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:15:51.037 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:15:51.037 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:15:51.038 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:15:51.038 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:15:51.038 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:15:51.038 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:15:51.040 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:15:51.041 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:15:51.042 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:15:51.042 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:15:51.050 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:15:51.050 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:15:51.050 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:15:51.050 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:15:51.050 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:15:51.050 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:15:51.050 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:15:51.050 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:15:51.050 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:15:51.050 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:15:51.050 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:15:51.050 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:15:51.050 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:15:51.050 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:15:51.051 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:15:51.051 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:15:51.051 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:15:51.051 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:15:51.052 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:15:51.052 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:15:51.052 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:15:51.052 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:15:51.052 +07:00 [DBG] Connection id "0HND5F7U9DHOI", Request id "0HND5F7U9DHOI:00000007": started reading request body.
2025-06-07 11:15:51.052 +07:00 [DBG] Connection id "0HND5F7U9DHOI", Request id "0HND5F7U9DHOI:00000005": started reading request body.
2025-06-07 11:15:51.052 +07:00 [DBG] Connection id "0HND5F7U9DHOI", Request id "0HND5F7U9DHOI:00000007": done reading request body.
2025-06-07 11:15:51.052 +07:00 [DBG] Connection id "0HND5F7U9DHOI", Request id "0HND5F7U9DHOI:00000005": done reading request body.
2025-06-07 11:15:51.052 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:15:51.052 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:15:51.052 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:15:51.052 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:15:51.052 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:15:51.052 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:15:51.052 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:15:51.052 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:15:51.073 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:15:51.073 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:15:51.073 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:15:51.077 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:15:51.077 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:15:51.077 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:15:51.094 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()'
2025-06-07 11:15:51.179 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:15:51.179 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:15:51.180 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:15:51.218 +07:00 [DBG] Compiling query expression: 
'DbSet<ProductEntity>()
    .Where(p => p.IsDeleted == (bool?)False)
    .Include(p => p.Category)
    .Skip(__p_0)
    .Take(__p_1)'
2025-06-07 11:15:51.219 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Where(p => p.IsDeleted == (bool?)False)
    .Skip(__p_0)
    .Take(__p_1)
    .Include(c => c.ChildCategories)
    .Select(c => new CategoryEntity{ 
        Id = c.Id, 
        Name = c.Name, 
        ImageUrl = c.ImageUrl, 
        ParentId = c.ParentId, 
        ParentName = c.ParentCategory.Name == null ? "" : c.ParentCategory.Name, 
        ChildCategories = c.ChildCategories 
    }
    )'
2025-06-07 11:15:51.325 +07:00 [DBG] Including navigation: 'ProductEntity.Category'.
2025-06-07 11:15:51.350 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-07 11:15:51.350 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-07 11:15:51.350 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-07 11:15:51.350 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-07 11:15:51.353 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CategoryEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CategoryEntity.CreatedAt (DateTime?), 1], [Property: CategoryEntity.CreatedBy (Guid?), 2], [Property: CategoryEntity.Description (string) Required, 3], [Property: CategoryEntity.ImageUrl (string) Required, 4], [Property: CategoryEntity.IsDeleted (bool?), 5], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 6], [Property: CategoryEntity.LastUpdatedBy (Guid?), 7], [Property: CategoryEntity.Name (string) Required, 8], [Property: CategoryEntity.ParentId (Guid?) FK Index, 9] }
        SELECT c.Id, c.CreatedAt, c.CreatedBy, c.Description, c.ImageUrl, c.IsDeleted, c.LastUpdatedAt, c.LastUpdatedBy, c.Name, c.ParentId
        FROM Categories AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CategoryEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 11:15:51.371 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:15:51.371 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:15:51.371 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.372 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.372 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:15:51.372 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:15:51.372 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:15:51.372 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:15:51.376 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:15:51.417 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ProductEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductEntity.CategoryId (Guid) Required FK Index, 1], [Property: ProductEntity.CreatedAt (DateTime?), 2], [Property: ProductEntity.CreatedBy (Guid?), 3], [Property: ProductEntity.Description (string) Required, 4], [Property: ProductEntity.ImageUrl (string) Required, 5], [Property: ProductEntity.IsDeleted (bool?), 6], [Property: ProductEntity.LastUpdatedAt (DateTime?), 7], [Property: ProductEntity.LastUpdatedBy (Guid?), 8], [Property: ProductEntity.Name (string) Required, 9], [Property: ProductEntity.Price (decimal) Required, 10] }
            1 -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: CategoryEntity.CreatedAt (DateTime?), 12], [Property: CategoryEntity.CreatedBy (Guid?), 13], [Property: CategoryEntity.Description (string) Required, 14], [Property: CategoryEntity.ImageUrl (string) Required, 15], [Property: CategoryEntity.IsDeleted (bool?), 16], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 17], [Property: CategoryEntity.LastUpdatedBy (Guid?), 18], [Property: CategoryEntity.Name (string) Required, 19], [Property: CategoryEntity.ParentId (Guid?) FK Index, 20] }
        SELECT t.Id, t.CategoryId, t.CreatedAt, t.CreatedBy, t.Description, t.ImageUrl, t.IsDeleted, t.LastUpdatedAt, t.LastUpdatedBy, t.Name, t.Price, c.Id, c.CreatedAt, c.CreatedBy, c.Description, c.ImageUrl, c.IsDeleted, c.LastUpdatedAt, c.LastUpdatedBy, c.Name, c.ParentId
        FROM 
        (
            SELECT p.Id, p.CategoryId, p.CreatedAt, p.CreatedBy, p.Description, p.ImageUrl, p.IsDeleted, p.LastUpdatedAt, p.LastUpdatedBy, p.Name, p.Price
            FROM Products AS p
            WHERE p.IsDeleted == FALSE
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN Categories AS c ON t.CategoryId == c.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 11:15:51.428 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:15:51.428 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:15:51.428 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:15:51.428 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:15:51.428 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.428 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.449 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:15:51.460 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CategoryEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: CategoryEntity.CreatedAt (DateTime?), 7], [Property: CategoryEntity.CreatedBy (Guid?), 8], [Property: CategoryEntity.Description (string) Required, 9], [Property: CategoryEntity.ImageUrl (string) Required, 10], [Property: CategoryEntity.IsDeleted (bool?), 11], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 12], [Property: CategoryEntity.LastUpdatedBy (Guid?), 13], [Property: CategoryEntity.Name (string) Required, 14], [Property: CategoryEntity.ParentId (Guid?) FK Index, 15] }
            7 -> 6
        SELECT t.Id, t.Name, t.ImageUrl, t.ParentId, CASE
            WHEN c0.Name == NULL THEN ''
            ELSE c0.Name
        END, c0.Id, c1.Id, c1.CreatedAt, c1.CreatedBy, c1.Description, c1.ImageUrl, c1.IsDeleted, c1.LastUpdatedAt, c1.LastUpdatedBy, c1.Name, c1.ParentId
        FROM 
        (
            SELECT c.Id, c.ImageUrl, c.Name, c.ParentId
            FROM Categories AS c
            WHERE c.IsDeleted == FALSE
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        LEFT JOIN Categories AS c0 ON t.ParentId == c0.Id
        LEFT JOIN Categories AS c1 ON t.Id == c1.ParentId
        ORDER BY t.Id ASC, c0.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CategoryEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 11:15:51.466 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:15:51.466 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:15:51.466 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.500 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.500 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:15:51.500 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:15:51.502 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:15:51.504 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-06-07 11:15:51.506 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:15:51.514 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:15:51.514 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:15:51.514 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:15:51.515 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.515 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:15:51.515 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:15:51.515 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:15:51.515 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 11:15:51.516 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.516 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 139ms reading results.
2025-06-07 11:15:51.516 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.516 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:15:51.521 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 11:15:51.524 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:15:51.524 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.524 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:15:51.524 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.524 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:15:51.526 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:15:51.527 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:15:51.527 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:15:51.527 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.527 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-06-07 11:15:51.527 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.527 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:15:51.602 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 520.5598ms.
2025-06-07 11:15:51.604 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 526.7786ms.
2025-06-07 11:15:51.604 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 618.3977ms.
2025-06-07 11:15:51.610 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.610 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:15:51.610 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:15:51.610 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:15:51.610 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:15:51.613 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:15:51.613 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:15:51.613 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:15:51.615 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:15:51.615 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:15:51.615 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:15:51.615 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:15:51.616 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.616 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:15:51.616 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:15:51.616 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:15:51.616 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:15:51.616 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:15:51.616 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.616 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:15:51.616 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:15:51.616 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:15:51.616 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 538.9358ms.
2025-06-07 11:15:51.616 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:15:51.617 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:15:51.617 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:15:51.617 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:15:51.617 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:15:51.617 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:15:51.617 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:15:51.617 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:15:51.618 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:15:51.618 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:15:51.618 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:15:51.618 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:15:51.647 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 591.7667ms
2025-06-07 11:15:51.647 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 591.6798ms
2025-06-07 11:15:51.647 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 670.7457ms
2025-06-07 11:15:51.647 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 670.7755ms
2025-06-07 11:15:51.648 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:15:51.648 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:15:51.648 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:15:51.648 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:15:51.657 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:15:51.657 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:15:51.657 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:15:51.657 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:15:51.660 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.660 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.660 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.660 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.662 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 11:15:51.662 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 11:15:51.662 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 11:15:51.662 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 11:15:51.663 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 633.854ms
2025-06-07 11:15:51.663 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 633.8453ms
2025-06-07 11:15:51.663 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 1163.2547ms
2025-06-07 11:15:51.663 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 1163.2626ms
2025-06-07 11:15:51.669 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 11:15:51.670 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 11:15:51.670 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 11:15:51.670 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:15:51.671 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:15:51.671 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:15:51.672 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:15:51.672 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:15:51.672 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:15:51.672 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:15:51.672 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:15:51.672 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:15:51.673 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:15:51.673 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:15:51.673 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:15:51.673 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:15:51.673 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:15:51.673 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:15:51.673 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 11:15:51.675 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:15:51.675 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:15:51.675 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:15:51.675 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.675 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.675 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:15:51.676 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:15:51.676 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:15:51.676 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:15:51.677 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:15:51.679 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:15:51.679 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:15:51.679 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:15:51.679 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:15:51.680 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:15:51.680 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.680 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 11:15:51.680 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.680 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:15:51.680 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.6318ms.
2025-06-07 11:15:51.680 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:15:51.680 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:15:51.680 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:15:51.681 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:15:51.681 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:15:51.681 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:15:51.681 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 8.0474ms
2025-06-07 11:15:51.681 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:15:51.682 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:15:51.682 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:15:51.684 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:15:51.684 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 15.8378ms
2025-06-07 11:17:06.817 +07:00 [DBG] Connection id "0HND5F7U9DHOI" received FIN.
2025-06-07 11:17:06.821 +07:00 [DBG] Connection id "0HND5F7U9DHOI" is closed. The last processed stream ID was 9.
2025-06-07 11:17:06.821 +07:00 [DBG] Connection id "0HND5F7U9DHOI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 11:17:06.821 +07:00 [DBG] The connection queue processing loop for 0HND5F7U9DHOI completed.
2025-06-07 11:17:06.827 +07:00 [DBG] Connection id "0HND5F7U9DHOI" stopped.
2025-06-07 11:19:09.395 +07:00 [DBG] Connection id "0HND5F7U9DHOJ" accepted.
2025-06-07 11:19:09.395 +07:00 [DBG] Connection id "0HND5F7U9DHOJ" started.
2025-06-07 11:19:09.407 +07:00 [DBG] Connection 0HND5F7U9DHOJ established using the following protocol: "Tls12"
2025-06-07 11:19:09.411 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Create - application/json 184
2025-06-07 11:19:09.412 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-06-07 11:19:09.412 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-06-07 11:19:09.412 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 11:19:09.413 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:19:09.415 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:19:09.415 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:19:09.416 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:19:09.416 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:19:09.416 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 11:19:09.429 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:19:09.429 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:19:09.429 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:19:09.429 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:19:09.430 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:19:09.430 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:19:09.430 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:09.432 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:09.433 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-06-07 11:19:09.433 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-06-07 11:19:09.434 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:19:09.440 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000001": started reading request body.
2025-06-07 11:19:09.441 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000001": done reading request body.
2025-06-07 11:19:09.447 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.ProductDto'
2025-06-07 11:19:09.448 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 11:19:09.448 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 11:19:09.448 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-06-07 11:19:09.460 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 11:19:09.460 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Create (Product.API) - Validation state: "Valid"
2025-06-07 11:19:13.304 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:19:13.314 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Select(c => c.ParentId)'
2025-06-07 11:19:13.324 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Guid?>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT c.ParentId
        FROM Categories AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Guid?>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 11:19:13.330 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:19:13.331 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:19:13.331 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:13.387 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:13.387 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:19:13.387 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:13.387 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:13.388 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 11:19:13.393 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 11:19:13.397 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:13.397 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-06-07 11:19:13.397 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:13.398 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:13.401 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Where(c => c.Id == __Id_0 && !(__parentIds_1.Contains((Guid?)c.Id)))
    .Any()'
2025-06-07 11:19:13.458 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Categories AS c
                WHERE (c.Id == @__Id_0) && Not(c.Id = ANY(@__parentIds_1)))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Product.Infrastructure.ProductDBContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-07 11:19:13.467 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:13.467 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:13.467 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:19:13.467 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:13.468 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:13.468 +07:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-06-07 11:19:13.549 +07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-06-07 11:19:13.555 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:13.555 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-06-07 11:19:13.555 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:13.555 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:13.643 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:19:13.643 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:19:13.643 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:19:13.643 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:19:13.643 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:19:13.644 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Dtos.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-07 11:19:13.653 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 4223.0451ms
2025-06-07 11:19:13.653 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 11:19:13.654 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:19:13.654 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:13.654 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:13.656 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Create - 200 null application/json; charset=utf-8 4244.2879ms
2025-06-07 11:19:13.753 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:19:13.753 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:19:13.753 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:19:13.753 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:13.753 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:19:13.759 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:19:11 SA', Current time (UTC): '07/06/2025 4:19:13 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:19:13.818 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:19:11 SA', Current time (UTC): '07/06/2025 4:19:13 SA'.
2025-06-07 11:19:13.818 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:19:13.818 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:19:13.818 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:13.818 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:19:13.818 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:19:13.819 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:19:13.819 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:19:13.819 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:19:13.819 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:19:13.819 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:13.819 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:13.819 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:19:13.819 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:19:13.819 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:19:13.819 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000003": started reading request body.
2025-06-07 11:19:13.819 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000003": done reading request body.
2025-06-07 11:19:13.819 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:19:13.819 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:13.820 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:13.820 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:19:13.820 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:13.820 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:19:13.825 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:19:13.826 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:19:13.827 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:19:13.827 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:13.827 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:13.827 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:19:13.827 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:13.827 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:13.827 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:19:13.832 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:19:13.832 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:13.832 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:19:13.832 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:13.832 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:13.833 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.6033ms.
2025-06-07 11:19:13.833 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:19:13.833 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:19:13.833 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:19:13.833 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:19:13.833 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:19:13.833 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:19:13.833 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 14.7619ms
2025-06-07 11:19:13.834 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:13.834 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:19:13.834 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:13.834 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:13.834 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 81.4888ms
2025-06-07 11:19:17.961 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:19:17.962 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:19:17.963 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:19:17.963 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:19:17.963 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:19:17.963 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:19:17.963 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:17.963 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:17.963 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:19:17.963 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:19:17.966 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:19:17.966 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:19:17.966 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:19:17.966 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:19:17.967 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:19:17.967 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:19:17.967 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:19:17.967 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:19:17.967 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:17.967 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:17.968 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:19:17.968 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:19:17.968 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:19:17.968 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:19:17.969 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:19:17.969 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:19:17.969 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:19:17.969 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:19:17.969 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:19:17.969 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:19:17.970 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:19:17.970 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:17.970 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:19:17.970 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:17.970 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:17.970 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:17.971 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:19:17.971 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:19:17.971 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:19:17.971 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:19:17.972 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:19:17.972 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:19:17.973 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000007": started reading request body.
2025-06-07 11:19:17.973 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000005": started reading request body.
2025-06-07 11:19:17.973 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000005": done reading request body.
2025-06-07 11:19:17.973 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:19:17.973 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:17.973 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:17.973 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:19:17.974 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:17.974 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:19:17.979 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:19:17.985 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:19:17.985 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:19:17.985 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:17.985 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:17.986 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:19:17.987 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-06-07 11:19:17.987 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-07 11:19:17.987 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:19:17.992 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:19:17.992 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:17.993 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:19:17.993 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:17.993 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:17.993 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.2382ms.
2025-06-07 11:19:17.994 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:19:17.995 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:19:17.995 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:19:17.995 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:19:17.995 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:19:17.995 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:19:17.995 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 25.5164ms
2025-06-07 11:19:17.995 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:17.996 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:19:17.996 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:17.996 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:17.996 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 38.5937ms
2025-06-07 11:19:17.997 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000007": done reading request body.
2025-06-07 11:19:18.016 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:19:18.018 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:18.020 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:18.020 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:19:18.020 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:18.023 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:19:18.024 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:19:18.024 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:19:18.024 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:19:18.024 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:18.024 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:18.024 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:19:18.025 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:18.025 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:18.025 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:19:18.028 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:19:18.028 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:18.028 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:19:18.028 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:18.028 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:18.028 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5.0328ms.
2025-06-07 11:19:18.028 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:19:18.028 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:19:18.029 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:19:18.029 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:19:18.029 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:19:18.029 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:19:18.029 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 59.5398ms
2025-06-07 11:19:18.029 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:18.029 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:19:18.029 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:18.029 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:18.029 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 72.0284ms
2025-06-07 11:19:19.184 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 11:19:19.186 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 11:19:19.187 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 11:19:19.188 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:19:19.189 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:19:19.191 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:19:19.191 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:19:19.192 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:19:19.193 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:19:19.193 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:19:19.194 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:19:19.194 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:19:19.194 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:19:19.194 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:19:19.194 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:19:19.194 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:19:19.194 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:19:19.194 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:19:19.194 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 11:19:19.197 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:19:19.198 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:19:19.198 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:19:19.198 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.198 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.199 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:19:19.199 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:19.199 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:19.200 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:19:19.208 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:19:19.208 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 11:19:19.209 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 11:19:19.209 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 11:19:19.209 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:19:19.209 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:19:19.210 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:19:19.210 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:19:19.210 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:19:19.210 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:19:19.210 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:19:19.210 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:19:19.210 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:19:19.210 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:19:19.210 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:19:19.210 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:19:19.210 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:19:19.210 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:19:19.210 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:19:19.210 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:19:19.210 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:19:19.211 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:19:19.211 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:19:19.211 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:19:19.211 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:0000000B": started reading request body.
2025-06-07 11:19:19.211 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:0000000B": done reading request body.
2025-06-07 11:19:19.211 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:19:19.211 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:19.211 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:19:19.211 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:19.211 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:19:19.211 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:19.211 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:19:19.211 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:19:19.211 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:19:19.211 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.212 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-07 11:19:19.212 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.212 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:19.212 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.303ms.
2025-06-07 11:19:19.212 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:19:19.212 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:19:19.212 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:19:19.212 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:19:19.212 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:19:19.212 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:19:19.212 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:19:19.212 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 18.1886ms
2025-06-07 11:19:19.212 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:19:19.212 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:19:19.212 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.212 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:19.213 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 29.4295ms
2025-06-07 11:19:19.215 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:19:19.216 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:19:19.216 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.216 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.216 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:19:19.216 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:19.217 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:19.217 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 11:19:19.222 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 11:19:19.228 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:19:19.228 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:19:19.228 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:19:19.228 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.228 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-06-07 11:19:19.228 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.228 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:19.229 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.4261ms.
2025-06-07 11:19:19.229 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:19:19.229 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:19:19.229 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:19:19.229 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:19:19.229 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:19:19.229 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:19:19.229 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 19.1354ms
2025-06-07 11:19:19.230 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:19:19.230 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:19:19.230 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.230 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:19.230 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 23.4514ms
2025-06-07 11:19:19.236 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 11:19:19.236 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 11:19:19.237 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 11:19:19.237 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:19:19.237 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:19:19.239 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:19:19.240 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:19:19.240 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:19:19.240 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:19:19.240 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:19:19.240 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:19:19.241 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:19:19.242 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:19:19.242 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:19:19.242 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:19:19.242 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:19:19.243 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:19:19.243 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:19:19.243 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 11:19:19.245 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:19:19.245 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:19:19.245 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:19:19.245 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.245 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.246 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:19:19.246 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:19.246 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:19.246 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:19:19.249 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:19:19.251 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:19:19.251 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:19:19.251 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:19:19.251 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:19:19.251 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:19:19.251 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.252 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 11:19:19.252 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.252 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:19.252 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.1241ms.
2025-06-07 11:19:19.252 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:19:19.253 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:19:19.253 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:19:19.253 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:19:19.253 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:19:19.253 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:19:19.254 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 11.4461ms
2025-06-07 11:19:19.255 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:19:19.256 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:19:19.256 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.256 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:19.256 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 22.6883ms
2025-06-07 11:19:19.693 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:19:19.693 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:19:19.694 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:19:19.694 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:19:19.694 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:19:19.694 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:19.694 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:19:19.694 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:19:19.694 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:19.694 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:19:19.694 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:19:19.694 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:19:19.694 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:19:19.694 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:19:19.695 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:19:19.695 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:19:19.695 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:19:19.695 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:19:19.695 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:19.695 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:19.695 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:19:19.695 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:19:19.695 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:19:19.695 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:19:19.695 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:19:19.695 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:19:19.695 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:19:19.695 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:19:19.695 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:19:19.695 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:19:19.695 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:19:19.696 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:19:19.696 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:19.696 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:19.696 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:19.696 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:19.696 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:19:19.696 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:19:19.696 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:19:19.697 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:19:19.697 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:19:19.697 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:0000000F": started reading request body.
2025-06-07 11:19:19.697 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:0000000F": done reading request body.
2025-06-07 11:19:19.697 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:19:19.697 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:19:19.697 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000011": started reading request body.
2025-06-07 11:19:19.697 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:19.697 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:19.697 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:19:19.697 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000011": done reading request body.
2025-06-07 11:19:19.697 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:19:19.697 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:19.697 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:19.697 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:19:19.697 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:19.697 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:19:19.697 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:19.698 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:19:19.698 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:19:19.698 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:19:19.698 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:19:19.699 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:19:19.699 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.699 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.699 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:19:19.699 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:19.699 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:19:19.699 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:19.699 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:19:19.699 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:19:19.699 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.703 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:19:19.706 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.708 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-07 11:19:19.709 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.709 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:19.709 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11.6546ms.
2025-06-07 11:19:19.709 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:19:19.709 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:19:19.709 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:19:19.709 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:19:19.710 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:19:19.710 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:19:19.710 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 14.1461ms
2025-06-07 11:19:19.710 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:19.710 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:19:19.710 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.710 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:19.711 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 17.6604ms
2025-06-07 11:19:19.786 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.786 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:19:19.786 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:19.786 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:19.786 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:19:19.794 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:19:19.794 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.794 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:19:19.794 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.794 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:19.794 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 96.7988ms.
2025-06-07 11:19:19.795 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:19:19.795 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:19:19.795 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:19:19.795 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:19:19.795 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:19:19.795 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:19:19.795 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 98.9859ms
2025-06-07 11:19:19.795 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:19.795 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:19:19.795 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:19.795 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:19.795 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 102.2875ms
2025-06-07 11:19:48.649 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Create - application/json 179
2025-06-07 11:19:48.650 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-06-07 11:19:48.650 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-06-07 11:19:48.650 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 11:19:48.650 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:19:48.651 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:19:48.652 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:19:48.652 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:19:48.652 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:19:48.652 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 11:19:48.653 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:19:48.653 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:19:48.653 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:19:48.653 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:19:48.653 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:19:48.653 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:19:48.653 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:48.653 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:48.653 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-06-07 11:19:48.653 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-06-07 11:19:48.653 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:19:48.654 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000013": started reading request body.
2025-06-07 11:19:48.654 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000013": done reading request body.
2025-06-07 11:19:48.654 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.ProductDto'
2025-06-07 11:19:48.654 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 11:19:48.654 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 11:19:48.654 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-06-07 11:19:48.655 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 11:19:48.655 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Create (Product.API) - Validation state: "Valid"
2025-06-07 11:19:56.861 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:19:56.862 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:19:56.862 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:19:56.862 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:56.862 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:56.862 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:19:56.862 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:56.862 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:56.862 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 11:19:56.864 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 11:19:56.865 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:56.866 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 11:19:56.866 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:56.867 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:56.867 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:56.868 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:56.868 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:19:56.868 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:56.868 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:56.868 +07:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-06-07 11:19:56.870 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-06-07 11:19:56.870 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:56.870 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:19:56.870 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:56.870 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:56.998 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:19:56.998 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:19:56.998 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:19:56.998 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:19:56.999 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:19:56.999 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Dtos.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-07 11:19:56.999 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 8346.045ms
2025-06-07 11:19:56.999 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 11:19:56.999 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:19:56.999 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:57.000 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:57.000 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Create - 200 null application/json; charset=utf-8 8351.4843ms
2025-06-07 11:19:57.123 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:19:57.124 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:19:57.124 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:19:57.124 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:57.124 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:19:57.125 +07:00 [DBG] Successfully validated the token.
2025-06-07 11:19:57.125 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 11:19:57.125 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:19:57.125 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:19:57.126 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:57.126 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:19:57.126 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:19:57.126 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:19:57.126 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:19:57.126 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:19:57.126 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:19:57.126 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:57.126 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:19:57.126 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:19:57.127 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:19:57.127 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:19:57.127 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000015": started reading request body.
2025-06-07 11:19:57.127 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000015": done reading request body.
2025-06-07 11:19:57.127 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:19:57.127 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:57.127 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:57.127 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:19:57.127 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:19:57.127 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:19:57.128 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:19:57.129 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:19:57.129 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:19:57.129 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:57.129 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:57.129 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:19:57.129 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:57.129 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:19:57.129 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:19:57.131 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:19:57.132 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:57.133 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:19:57.133 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:57.133 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:57.133 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.0967ms.
2025-06-07 11:19:57.133 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:19:57.134 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:19:57.134 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:19:57.134 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:19:57.134 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:19:57.134 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:19:57.134 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 7.8295ms
2025-06-07 11:19:57.134 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:19:57.134 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:19:57.134 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:19:57.134 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:19:57.134 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 11.3581ms
2025-06-07 11:20:42.573 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Create - application/json 172
2025-06-07 11:20:42.574 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-06-07 11:20:42.574 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-06-07 11:20:42.574 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 11:20:42.574 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:20:42.575 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:20:42 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:20:42.575 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:20:42 SA'.
2025-06-07 11:20:42.576 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:20:42.576 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:20:42.576 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 11:20:42.576 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:20:42.576 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:20:42.576 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:20:42.576 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:20:42.576 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:20:42.576 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:20:42.576 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:20:42.576 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:20:42.576 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-06-07 11:20:42.576 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-06-07 11:20:42.576 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:20:42.577 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000017": started reading request body.
2025-06-07 11:20:42.577 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000017": done reading request body.
2025-06-07 11:20:42.577 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.ProductDto'
2025-06-07 11:20:42.577 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 11:20:42.577 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 11:20:42.577 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-06-07 11:20:42.577 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 11:20:42.577 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Create (Product.API) - Validation state: "Valid"
2025-06-07 11:21:03.048 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:21:03.048 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:21:03.048 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:21:03.048 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:03.049 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:03.049 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:21:03.049 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:03.049 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:03.049 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 11:21:03.050 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 11:21:03.050 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:03.050 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:21:03.050 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:03.050 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:03.052 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:03.052 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:05.122 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:21:05.122 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:05.122 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:05.123 +07:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-06-07 11:21:05.145 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-06-07 11:21:05.146 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:05.146 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:21:05.146 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:05.147 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:31.857 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:21:31.873 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:21:31.883 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:21:31.883 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:21:31.891 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:21:31.894 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Dtos.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-07 11:21:31.896 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 49320.0393ms
2025-06-07 11:21:31.896 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 11:21:31.896 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:21:31.896 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:31.897 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:31.897 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Create - 200 null application/json; charset=utf-8 49323.6748ms
2025-06-07 11:21:31.980 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:21:31.980 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:21:31.981 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:21:31.981 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:31.981 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:21:31.982 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:31 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:21:31.982 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:31 SA'.
2025-06-07 11:21:31.982 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:21:31.982 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:21:31.982 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:31.982 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:21:31.983 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:21:31.983 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:21:31.983 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:21:31.983 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:21:31.983 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:21:31.983 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:21:31.983 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:21:31.983 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:21:31.983 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:21:31.983 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:21:31.983 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000019": started reading request body.
2025-06-07 11:21:31.983 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000019": done reading request body.
2025-06-07 11:21:31.984 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:21:31.984 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:31.984 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:31.984 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:21:31.984 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:31.984 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:21:31.985 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:21:31.985 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:21:31.985 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:21:31.986 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:31.986 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:31.986 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:21:31.986 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:31.986 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:31.986 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:21:31.988 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:21:31.989 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:31.989 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 11:21:31.990 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:31.991 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:31.991 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.8668ms.
2025-06-07 11:21:31.991 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:21:31.991 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:21:31.991 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:21:31.991 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:21:31.991 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:21:31.991 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:21:31.991 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 8.5534ms
2025-06-07 11:21:31.991 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:31.992 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:21:31.992 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:31.992 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:31.992 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 12.0414ms
2025-06-07 11:21:34.572 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 11:21:34.572 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 11:21:34.572 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 11:21:34.572 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:21:34.573 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:21:34.576 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:34 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:21:34.577 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:34 SA'.
2025-06-07 11:21:34.577 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:21:34.577 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:21:34.577 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:21:34.577 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:21:34.577 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:21:34.577 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:21:34.577 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:21:34.578 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:21:34.578 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:21:34.578 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:21:34.578 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:21:34.578 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 11:21:34.580 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:21:34.581 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:21:34.581 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:21:34.581 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.581 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.581 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:21:34.581 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:34.581 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:34.581 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:21:34.590 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:21:34.593 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:21:34.593 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 11:21:34.594 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 11:21:34.595 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 11:21:34.595 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:21:34.595 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:21:34.600 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:21:34.603 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:21:34.607 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:21:34.607 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:34 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:21:34.615 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 11:21:34.615 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:21:34.620 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:34 SA'.
2025-06-07 11:21:34.621 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 11:21:34.621 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:21:34.621 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:21:34.621 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 11:21:34.621 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:21:34.621 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.621 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:21:34.621 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:21:34.621 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 29ms reading results.
2025-06-07 11:21:34.621 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.621 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:21:34.621 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:21:34.621 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:34.621 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:21:34.621 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:21:34.621 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:21:34.621 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:21:34.621 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 42.8685ms.
2025-06-07 11:21:34.621 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:21:34.622 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:21:34.622 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 11:21:34.624 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:34 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:21:34.626 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:21:34.622 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:21:34.626 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:21:34.626 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:21:34.626 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:21:34.626 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:34 SA'.
2025-06-07 11:21:34.627 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:21:34.627 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:21:34.627 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:21:34.627 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:21:34.627 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:21:34.627 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.627 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:21:34.627 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.627 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:21:34.627 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:21:34.627 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:34.627 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:21:34.627 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 49.6452ms
2025-06-07 11:21:34.627 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:21:34.627 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:34.627 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:21:34.628 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:21:34.628 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:21:34.628 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:21:34.628 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:21:34.628 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:21:34.628 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:21:34.628 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:21:34.628 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:21:34.628 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.629 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:34.629 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:21:34.629 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 57.5446ms
2025-06-07 11:21:34.630 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:21:34.630 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:21:34.632 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:0000001F": started reading request body.
2025-06-07 11:21:34.632 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:0000001F": done reading request body.
2025-06-07 11:21:34.632 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:21:34.632 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:34.632 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:34.632 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:21:34.632 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:34.632 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:21:34.634 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:21:34.678 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:21:34.679 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:21:34.679 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.680 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.680 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:21:34.680 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:34.680 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:34.680 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 11:21:34.687 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:21:34.688 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:21:34.688 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:21:34.690 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:21:34.693 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:21:34.694 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:21:34.694 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.694 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2025-06-07 11:21:34.694 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.694 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:34.695 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 71.5657ms.
2025-06-07 11:21:34.695 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:21:34.695 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:21:34.695 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:21:34.695 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:21:34.695 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:21:34.695 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:21:34.696 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 74.2443ms
2025-06-07 11:21:34.696 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:21:34.696 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:21:34.696 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.696 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:34.696 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 103.0461ms
2025-06-07 11:21:34.711 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 11:21:34.721 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:21:34.722 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:21:34.723 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:21:34.724 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.725 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results.
2025-06-07 11:21:34.725 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.726 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:34.727 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 94.0265ms.
2025-06-07 11:21:34.727 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:21:34.727 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:21:34.727 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:21:34.727 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:21:34.727 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:21:34.727 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:21:34.729 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 100.7001ms
2025-06-07 11:21:34.729 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:21:34.729 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:21:34.729 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:34.729 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:34.729 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 125.3088ms
2025-06-07 11:21:41.836 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:21:41.840 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:21:41.840 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:21:41.841 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:41.841 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:21:41.845 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:41 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:21:41.848 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:41 SA'.
2025-06-07 11:21:41.849 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:21:41.849 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:21:41.849 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:41.850 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:21:41.850 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:21:41.850 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:21:41.850 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:21:41.850 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:21:41.850 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:21:41.850 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:21:41.850 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:21:41.850 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:21:41.851 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:21:41.851 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:21:41.851 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000021": started reading request body.
2025-06-07 11:21:41.865 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:21:41.866 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:21:41.867 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:21:41.868 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:41.869 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:21:41.869 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000021": done reading request body.
2025-06-07 11:21:41.870 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:21:41.870 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:41.870 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:41 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:21:41.870 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:41.870 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:41 SA'.
2025-06-07 11:21:41.870 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:21:41.870 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:21:41.870 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:21:41.871 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:41.871 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:41.871 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:21:41.871 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:21:41.871 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:21:41.871 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:21:41.871 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:21:41.871 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:21:41.871 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:21:41.871 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:21:41.871 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:21:41.871 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:21:41.871 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:21:41.871 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:21:41.871 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000023": started reading request body.
2025-06-07 11:21:41.871 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000023": done reading request body.
2025-06-07 11:21:41.871 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:21:41.871 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:41.871 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:41.871 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:21:41.871 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:41.871 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:21:41.872 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:21:41.872 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:21:41.872 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:21:41.872 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:21:41.872 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:21:41.872 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:21:41.872 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:41.872 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:41.872 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:41.872 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:41.872 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:21:41.873 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:21:41.873 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:41.873 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:41.873 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:41.873 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:41.873 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:21:41.873 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:21:41.887 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:21:41.887 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:21:41.888 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:41.888 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:41.888 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:21:41.888 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:21:41.888 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:41.888 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:41.888 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:41.888 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:41.889 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.2082ms.
2025-06-07 11:21:41.889 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.8618ms.
2025-06-07 11:21:41.889 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:21:41.889 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:21:41.889 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:21:41.889 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:21:41.889 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:21:41.889 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:21:41.889 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:21:41.889 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:21:41.889 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:21:41.889 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:21:41.889 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:21:41.889 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:21:41.890 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 18.5333ms
2025-06-07 11:21:41.890 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 39.4691ms
2025-06-07 11:21:41.890 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:41.890 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:41.890 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:21:41.890 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:21:41.890 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:41.890 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:41.890 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:41.890 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:41.890 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 57.4297ms
2025-06-07 11:21:41.890 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 56.7651ms
2025-06-07 11:21:44.506 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:21:44.506 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:21:44.506 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:21:44.506 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:21:44.506 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:21:44.506 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:21:44.506 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:44.506 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:44.506 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:21:44.506 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:21:44.508 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:44 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:21:44.508 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:44 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:21:44.508 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:44 SA'.
2025-06-07 11:21:44.508 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:21:44 SA'.
2025-06-07 11:21:44.509 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:21:44.509 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:21:44.509 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:21:44.509 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:21:44.509 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:44.509 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:44.509 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:21:44.509 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:21:44.509 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:21:44.509 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:21:44.509 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:21:44.509 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:21:44.509 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:21:44.509 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:21:44.509 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:21:44.509 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:21:44.509 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:21:44.509 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:21:44.509 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:21:44.509 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:21:44.509 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:21:44.509 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:21:44.509 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:21:44.509 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:21:44.509 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:21:44.509 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:21:44.509 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:21:44.509 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000027": started reading request body.
2025-06-07 11:21:44.509 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:21:44.509 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000027": done reading request body.
2025-06-07 11:21:44.510 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000025": started reading request body.
2025-06-07 11:21:44.510 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000025": done reading request body.
2025-06-07 11:21:44.510 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:21:44.510 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:44.510 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:21:44.510 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:44.510 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:21:44.510 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:44.510 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:44.510 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:21:44.510 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:44.510 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:21:44.510 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:21:44.510 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:21:44.510 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:21:44.510 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:21:44.511 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:21:44.511 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:21:44.511 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:21:44.511 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:21:44.511 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:44.511 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:44.511 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:44.511 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:44.511 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:21:44.511 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:21:44.511 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:44.511 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:44.511 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:44.511 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:21:44.511 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:21:44.511 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:21:44.515 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:21:44.515 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:21:44.516 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:44.516 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:44.517 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 11:21:44.517 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 11:21:44.518 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:44.518 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:44.518 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:44.518 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:44.519 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 8.9664ms.
2025-06-07 11:21:44.519 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 8.8669ms.
2025-06-07 11:21:44.519 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:21:44.519 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:21:44.519 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:21:44.519 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:21:44.519 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:21:44.519 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:21:44.519 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:21:44.519 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:21:44.519 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:21:44.519 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:21:44.520 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:21:44.520 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:21:44.520 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 10.8047ms
2025-06-07 11:21:44.520 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 10.6916ms
2025-06-07 11:21:44.520 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:44.520 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:21:44.520 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:21:44.520 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:21:44.520 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:44.520 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:21:44.521 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:44.521 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:21:44.521 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 14.8465ms
2025-06-07 11:21:44.521 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 14.9573ms
2025-06-07 11:22:05.376 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 11:22:05.377 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 11:22:05.377 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 11:22:05.377 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:05.378 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:22:05.381 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:05 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:22:05.382 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:05 SA'.
2025-06-07 11:22:05.382 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:22:05.382 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:22:05.382 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:05.382 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:22:05.382 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:22:05.382 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:22:05.383 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:22:05.383 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:22:05.383 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:22:05.383 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:22:05.383 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:22:05.383 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 11:22:05.384 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:22:05.384 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:22:05.385 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:22:05.385 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.385 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.385 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:22:05.385 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:05.385 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:05.385 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:22:05.387 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:22:05.391 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 11:22:05.391 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:05.392 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 11:22:05.392 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 11:22:05.392 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:22:05.392 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:05.392 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:22:05.393 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:05.393 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:05.393 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:05.393 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.394 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-06-07 11:22:05.394 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.394 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:05 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:22:05.394 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:05.395 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:05 SA'.
2025-06-07 11:22:05.395 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:22:05.395 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.0474ms.
2025-06-07 11:22:05.395 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:22:05.395 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:22:05.395 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:22:05.395 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:22:05.395 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:22:05.395 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:22:05.395 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:22:05.395 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:22:05.395 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:22:05.395 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:22:05.395 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:22:05.395 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:22:05.395 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:22:05.395 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:22:05.395 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:22:05.396 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:22:05.396 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 12.8766ms
2025-06-07 11:22:05.396 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:05.396 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:22:05.396 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:22:05.396 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:22:05.396 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.396 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:22:05.396 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:05.396 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:0000002B": started reading request body.
2025-06-07 11:22:05.396 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:0000002B": done reading request body.
2025-06-07 11:22:05.396 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 19.7125ms
2025-06-07 11:22:05.396 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:22:05.396 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:22:05.396 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:22:05.396 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:22:05.396 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:22:05.396 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:22:05.398 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:22:05.399 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:22:05.399 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:22:05.399 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.399 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.399 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:22:05.399 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:05.400 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:05.400 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 11:22:05.403 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 11:22:05.405 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:05.407 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:05.409 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:05.410 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.411 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
2025-06-07 11:22:05.412 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.412 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:05.412 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.4913ms.
2025-06-07 11:22:05.412 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:22:05.413 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:22:05.413 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:22:05.413 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:22:05.413 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:22:05.413 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:22:05.414 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 18.5825ms
2025-06-07 11:22:05.414 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:22:05.414 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 11:22:05.415 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 11:22:05.415 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:22:05.415 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 11:22:05.415 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.415 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:05.415 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:05.415 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 27.039ms
2025-06-07 11:22:05.415 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:22:05.416 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:05 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:22:05.417 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:05 SA'.
2025-06-07 11:22:05.417 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:22:05.417 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:22:05.417 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:05.417 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:22:05.417 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:22:05.417 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:22:05.417 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:22:05.417 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:22:05.417 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:22:05.417 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:22:05.418 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:22:05.418 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 11:22:05.419 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:22:05.419 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:22:05.419 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:22:05.419 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.419 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.419 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:22:05.419 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:05.419 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:05.419 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:22:05.422 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:22:05.427 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:05.428 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:05.428 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:05.428 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:05.428 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:05.428 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.428 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-06-07 11:22:05.428 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.429 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:05.429 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11.1374ms.
2025-06-07 11:22:05.429 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:22:05.429 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:22:05.429 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:22:05.429 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:22:05.429 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:22:05.429 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:22:05.430 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 12.4496ms
2025-06-07 11:22:05.430 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:05.430 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:22:05.430 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:05.430 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:05.430 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 16.249ms
2025-06-07 11:22:07.590 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 11:22:07.590 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 11:22:07.590 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 11:22:07.590 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 11:22:07.590 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 11:22:07.591 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 11:22:07.591 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:07.591 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:22:07.591 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:22:07.591 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:22:07.592 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:07 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:22:07.592 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:07 SA'.
2025-06-07 11:22:07.592 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:07 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:22:07.592 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:22:07.592 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:07 SA'.
2025-06-07 11:22:07.592 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:22:07.593 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:22:07.593 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:22:07.593 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:22:07.593 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:07.593 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:22:07.593 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:22:07.593 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:22:07.593 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:22:07.593 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:22:07.593 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:22:07.593 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:22:07.593 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:22:07.593 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:22:07.593 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:22:07.593 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:22:07.593 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:22:07.593 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:22:07.593 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:22:07.593 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:22:07.593 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:22:07.593 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 11:22:07.593 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:22:07.593 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:22:07.593 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:22:07.593 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:0000002F": started reading request body.
2025-06-07 11:22:07.593 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:0000002F": done reading request body.
2025-06-07 11:22:07.593 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:22:07.594 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:22:07.594 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:22:07.594 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:22:07.594 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:22:07.594 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:22:07.594 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:22:07.594 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:22:07.594 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:22:07.594 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.594 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.594 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:22:07.595 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:22:07.595 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:22:07.595 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.595 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.595 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:22:07.595 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:22:07.595 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:07.595 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:07.595 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:07.595 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:07.595 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:22:07.595 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 11:22:07.597 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:22:07.597 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 11:22:07.602 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:07.602 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:07.603 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:07.603 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:07.603 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:07.603 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:07.604 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:07.604 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:07.604 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.604 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.604 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-06-07 11:22:07.604 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.604 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:07.605 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 10.7116ms.
2025-06-07 11:22:07.605 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:22:07.605 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:22:07.605 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:22:07.605 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:22:07.605 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:22:07.606 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:22:07.606 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 12.9647ms
2025-06-07 11:22:07.606 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 11:22:07.606 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:22:07.606 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.607 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:07.608 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 17.9316ms
2025-06-07 11:22:07.609 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 10ms reading results.
2025-06-07 11:22:07.611 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.611 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:07.612 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.3571ms.
2025-06-07 11:22:07.612 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:22:07.612 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:22:07.612 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:22:07.612 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:22:07.612 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:22:07.612 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:22:07.612 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 19.1738ms
2025-06-07 11:22:07.612 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:07.612 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:22:07.612 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.612 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:07.613 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 23.291ms
2025-06-07 11:22:07.620 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 11:22:07.621 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 11:22:07.621 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 11:22:07.621 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:07.621 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:22:07.622 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:07 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:22:07.622 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:07 SA'.
2025-06-07 11:22:07.622 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:22:07.622 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:22:07.622 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:07.623 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:22:07.623 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:22:07.623 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:22:07.623 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:22:07.623 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:22:07.623 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:22:07.623 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:22:07.623 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:22:07.623 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 11:22:07.624 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:22:07.625 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:22:07.625 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:22:07.626 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.626 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.626 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:22:07.626 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:07.626 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:07.627 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:22:07.631 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:22:07.632 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:07.632 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:07.632 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:07.632 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:07.632 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:07.632 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.632 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:22:07.632 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.632 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:07.632 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.0934ms.
2025-06-07 11:22:07.632 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:22:07.632 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:22:07.632 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:22:07.632 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:22:07.632 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:22:07.632 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:22:07.632 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 9.6338ms
2025-06-07 11:22:07.632 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:07.633 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:22:07.633 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:07.633 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:07.633 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 12.6177ms
2025-06-07 11:22:18.725 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 11:22:18.725 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 11:22:18.725 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 11:22:18.725 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:18.726 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:22:18.728 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:18 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:22:18.728 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:18 SA'.
2025-06-07 11:22:18.728 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:22:18.728 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:22:18.729 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:18.729 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:22:18.729 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:22:18.729 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:22:18.729 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:22:18.729 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:22:18.729 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:22:18.729 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:22:18.729 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:22:18.729 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 11:22:18.730 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:22:18.731 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:22:18.731 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:22:18.731 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:18.731 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:18.732 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:22:18.732 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:18.732 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:18.732 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:22:18.736 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:22:18.738 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:18.738 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:18.738 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:18.738 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:18.738 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:22:18.738 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:18.738 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 11:22:18.738 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:18.738 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:18.739 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.49ms.
2025-06-07 11:22:18.739 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:22:18.739 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:22:18.739 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:22:18.739 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:22:18.739 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:22:18.739 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:22:18.739 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 10.1722ms
2025-06-07 11:22:18.739 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:22:18.739 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:22:18.739 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:18.739 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:18.739 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 14.5982ms
2025-06-07 11:22:24.738 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:22:24.738 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 11:22:24.738 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:22:24.738 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 11:22:24.738 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:22:24.738 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 11:22:24.738 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:22:24.738 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:22:24.738 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:22:24.738 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:22:24.739 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:24 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:22:24.739 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:24 SA'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 11:22:24.739 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:24 SA'.
2025-06-07 11:22:24.739 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 4:20:17 SA', Current time (UTC): '07/06/2025 4:22:24 SA'.
2025-06-07 11:22:24.740 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:22:24.740 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:22:24.740 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:22:24.740 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:22:24.740 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:22:24.740 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:22:24.740 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:22:24.740 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 11:22:24.740 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:22:24.740 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:22:24.740 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:22:24.740 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:22:24.740 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:22:24.740 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:22:24.740 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:22:24.740 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:22:24.740 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:22:24.740 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:22:24.740 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:22:24.740 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:22:24.740 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:22:24.740 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 11:22:24.740 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:22:24.740 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:22:24.740 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:22:24.740 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 11:22:24.740 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:22:24.740 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 11:22:24.740 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000039": started reading request body.
2025-06-07 11:22:24.740 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000037": started reading request body.
2025-06-07 11:22:24.740 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000039": done reading request body.
2025-06-07 11:22:24.740 +07:00 [DBG] Connection id "0HND5F7U9DHOJ", Request id "0HND5F7U9DHOJ:00000037": done reading request body.
2025-06-07 11:22:24.740 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:22:24.740 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 11:22:24.740 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:22:24.740 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:22:24.740 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:22:24.740 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:22:24.740 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:22:24.741 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 11:22:24.741 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:22:24.741 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 11:22:24.741 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:22:24.741 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 11:22:24.742 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:22:24.742 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:22:24.742 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:22:24.742 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:22:24.742 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:22:24.743 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:22:24.743 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:24.743 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:24.743 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:24.743 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:24.743 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:22:24.743 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:22:24.743 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:24.743 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:24.743 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:24.743 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:22:24.743 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:22:24.743 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:22:24.751 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:22:24.753 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:24.753 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 11:22:24.754 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:22:24.754 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:24.754 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:24.754 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:22:24.754 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:24.754 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:24.754 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:24.754 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.5713ms.
2025-06-07 11:22:24.754 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.6702ms.
2025-06-07 11:22:24.755 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:22:24.755 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:22:24.755 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:22:24.755 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:22:24.755 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:22:24.755 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:22:24.755 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:22:24.755 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:22:24.755 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:22:24.755 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:22:24.755 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:22:24.755 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 14.9088ms
2025-06-07 11:22:24.755 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:22:24.755 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:22:24.755 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:22:24.755 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 15.1325ms
2025-06-07 11:22:24.755 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:24.755 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 11:22:24.755 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:24.755 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:22:24.755 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 18.5731ms
2025-06-07 11:22:24.755 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:22:24.755 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:22:24.755 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 18.7016ms
2025-06-07 11:23:34.855 +07:00 [DBG] Connection id "0HND5F7U9DHOJ" received FIN.
2025-06-07 11:23:34.856 +07:00 [DBG] Connection id "0HND5F7U9DHOJ" is closed. The last processed stream ID was 57.
2025-06-07 11:23:34.856 +07:00 [DBG] The connection queue processing loop for 0HND5F7U9DHOJ completed.
2025-06-07 11:23:34.856 +07:00 [DBG] Connection id "0HND5F7U9DHOJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 11:23:34.857 +07:00 [DBG] Connection id "0HND5F7U9DHOJ" stopped.
2025-06-07 11:35:19.343 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-07 11:35:20.675 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:35:20.722 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:35:20.733 +07:00 [DBG] Created DbConnection. (11ms).
2025-06-07 11:35:20.769 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:21.324 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:21.335 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:21.362 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (19ms).
2025-06-07 11:35:21.384 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:35:21.401 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (12ms).
2025-06-07 11:35:21.404 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (26ms).
2025-06-07 11:35:21.405 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:21.827 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:21.858 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:35:22.044 +07:00 [INF] Executed DbCommand (194ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:35:22.046 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.049 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (2ms).
2025-06-07 11:35:22.107 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.108 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.108 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:35:22.108 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:35:22.108 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:35:22.109 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:35:22.129 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:35:22.144 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.145 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 13ms reading results.
2025-06-07 11:35:22.145 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.146 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:35:22.149 +07:00 [DBG] Migrating using database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.150 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.242 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.243 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.243 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:35:22.244 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:35:22.244 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:35:22.244 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:35:22.244 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.244 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.244 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:35:22.267 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:35:22.267 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.268 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:35:22.269 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.368 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.368 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.368 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:35:22.369 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:35:22.369 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:35:22.369 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:35:22.369 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.369 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.369 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:35:22.371 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:35:22.372 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.373 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:35:22.373 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.373 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.373 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:35:22.373 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:35:22.373 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:35:22.374 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:35:22.375 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:35:22.375 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.375 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:35:22.375 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.375 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:35:22.387 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-06-07 11:35:22.389 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:35:22.395 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:22.398 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (3ms).
2025-06-07 11:35:22.456 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-07 11:35:22.619 +07:00 [DBG] Hosting starting
2025-06-07 11:35:22.681 +07:00 [INF] User profile is available. Using 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-07 11:35:22.982 +07:00 [DBG] Starting bus instances: IBus
2025-06-07 11:35:22.990 +07:00 [DBG] Starting bus: "rabbitmq://localhost/"
2025-06-07 11:35:23.031 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-76077df0-b207-403d-8775-1a14f934e677.xml'.
2025-06-07 11:35:23.052 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-f34d44b7-a8db-4c0f-9aaf-b09be42d65e9.xml'.
2025-06-07 11:35:23.061 +07:00 [DBG] Connect: guest@localhost:5672/
2025-06-07 11:35:23.062 +07:00 [DBG] Found key {76077df0-b207-403d-8775-1a14f934e677}.
2025-06-07 11:35:23.068 +07:00 [DBG] Found key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9}.
2025-06-07 11:35:23.081 +07:00 [DBG] Considering key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} with expiration date 2025-09-05 02:16:48Z as default key.
2025-06-07 11:35:23.085 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 11:35:23.086 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-06-07 11:35:23.088 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 11:35:23.097 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-06-07 11:35:23.099 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-06-07 11:35:23.111 +07:00 [DBG] Using key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} as the default key.
2025-06-07 11:35:23.112 +07:00 [DBG] Key ring with default key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} was loaded during application startup.
2025-06-07 11:35:23.244 +07:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 54692)
2025-06-07 11:35:23.332 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/LAPTOPHPOFAN_ProductAPI_bus_9o7oyyg414af3ojkbdq4k9fw8u?temporary=true"
2025-06-07 11:35:23.337 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-06-07 11:35:23.405 +07:00 [INF] Now listening on: https://localhost:54634
2025-06-07 11:35:23.406 +07:00 [INF] Now listening on: http://localhost:54635
2025-06-07 11:35:23.406 +07:00 [DBG] Loaded hosting startup assembly Product.API
2025-06-07 11:35:23.406 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-07 11:35:23.406 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-07 11:35:23.406 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-07 11:35:23.485 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-07 11:35:23.485 +07:00 [INF] Hosting environment: Development
2025-06-07 11:35:23.486 +07:00 [INF] Content root path: D:\LearnNetMicroServices\UTCShop\src\Services\Product\Product.API
2025-06-07 11:35:23.486 +07:00 [DBG] Hosting started
2025-06-07 11:35:25.406 +07:00 [DBG] Connection id "0HND5FISF9EHF" accepted.
2025-06-07 11:35:25.413 +07:00 [DBG] Connection id "0HND5FISF9EHF" started.
2025-06-07 11:35:25.439 +07:00 [DBG] Connection 0HND5FISF9EHF established using the following protocol: "Tls12"
2025-06-07 11:35:25.510 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger - null null
2025-06-07 11:35:25.580 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-07 11:35:25.615 +07:00 [DBG] No candidates found for the request path '/swagger'
2025-06-07 11:35:25.616 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:35:25.631 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger - 301 0 null 144.574ms
2025-06-07 11:35:25.647 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - null null
2025-06-07 11:35:25.656 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-06-07 11:35:25.656 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:35:25.741 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-07 11:35:25.742 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-07 11:35:25.751 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-07 11:35:25.751 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-07 11:35:25.752 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - 200 null text/html;charset=utf-8 106.359ms
2025-06-07 11:35:25.770 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/swagger-ui.css - null null
2025-06-07 11:35:25.771 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/swagger-ui-bundle.js - null null
2025-06-07 11:35:25.771 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.css - null null
2025-06-07 11:35:25.771 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-06-07 11:35:25.771 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2025-06-07 11:35:25.771 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:35:25.771 +07:00 [DBG] No candidates found for the request path '/swagger/index.css'
2025-06-07 11:35:25.772 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:35:25.771 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:35:25.798 +07:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-06-07 11:35:25.799 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.css - 200 202 text/css 28.0274ms
2025-06-07 11:35:25.806 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/swagger-ui-standalone-preset.js - null null
2025-06-07 11:35:25.807 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2025-06-07 11:35:25.807 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:35:25.870 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.js - null null
2025-06-07 11:35:25.870 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-06-07 11:35:25.870 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-06-07 11:35:25.870 +07:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-06-07 11:35:25.871 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:35:25.884 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.js - 200 null application/javascript;charset=utf-8 27.1811ms
2025-06-07 11:35:25.910 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 39.6972ms
2025-06-07 11:35:25.922 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-07 11:35:25.925 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/swagger-ui.css - 200 154948 text/css 155.6661ms
2025-06-07 11:35:25.925 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-06-07 11:35:25.928 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 122.0821ms
2025-06-07 11:35:25.991 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 121.0043ms
2025-06-07 11:35:25.996 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-06-07 11:35:25.996 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/swagger-ui-bundle.js - 200 1466324 text/javascript 225.267ms
2025-06-07 11:35:26.283 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-06-07 11:35:26.284 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-06-07 11:35:26.284 +07:00 [DBG] Request did not match any endpoints
2025-06-07 11:35:26.366 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.8814ms
2025-06-07 11:35:36.396 +07:00 [DBG] Connection id "0HND5FISF9EHF" received FIN.
2025-06-07 11:35:36.401 +07:00 [DBG] The connection queue processing loop for 0HND5FISF9EHF completed.
2025-06-07 11:35:36.401 +07:00 [DBG] Connection id "0HND5FISF9EHF" is closed. The last processed stream ID was 19.
2025-06-07 11:35:36.402 +07:00 [DBG] Connection id "0HND5FISF9EHF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 11:35:36.408 +07:00 [DBG] Connection id "0HND5FISF9EHF" stopped.
2025-06-07 11:35:36.877 +07:00 [DBG] Connection id "0HND5FISF9EHG" accepted.
2025-06-07 11:35:36.877 +07:00 [DBG] Connection id "0HND5FISF9EHG" started.
2025-06-07 11:35:36.880 +07:00 [DBG] Connection 0HND5FISF9EHG established using the following protocol: "Tls12"
2025-06-07 11:35:36.882 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 11:35:36.887 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 11:35:36.893 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 11:35:36.894 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 11:35:36.896 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:35:37.001 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 11:35:37.005 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 11:35:37.041 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:35:37.047 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:35:37.047 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:35:37.047 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:35:37.048 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:35:37.048 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:35:37.050 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:35:37.051 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:35:37.059 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 11:35:37.102 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:35:37.164 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Select(c => c.ParentId)'
2025-06-07 11:35:37.420 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Guid?>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT c.ParentId
        FROM Categories AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Guid?>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 11:35:37.450 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:35:37.451 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:35:37.451 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:37.451 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:37.451 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:35:37.451 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:35:37.451 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:35:37.451 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 11:35:37.464 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 11:35:37.472 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:37.473 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results.
2025-06-07 11:35:37.473 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:37.473 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:35:37.484 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Where(c => !(__parentIds_0.Contains((Guid?)c.Id)))'
2025-06-07 11:35:37.616 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CategoryEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CategoryEntity.CreatedAt (DateTime?), 1], [Property: CategoryEntity.CreatedBy (Guid?), 2], [Property: CategoryEntity.Description (string) Required, 3], [Property: CategoryEntity.ImageUrl (string) Required, 4], [Property: CategoryEntity.IsDeleted (bool?), 5], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 6], [Property: CategoryEntity.LastUpdatedBy (Guid?), 7], [Property: CategoryEntity.Name (string) Required, 8], [Property: CategoryEntity.ParentId (Guid?) FK Index, 9] }
        SELECT c.Id, c.CreatedAt, c.CreatedBy, c.Description, c.ImageUrl, c.IsDeleted, c.LastUpdatedAt, c.LastUpdatedBy, c.Name, c.ParentId
        FROM Categories AS c
        WHERE Not(c.Id = ANY(@__parentIds_0))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CategoryEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 11:35:37.640 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:37.640 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:37.640 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:35:37.640 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:35:37.647 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-06-07 11:35:37.650 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 11:35:37.747 +07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 11:35:37.817 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:35:37.869 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:35:37.869 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:35:37.870 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:37.870 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 123ms reading results.
2025-06-07 11:35:37.871 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:37.871 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:35:37.995 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 928.9032ms.
2025-06-07 11:35:38.002 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:35:38.005 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-06-07 11:35:38.009 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:35:38.011 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:35:38.055 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 1003.897ms
2025-06-07 11:35:38.056 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 11:35:38.061 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:35:38.065 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:35:38.066 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 11:35:38.067 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 1184.9022ms
2025-06-07 11:35:48.072 +07:00 [DBG] Connection id "0HND5FISF9EHG" received FIN.
2025-06-07 11:35:48.072 +07:00 [DBG] Connection id "0HND5FISF9EHG" is closed. The last processed stream ID was 1.
2025-06-07 11:35:48.073 +07:00 [DBG] Connection id "0HND5FISF9EHG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 11:35:48.073 +07:00 [DBG] The connection queue processing loop for 0HND5FISF9EHG completed.
2025-06-07 11:35:48.073 +07:00 [DBG] Connection id "0HND5FISF9EHG" stopped.
2025-06-07 11:36:00.557 +07:00 [DBG] Connection id "0HND5FISF9EHH" accepted.
2025-06-07 11:36:00.559 +07:00 [DBG] Connection id "0HND5FISF9EHH" started.
2025-06-07 11:36:00.583 +07:00 [DBG] Connection 0HND5FISF9EHH established using the following protocol: "Tls12"
2025-06-07 11:36:00.635 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 11:36:00.635 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 11:36:00.640 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 11:36:00.640 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 11:36:00.642 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 11:36:00.642 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 11:36:00.643 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:36:00.643 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:36:00.644 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:36:00.644 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 11:36:00.648 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 11:36:00.648 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 11:36:00.651 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:36:00.651 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 11:36:00.651 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:36:00.651 +07:00 [INF] CORS policy execution successful.
2025-06-07 11:36:00.653 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:36:00.653 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:36:00.668 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:36:00.668 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 11:36:00.668 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:36:00.668 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 11:36:00.669 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:36:00.669 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 11:36:00.669 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:36:00.669 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 11:36:00.669 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:36:00.669 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 11:36:00.669 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:36:00.669 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 11:36:00.669 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:36:00.669 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:36:00.669 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:36:00.669 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 11:36:00.670 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 11:36:00.670 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 11:36:00.834 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:36:00.834 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:36:00.835 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()'
2025-06-07 11:36:00.844 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CategoryEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CategoryEntity.CreatedAt (DateTime?), 1], [Property: CategoryEntity.CreatedBy (Guid?), 2], [Property: CategoryEntity.Description (string) Required, 3], [Property: CategoryEntity.ImageUrl (string) Required, 4], [Property: CategoryEntity.IsDeleted (bool?), 5], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 6], [Property: CategoryEntity.LastUpdatedBy (Guid?), 7], [Property: CategoryEntity.Name (string) Required, 8], [Property: CategoryEntity.ParentId (Guid?) FK Index, 9] }
        SELECT c.Id, c.CreatedAt, c.CreatedBy, c.Description, c.ImageUrl, c.IsDeleted, c.LastUpdatedAt, c.LastUpdatedBy, c.Name, c.ParentId
        FROM Categories AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CategoryEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 11:36:00.845 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:36:00.845 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:36:00.845 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:36:00.845 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 11:36:00.845 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:36:00.845 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:36:00.845 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:36:00.846 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:36:00.846 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:36:00.847 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-07 11:36:00.847 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:36:00.859 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:36:00.860 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:36:00.862 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:36:00.898 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:36:00.899 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:36:00.900 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:36:00.900 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:36:00.900 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 40ms reading results.
2025-06-07 11:36:00.900 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:36:00.900 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:36:00.901 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 231.27ms.
2025-06-07 11:36:00.902 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:36:00.903 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:36:00.903 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:36:00.903 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:36:00.904 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:36:00.904 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:36:00.906 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 237.2354ms
2025-06-07 11:36:00.906 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:36:00.907 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:36:00.907 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:36:00.907 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:36:00.907 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 274.6243ms
2025-06-07 11:36:00.939 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:36:00.939 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:36:00.939 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:36:00.939 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:36:00.939 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:36:00.943 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 11:36:00.943 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:36:00.943 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:36:00.943 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:36:00.944 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:36:00.944 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 11:36:00.944 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:36:00.944 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 11:36:00.944 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:36:00.944 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:36:00.944 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 274.1927ms.
2025-06-07 11:36:00.944 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 11:36:00.944 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 11:36:00.944 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 11:36:00.944 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 11:36:00.944 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 11:36:00.944 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 11:36:00.945 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 275.6885ms
2025-06-07 11:36:00.945 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 11:36:00.945 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:36:00.945 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:36:00.945 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:36:00.945 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 312.7894ms
2025-06-07 11:37:09.677 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-07 11:37:12.910 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:37:12.954 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:37:12.962 +07:00 [DBG] Created DbConnection. (4ms).
2025-06-07 11:37:12.990 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:13.571 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:13.586 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:13.622 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (20ms).
2025-06-07 11:37:13.642 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:37:13.651 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (8ms).
2025-06-07 11:37:13.659 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (18ms).
2025-06-07 11:37:13.661 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:13.998 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.025 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:37:14.310 +07:00 [INF] Executed DbCommand (288ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:37:14.315 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.324 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (8ms).
2025-06-07 11:37:14.382 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.384 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.387 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:37:14.389 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-06-07 11:37:14.390 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-06-07 11:37:14.390 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:37:14.442 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:37:14.470 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.475 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 28ms reading results.
2025-06-07 11:37:14.475 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.475 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:37:14.482 +07:00 [DBG] Migrating using database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.483 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.715 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.715 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.716 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:37:14.717 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:37:14.718 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:37:14.718 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-06-07 11:37:14.719 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.720 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.721 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:37:14.739 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:37:14.739 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.739 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:37:14.741 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.881 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.881 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.881 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:37:14.882 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:37:14.882 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:37:14.882 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:37:14.882 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.882 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.882 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:37:14.883 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:37:14.883 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.884 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:37:14.887 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.888 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.888 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:37:14.888 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:37:14.888 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:37:14.888 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:37:14.913 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:37:14.913 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.914 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:37:14.914 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.914 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:37:14.937 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-06-07 11:37:14.939 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:37:14.949 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:37:14.951 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (2ms).
2025-06-07 11:37:15.101 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-07 11:37:15.340 +07:00 [DBG] Hosting starting
2025-06-07 11:37:15.455 +07:00 [INF] User profile is available. Using 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-07 11:37:16.281 +07:00 [DBG] Starting bus instances: IBus
2025-06-07 11:37:16.287 +07:00 [DBG] Starting bus: "rabbitmq://localhost/"
2025-06-07 11:37:16.334 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-76077df0-b207-403d-8775-1a14f934e677.xml'.
2025-06-07 11:37:16.369 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-f34d44b7-a8db-4c0f-9aaf-b09be42d65e9.xml'.
2025-06-07 11:37:16.378 +07:00 [DBG] Found key {76077df0-b207-403d-8775-1a14f934e677}.
2025-06-07 11:37:16.384 +07:00 [DBG] Connect: guest@localhost:5672/
2025-06-07 11:37:16.389 +07:00 [DBG] Found key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9}.
2025-06-07 11:37:16.404 +07:00 [DBG] Considering key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} with expiration date 2025-09-05 02:16:48Z as default key.
2025-06-07 11:37:16.413 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 11:37:16.414 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-06-07 11:37:16.416 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 11:37:16.436 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-06-07 11:37:16.437 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-06-07 11:37:16.440 +07:00 [DBG] Using key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} as the default key.
2025-06-07 11:37:16.441 +07:00 [DBG] Key ring with default key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} was loaded during application startup.
2025-06-07 11:37:16.543 +07:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 55041)
2025-06-07 11:37:16.639 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/LAPTOPHPOFAN_ProductAPI_bus_knroyyg414af3duxbdq4k98sdw?temporary=true"
2025-06-07 11:37:16.657 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-06-07 11:37:16.831 +07:00 [INF] Now listening on: https://localhost:54993
2025-06-07 11:37:16.831 +07:00 [INF] Now listening on: http://localhost:54994
2025-06-07 11:37:16.832 +07:00 [DBG] Loaded hosting startup assembly Product.API
2025-06-07 11:37:16.832 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-07 11:37:16.832 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-07 11:37:16.832 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-07 11:37:16.957 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-07 11:37:16.958 +07:00 [INF] Hosting environment: Development
2025-06-07 11:37:16.958 +07:00 [INF] Content root path: D:\LearnNetMicroServices\UTCShop\src\Services\Product\Product.API
2025-06-07 11:37:16.958 +07:00 [DBG] Hosting started
2025-06-07 11:41:14.962 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-07 11:41:18.065 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 11:41:18.084 +07:00 [DBG] Creating DbConnection.
2025-06-07 11:41:18.091 +07:00 [DBG] Created DbConnection. (4ms).
2025-06-07 11:41:18.107 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.347 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.352 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.361 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (6ms).
2025-06-07 11:41:18.370 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:41:18.375 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2025-06-07 11:41:18.376 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2025-06-07 11:41:18.377 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.465 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.471 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:41:18.555 +07:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:41:18.557 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.558 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 11:41:18.578 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.578 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.578 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:41:18.579 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:41:18.579 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:41:18.579 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:41:18.585 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:41:18.592 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.593 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
2025-06-07 11:41:18.593 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.594 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:41:18.596 +07:00 [DBG] Migrating using database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.597 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.757 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.757 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.757 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:41:18.757 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:41:18.757 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:41:18.757 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:41:18.757 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.757 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.758 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:41:18.761 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:41:18.762 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.762 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:41:18.762 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.840 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.841 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.841 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:41:18.841 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 11:41:18.841 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:41:18.841 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 11:41:18.841 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.841 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.841 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:41:18.844 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 11:41:18.844 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.844 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:41:18.845 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.845 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.845 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 11:41:18.845 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:41:18.845 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 11:41:18.845 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:41:18.846 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 11:41:18.846 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.846 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 11:41:18.846 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.846 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:41:18.859 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-06-07 11:41:18.861 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 11:41:18.864 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 11:41:18.865 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 11:41:18.912 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-07 11:41:18.979 +07:00 [DBG] Hosting starting
2025-06-07 11:41:19.013 +07:00 [INF] User profile is available. Using 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-07 11:41:19.162 +07:00 [DBG] Starting bus instances: IBus
2025-06-07 11:41:19.166 +07:00 [DBG] Starting bus: "rabbitmq://localhost/"
2025-06-07 11:41:19.189 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-76077df0-b207-403d-8775-1a14f934e677.xml'.
2025-06-07 11:41:19.205 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-f34d44b7-a8db-4c0f-9aaf-b09be42d65e9.xml'.
2025-06-07 11:41:19.209 +07:00 [DBG] Found key {76077df0-b207-403d-8775-1a14f934e677}.
2025-06-07 11:41:19.210 +07:00 [DBG] Connect: guest@localhost:5672/
2025-06-07 11:41:19.213 +07:00 [DBG] Found key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9}.
2025-06-07 11:41:19.219 +07:00 [DBG] Considering key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} with expiration date 2025-09-05 02:16:48Z as default key.
2025-06-07 11:41:19.222 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 11:41:19.223 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-06-07 11:41:19.224 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 11:41:19.228 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-06-07 11:41:19.235 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-06-07 11:41:19.238 +07:00 [DBG] Using key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} as the default key.
2025-06-07 11:41:19.239 +07:00 [DBG] Key ring with default key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} was loaded during application startup.
2025-06-07 11:41:19.296 +07:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 56129)
2025-06-07 11:41:19.342 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/LAPTOPHPOFAN_ProductAPI_bus_hnroyyg414afazwkbdq4k9cedz?temporary=true"
2025-06-07 11:41:19.346 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-06-07 11:41:19.398 +07:00 [INF] Now listening on: https://localhost:56072
2025-06-07 11:41:19.398 +07:00 [INF] Now listening on: http://localhost:56073
2025-06-07 11:41:19.398 +07:00 [DBG] Loaded hosting startup assembly Product.API
2025-06-07 11:41:19.398 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-07 11:41:19.398 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-07 11:41:19.398 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-07 11:41:19.444 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-07 11:41:19.445 +07:00 [INF] Hosting environment: Development
2025-06-07 11:41:19.445 +07:00 [INF] Content root path: D:\LearnNetMicroServices\UTCShop\src\Services\Product\Product.API
2025-06-07 11:41:19.445 +07:00 [DBG] Hosting started
2025-06-07 21:20:07.641 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-07 21:20:09.326 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:20:09.360 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:20:09.371 +07:00 [DBG] Created DbConnection. (10ms).
2025-06-07 21:20:09.394 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:09.971 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:09.978 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:09.991 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (8ms).
2025-06-07 21:20:10.003 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 21:20:10.010 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2025-06-07 21:20:10.012 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2025-06-07 21:20:10.012 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.164 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.185 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 21:20:10.379 +07:00 [INF] Executed DbCommand (204ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 21:20:10.382 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.387 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (5ms).
2025-06-07 21:20:10.421 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.422 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.422 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:20:10.422 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:20:10.422 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:20:10.423 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 21:20:10.441 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 21:20:10.457 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.459 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 15ms reading results.
2025-06-07 21:20:10.459 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.459 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:20:10.464 +07:00 [DBG] Migrating using database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.466 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.561 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.561 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.561 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:20:10.561 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 21:20:10.561 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 21:20:10.561 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 21:20:10.561 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.562 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.562 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 21:20:10.571 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 21:20:10.571 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.572 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:20:10.575 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.676 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.677 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.677 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:20:10.677 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 21:20:10.677 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 21:20:10.677 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 21:20:10.677 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.677 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.677 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 21:20:10.685 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 21:20:10.685 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.685 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:20:10.686 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.686 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.686 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:20:10.686 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:20:10.686 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:20:10.686 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 21:20:10.689 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 21:20:10.689 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.690 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:20:10.690 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.690 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:20:10.740 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-06-07 21:20:10.745 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:20:10.749 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:20:10.751 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 21:20:10.917 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-07 21:20:11.124 +07:00 [DBG] Hosting starting
2025-06-07 21:20:11.189 +07:00 [INF] User profile is available. Using 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-07 21:20:12.959 +07:00 [DBG] Starting bus instances: IBus
2025-06-07 21:20:12.978 +07:00 [DBG] Starting bus: "rabbitmq://localhost/"
2025-06-07 21:20:13.022 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-76077df0-b207-403d-8775-1a14f934e677.xml'.
2025-06-07 21:20:13.035 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-f34d44b7-a8db-4c0f-9aaf-b09be42d65e9.xml'.
2025-06-07 21:20:13.058 +07:00 [DBG] Found key {76077df0-b207-403d-8775-1a14f934e677}.
2025-06-07 21:20:13.067 +07:00 [DBG] Connect: guest@localhost:5672/
2025-06-07 21:20:13.069 +07:00 [DBG] Found key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9}.
2025-06-07 21:20:13.088 +07:00 [DBG] Considering key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} with expiration date 2025-09-05 02:16:48Z as default key.
2025-06-07 21:20:13.092 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 21:20:13.093 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-06-07 21:20:13.095 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 21:20:13.100 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-06-07 21:20:13.106 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-06-07 21:20:13.109 +07:00 [DBG] Using key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} as the default key.
2025-06-07 21:20:13.110 +07:00 [DBG] Key ring with default key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} was loaded during application startup.
2025-06-07 21:20:13.254 +07:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 49677)
2025-06-07 21:20:13.342 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/LAPTOPHPOFAN_ProductAPI_bus_wo1yyyg414afah4xbdq4muugrn?temporary=true"
2025-06-07 21:20:13.357 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-06-07 21:20:13.443 +07:00 [INF] Now listening on: https://localhost:49550
2025-06-07 21:20:13.443 +07:00 [INF] Now listening on: http://localhost:49551
2025-06-07 21:20:13.444 +07:00 [DBG] Loaded hosting startup assembly Product.API
2025-06-07 21:20:13.444 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-07 21:20:13.444 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-07 21:20:13.444 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-07 21:20:13.550 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-07 21:20:13.550 +07:00 [INF] Hosting environment: Development
2025-06-07 21:20:13.551 +07:00 [INF] Content root path: D:\LearnNetMicroServices\UTCShop\src\Services\Product\Product.API
2025-06-07 21:20:13.551 +07:00 [DBG] Hosting started
2025-06-07 21:20:20.090 +07:00 [DBG] Connection id "0HND5PPNG90FG" accepted.
2025-06-07 21:20:20.105 +07:00 [DBG] Connection id "0HND5PPNG90FG" started.
2025-06-07 21:20:20.143 +07:00 [DBG] Connection 0HND5PPNG90FG established using the following protocol: "Tls12"
2025-06-07 21:20:20.239 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger - null null
2025-06-07 21:20:20.589 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-07 21:20:20.627 +07:00 [DBG] No candidates found for the request path '/swagger'
2025-06-07 21:20:20.628 +07:00 [DBG] Request did not match any endpoints
2025-06-07 21:20:20.650 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger - 301 0 null 437.7307ms
2025-06-07 21:20:20.667 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - null null
2025-06-07 21:20:20.683 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-06-07 21:20:20.684 +07:00 [DBG] Request did not match any endpoints
2025-06-07 21:20:20.900 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-07 21:20:20.903 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-07 21:20:20.927 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-07 21:20:20.927 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-07 21:20:20.928 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - 200 null text/html;charset=utf-8 261.9261ms
2025-06-07 21:20:20.954 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/swagger-ui.css - null null
2025-06-07 21:20:20.955 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.css - null null
2025-06-07 21:20:20.955 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/swagger-ui-bundle.js - null null
2025-06-07 21:20:20.955 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2025-06-07 21:20:20.955 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-06-07 21:20:20.955 +07:00 [DBG] No candidates found for the request path '/swagger/index.css'
2025-06-07 21:20:20.955 +07:00 [DBG] Request did not match any endpoints
2025-06-07 21:20:20.955 +07:00 [DBG] Request did not match any endpoints
2025-06-07 21:20:20.955 +07:00 [DBG] Request did not match any endpoints
2025-06-07 21:20:20.970 +07:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-06-07 21:20:20.971 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.css - 200 202 text/css 16.8718ms
2025-06-07 21:20:20.988 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/swagger-ui-standalone-preset.js - null null
2025-06-07 21:20:20.989 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2025-06-07 21:20:20.989 +07:00 [DBG] Request did not match any endpoints
2025-06-07 21:20:21.058 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-06-07 21:20:21.059 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-07 21:20:21.061 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/swagger-ui.css - 200 154948 text/css 107.2297ms
2025-06-07 21:20:21.061 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 72.8669ms
2025-06-07 21:20:21.096 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.js - null null
2025-06-07 21:20:21.097 +07:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-06-07 21:20:21.098 +07:00 [DBG] Request did not match any endpoints
2025-06-07 21:20:21.106 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.js - 200 null application/javascript;charset=utf-8 9.9097ms
2025-06-07 21:20:21.116 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-06-07 21:20:21.124 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-06-07 21:20:21.145 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 28.97ms
2025-06-07 21:20:21.160 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-06-07 21:20:21.160 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/swagger-ui-bundle.js - 200 1466324 text/javascript 205.6654ms
2025-06-07 21:20:21.460 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 337.2867ms
2025-06-07 21:20:21.993 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-06-07 21:20:21.994 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-06-07 21:20:21.994 +07:00 [DBG] Request did not match any endpoints
2025-06-07 21:20:22.082 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.0879ms
2025-06-07 21:20:27.092 +07:00 [DBG] Connection id "0HND5PPNG90FG" received FIN.
2025-06-07 21:20:27.094 +07:00 [DBG] Connection id "0HND5PPNG90FG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 21:20:27.094 +07:00 [DBG] Connection id "0HND5PPNG90FG" is closed. The last processed stream ID was 19.
2025-06-07 21:20:27.096 +07:00 [DBG] The connection queue processing loop for 0HND5PPNG90FG completed.
2025-06-07 21:20:27.107 +07:00 [DBG] Connection id "0HND5PPNG90FG" stopped.
2025-06-07 21:20:30.395 +07:00 [DBG] Connection id "0HND5PPNG90FH" accepted.
2025-06-07 21:20:30.395 +07:00 [DBG] Connection id "0HND5PPNG90FH" started.
2025-06-07 21:20:30.398 +07:00 [DBG] Connection id "0HND5PPNG90FH" received FIN.
2025-06-07 21:20:30.408 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-07 21:20:30.473 +07:00 [DBG] Connection id "0HND5PPNG90FH" stopped.
2025-06-07 21:20:30.473 +07:00 [DBG] Connection id "0HND5PPNG90FH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 21:24:26.685 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-07 21:24:27.544 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:24:27.560 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:24:27.565 +07:00 [DBG] Created DbConnection. (4ms).
2025-06-07 21:24:27.578 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:27.857 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:27.863 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:27.879 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (9ms).
2025-06-07 21:24:27.893 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 21:24:27.902 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2025-06-07 21:24:27.904 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (14ms).
2025-06-07 21:24:27.904 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.050 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.061 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 21:24:28.177 +07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 21:24:28.180 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.183 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (2ms).
2025-06-07 21:24:28.212 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.212 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.212 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:24:28.212 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:28.212 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:28.213 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 21:24:28.225 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 21:24:28.240 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.242 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 14ms reading results.
2025-06-07 21:24:28.242 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.242 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:28.247 +07:00 [DBG] Migrating using database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.247 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.341 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.341 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.341 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:28.341 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 21:24:28.342 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 21:24:28.342 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 21:24:28.342 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.342 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.342 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 21:24:28.347 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 21:24:28.347 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.347 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:28.348 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.432 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.433 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.433 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:28.433 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 21:24:28.433 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 21:24:28.433 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 21:24:28.433 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.433 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.433 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 21:24:28.435 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 21:24:28.435 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.435 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:28.436 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.436 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.436 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:24:28.436 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:28.436 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:28.436 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 21:24:28.437 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 21:24:28.437 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.438 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:24:28.438 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.438 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:28.454 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-06-07 21:24:28.456 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:24:28.459 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:28.460 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 21:24:28.529 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-07 21:24:28.666 +07:00 [DBG] Hosting starting
2025-06-07 21:24:28.715 +07:00 [INF] User profile is available. Using 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-07 21:24:29.026 +07:00 [DBG] Starting bus instances: IBus
2025-06-07 21:24:29.042 +07:00 [DBG] Starting bus: "rabbitmq://localhost/"
2025-06-07 21:24:29.080 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-76077df0-b207-403d-8775-1a14f934e677.xml'.
2025-06-07 21:24:29.092 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-f34d44b7-a8db-4c0f-9aaf-b09be42d65e9.xml'.
2025-06-07 21:24:29.111 +07:00 [DBG] Found key {76077df0-b207-403d-8775-1a14f934e677}.
2025-06-07 21:24:29.119 +07:00 [DBG] Connect: guest@localhost:5672/
2025-06-07 21:24:29.119 +07:00 [DBG] Found key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9}.
2025-06-07 21:24:29.128 +07:00 [DBG] Considering key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} with expiration date 2025-09-05 02:16:48Z as default key.
2025-06-07 21:24:29.133 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 21:24:29.133 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-06-07 21:24:29.135 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 21:24:29.140 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-06-07 21:24:29.141 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-06-07 21:24:29.143 +07:00 [DBG] Using key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} as the default key.
2025-06-07 21:24:29.145 +07:00 [DBG] Key ring with default key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} was loaded during application startup.
2025-06-07 21:24:29.201 +07:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 50702)
2025-06-07 21:24:29.356 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/LAPTOPHPOFAN_ProductAPI_bus_xtgoyyg414afaf99bdq4muabft?temporary=true"
2025-06-07 21:24:29.363 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-06-07 21:24:29.411 +07:00 [INF] Now listening on: https://localhost:50663
2025-06-07 21:24:29.411 +07:00 [INF] Now listening on: http://localhost:50664
2025-06-07 21:24:29.411 +07:00 [DBG] Loaded hosting startup assembly Product.API
2025-06-07 21:24:29.411 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-07 21:24:29.411 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-07 21:24:29.412 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-07 21:24:29.462 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-07 21:24:29.462 +07:00 [INF] Hosting environment: Development
2025-06-07 21:24:29.462 +07:00 [INF] Content root path: D:\LearnNetMicroServices\UTCShop\src\Services\Product\Product.API
2025-06-07 21:24:29.462 +07:00 [DBG] Hosting started
2025-06-07 21:24:53.186 +07:00 [DBG] Connection id "0HND5PS8SN3I5" accepted.
2025-06-07 21:24:53.194 +07:00 [DBG] Connection id "0HND5PS8SN3I5" started.
2025-06-07 21:24:53.229 +07:00 [DBG] Connection 0HND5PS8SN3I5 established using the following protocol: "Tls12"
2025-06-07 21:24:53.368 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 21:24:53.368 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:24:53.386 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-07 21:24:53.386 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-07 21:24:53.410 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 21:24:53.410 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:24:53.413 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 21:24:53.413 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:24:53.414 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:24:53.414 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:24:53.421 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:24:53.421 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:24:55.165 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:24:55.165 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:24:55.167 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:24:55.167 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:24:55.168 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:24:55.168 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:24:55.168 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:24:55.168 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:24:55.169 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:24:55.169 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:24:55.473 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:24:55.473 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:24:55.473 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:24:55.473 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:24:55.474 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:24:55.474 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:24:55.474 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:24:55.474 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:24:55.480 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:24:55.480 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:24:55.480 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:24:55.480 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:24:55.481 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:24:55.481 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:24:55.481 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:24:55.481 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:24:55.485 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:24:55.485 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:24:55.485 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:24:55.485 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:24:55.508 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:24:55.508 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:24:55.508 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:24:55.509 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:24:55.509 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:24:55.509 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:24:55.509 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:24:55.509 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:24:55.509 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:24:55.509 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:24:55.509 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:24:55.509 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:24:55.510 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:24:55.510 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:24:55.510 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:24:55.510 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:24:55.511 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:24:55.511 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:24:55.511 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:24:55.511 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:24:55.511 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:24:55.511 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:24:55.511 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:24:55.511 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:24:55.513 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:24:55.513 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:24:55.513 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:24:55.513 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:24:55.514 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:24:55.514 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:24:55.514 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:24:55.514 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:24:55.519 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:24:55.527 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:24:55.527 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:24:55.527 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:24:55.530 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:24:55.530 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:24:55.530 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:24:55.531 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:24:55.531 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:24:55.531 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:24:55.545 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000003": started reading request body.
2025-06-07 21:24:55.545 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000005": started reading request body.
2025-06-07 21:24:55.545 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000007": started reading request body.
2025-06-07 21:24:55.545 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000003": done reading request body.
2025-06-07 21:24:55.545 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000005": done reading request body.
2025-06-07 21:24:55.545 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000007": done reading request body.
2025-06-07 21:24:55.546 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:24:55.552 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:24:55.552 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:24:55.552 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:24:55.552 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:24:55.552 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:24:55.552 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:24:55.552 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:24:55.552 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:24:55.552 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:24:55.552 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:24:55.552 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:24:55.552 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:24:55.568 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:24:55.568 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:24:55.568 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:24:55.569 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:24:55.569 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:24:55.569 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:24:55.580 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()'
2025-06-07 21:24:55.643 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:24:55.643 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:24:55.643 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:24:55.672 +07:00 [DBG] Compiling query expression: 
'DbSet<ProductEntity>()
    .Where(p => p.IsDeleted == (bool?)False)
    .Include(p => p.Category)
    .Skip(__p_0)
    .Take(__p_1)'
2025-06-07 21:24:55.674 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Where(p => p.IsDeleted == (bool?)False)
    .Skip(__p_0)
    .Take(__p_1)
    .Include(c => c.ChildCategories)
    .Select(c => new CategoryEntity{ 
        Id = c.Id, 
        Name = c.Name, 
        ImageUrl = c.ImageUrl, 
        ParentId = c.ParentId, 
        ParentName = c.ParentCategory.Name == null ? "" : c.ParentCategory.Name, 
        ChildCategories = c.ChildCategories 
    }
    )'
2025-06-07 21:24:55.774 +07:00 [DBG] Including navigation: 'ProductEntity.Category'.
2025-06-07 21:24:55.829 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-07 21:24:55.829 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-07 21:24:55.831 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-07 21:24:55.831 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-07 21:24:55.841 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CategoryEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CategoryEntity.CreatedAt (DateTime?), 1], [Property: CategoryEntity.CreatedBy (Guid?), 2], [Property: CategoryEntity.Description (string) Required, 3], [Property: CategoryEntity.ImageUrl (string) Required, 4], [Property: CategoryEntity.IsDeleted (bool?), 5], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 6], [Property: CategoryEntity.LastUpdatedBy (Guid?), 7], [Property: CategoryEntity.Name (string) Required, 8], [Property: CategoryEntity.ParentId (Guid?) FK Index, 9] }
        SELECT c.Id, c.CreatedAt, c.CreatedBy, c.Description, c.ImageUrl, c.IsDeleted, c.LastUpdatedAt, c.LastUpdatedBy, c.Name, c.ParentId
        FROM Categories AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CategoryEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 21:24:55.929 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:24:55.930 +07:00 [DBG] Created DbConnection. (1ms).
2025-06-07 21:24:55.930 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:55.930 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:55.931 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:24:55.931 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:55.931 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:55.931 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:24:55.949 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:24:56.009 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ProductEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductEntity.CategoryId (Guid) Required FK Index, 1], [Property: ProductEntity.CreatedAt (DateTime?), 2], [Property: ProductEntity.CreatedBy (Guid?), 3], [Property: ProductEntity.Description (string) Required, 4], [Property: ProductEntity.ImageUrl (string) Required, 5], [Property: ProductEntity.IsDeleted (bool?), 6], [Property: ProductEntity.LastUpdatedAt (DateTime?), 7], [Property: ProductEntity.LastUpdatedBy (Guid?), 8], [Property: ProductEntity.Name (string) Required, 9], [Property: ProductEntity.Price (decimal) Required, 10] }
            1 -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: CategoryEntity.CreatedAt (DateTime?), 12], [Property: CategoryEntity.CreatedBy (Guid?), 13], [Property: CategoryEntity.Description (string) Required, 14], [Property: CategoryEntity.ImageUrl (string) Required, 15], [Property: CategoryEntity.IsDeleted (bool?), 16], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 17], [Property: CategoryEntity.LastUpdatedBy (Guid?), 18], [Property: CategoryEntity.Name (string) Required, 19], [Property: CategoryEntity.ParentId (Guid?) FK Index, 20] }
        SELECT t.Id, t.CategoryId, t.CreatedAt, t.CreatedBy, t.Description, t.ImageUrl, t.IsDeleted, t.LastUpdatedAt, t.LastUpdatedBy, t.Name, t.Price, c.Id, c.CreatedAt, c.CreatedBy, c.Description, c.ImageUrl, c.IsDeleted, c.LastUpdatedAt, c.LastUpdatedBy, c.Name, c.ParentId
        FROM 
        (
            SELECT p.Id, p.CategoryId, p.CreatedAt, p.CreatedBy, p.Description, p.ImageUrl, p.IsDeleted, p.LastUpdatedAt, p.LastUpdatedBy, p.Name, p.Price
            FROM Products AS p
            WHERE p.IsDeleted == FALSE
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN Categories AS c ON t.CategoryId == c.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 21:24:56.022 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:24:56.022 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:24:56.022 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:24:56.022 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:24:56.022 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.022 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.040 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CategoryEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: CategoryEntity.CreatedAt (DateTime?), 7], [Property: CategoryEntity.CreatedBy (Guid?), 8], [Property: CategoryEntity.Description (string) Required, 9], [Property: CategoryEntity.ImageUrl (string) Required, 10], [Property: CategoryEntity.IsDeleted (bool?), 11], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 12], [Property: CategoryEntity.LastUpdatedBy (Guid?), 13], [Property: CategoryEntity.Name (string) Required, 14], [Property: CategoryEntity.ParentId (Guid?) FK Index, 15] }
            7 -> 6
        SELECT t.Id, t.Name, t.ImageUrl, t.ParentId, CASE
            WHEN c0.Name == NULL THEN ''
            ELSE c0.Name
        END, c0.Id, c1.Id, c1.CreatedAt, c1.CreatedBy, c1.Description, c1.ImageUrl, c1.IsDeleted, c1.LastUpdatedAt, c1.LastUpdatedBy, c1.Name, c1.ParentId
        FROM 
        (
            SELECT c.Id, c.ImageUrl, c.Name, c.ParentId
            FROM Categories AS c
            WHERE c.IsDeleted == FALSE
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        LEFT JOIN Categories AS c0 ON t.ParentId == c0.Id
        LEFT JOIN Categories AS c1 ON t.Id == c1.ParentId
        ORDER BY t.Id ASC, c0.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CategoryEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 21:24:56.042 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:56.047 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:24:56.047 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:24:56.047 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.091 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:56.093 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.093 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:24:56.093 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:56.099 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-06-07 21:24:56.102 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:24:56.104 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.104 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:24:56.104 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:56.104 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:56.104 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:24:56.107 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:56.108 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:56.108 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:56.108 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.108 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 158ms reading results.
2025-06-07 21:24:56.108 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.109 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:56.119 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:24:56.120 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:24:56.120 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.121 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:24:56.121 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.121 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:56.124 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:56.124 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:56.124 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:56.125 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.125 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-06-07 21:24:56.125 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.125 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:56.190 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 617.6243ms.
2025-06-07 21:24:56.191 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 622.3217ms.
2025-06-07 21:24:56.191 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 672.3936ms.
2025-06-07 21:24:56.191 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.192 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:24:56.192 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:56.192 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:56.192 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:24:56.197 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:24:56.197 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.197 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:24:56.197 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.198 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:56.198 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 628.4793ms.
2025-06-07 21:24:56.199 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:24:56.199 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:24:56.199 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:24:56.199 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:24:56.201 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:24:56.201 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:24:56.201 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:24:56.201 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:24:56.201 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:24:56.201 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:24:56.201 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:24:56.201 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:24:56.201 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:24:56.201 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:24:56.201 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:24:56.201 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:24:56.202 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:24:56.202 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:24:56.202 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:24:56.202 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:24:56.202 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:24:56.202 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:24:56.202 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:24:56.202 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:24:56.232 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 712.094ms
2025-06-07 21:24:56.232 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 712.1226ms
2025-06-07 21:24:56.232 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 712.1157ms
2025-06-07 21:24:56.232 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 712.0505ms
2025-06-07 21:24:56.233 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:24:56.233 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:24:56.233 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:24:56.233 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:24:56.239 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:24:56.239 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:24:56.239 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:24:56.239 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:24:56.241 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.241 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.241 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.241 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.243 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 21:24:56.243 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 21:24:56.243 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 21:24:56.243 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 21:24:56.245 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 2900.931ms
2025-06-07 21:24:56.245 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 1079.6504ms
2025-06-07 21:24:56.245 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 1079.6363ms
2025-06-07 21:24:56.245 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 2900.9245ms
2025-06-07 21:24:56.284 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:24:56.287 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:24:56.287 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:24:56.288 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:24:56.288 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:24:56.291 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:24:56.291 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:24:56.292 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:24:56.293 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:24:56.293 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:24:56.294 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:24:56.294 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:24:56.294 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:24:56.295 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:24:56.295 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:24:56.295 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:24:56.295 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:24:56.296 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:24:56.296 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:24:56.302 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:24:56.303 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:24:56.304 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:24:56.304 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.304 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.304 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:24:56.304 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:56.305 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:56.305 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:24:56.307 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:24:56.310 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:56.310 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:56.310 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:56.310 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:56.311 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:56.311 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.311 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 21:24:56.311 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.311 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:56.311 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14.4066ms.
2025-06-07 21:24:56.311 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:24:56.311 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:24:56.311 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:24:56.311 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:24:56.312 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:24:56.312 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:24:56.312 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 17.0988ms
2025-06-07 21:24:56.312 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:24:56.312 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:24:56.312 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:56.313 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:56.313 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 28.9775ms
2025-06-07 21:24:59.668 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:24:59.669 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:24:59.669 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:24:59.669 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:24:59.670 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:24:59.671 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:24:59.671 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:24:59.671 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:24:59.671 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:24:59.672 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:24:59.672 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:24:59.673 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:24:59.673 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:24:59.674 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:24:59.674 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:24:59.674 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:24:59.674 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:24:59.674 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:24:59.674 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:24:59.684 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:24:59.688 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:24:59.688 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:24:59.689 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:24:59.690 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:24:59.690 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 21:24:59.691 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 21:24:59.691 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 21:24:59.691 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:24:59.691 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:24:59.691 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:24:59.691 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:24:59.691 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:24:59.691 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:24:59.691 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:24:59.691 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:24:59.691 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:24:59.692 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:24:59.692 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.692 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.692 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:24:59.692 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:24:59.692 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:24:59.692 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:24:59.692 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:59.692 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:24:59.692 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:24:59.692 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:59.692 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:24:59.692 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:24:59.692 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:24:59.692 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:24:59.692 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:24:59.692 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:24:59.692 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:24:59.692 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:24:59.692 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:24:59.692 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:24:59.692 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:24:59.693 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:24:59.693 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:24:59.694 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:24:59.694 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:24:59.695 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:24:59.697 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:24:59.697 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:24:59.697 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:24:59.697 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:59.697 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:24:59.697 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:59.697 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:24:59.697 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:24:59.698 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.698 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.698 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:59.698 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:24:59.698 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:24:59.698 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:59.698 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:59.698 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:59.698 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:24:59.698 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:59.698 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.698 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-07 21:24:59.699 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:24:59.699 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.700 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:59.701 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.248ms.
2025-06-07 21:24:59.701 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:24:59.701 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:24:59.702 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:24:59.702 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:59.702 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:24:59.702 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:24:59.702 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:24:59.702 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:0000000F": started reading request body.
2025-06-07 21:24:59.703 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:59.703 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:0000000F": done reading request body.
2025-06-07 21:24:59.703 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:24:59.703 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:24:59.703 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:59.703 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:24:59.703 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:24:59.703 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:59.703 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:24:59.703 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:24:59.703 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:59.703 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 29.3527ms
2025-06-07 21:24:59.703 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.703 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:24:59.703 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 21:24:59.704 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.704 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:24:59.704 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:59.704 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.704 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:24:59.704 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:59.704 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11.0383ms.
2025-06-07 21:24:59.704 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:24:59.704 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 36.2297ms
2025-06-07 21:24:59.704 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:24:59.704 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:24:59.704 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:24:59.704 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:24:59.704 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:24:59.704 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:24:59.705 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 12.225ms
2025-06-07 21:24:59.705 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:24:59.707 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:24:59.707 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.707 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:59.707 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 26.5136ms
2025-06-07 21:24:59.709 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:24:59.713 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:24:59.714 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:24:59.714 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.714 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.714 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:24:59.714 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:59.714 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:24:59.716 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:24:59.721 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:24:59.722 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:59.723 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:59.723 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:24:59.723 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.723 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:24:59.723 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.724 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:59.724 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.8276ms.
2025-06-07 21:24:59.724 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:24:59.724 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:24:59.724 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:24:59.724 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:24:59.724 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:24:59.724 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:24:59.725 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 27.7956ms
2025-06-07 21:24:59.725 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:24:59.725 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:24:59.725 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:24:59.726 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:24:59.759 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 68.9631ms
2025-06-07 21:25:23.109 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 21:25:23.110 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 21:25:23.111 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 21:25:23.111 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:25:23.111 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:25:23.112 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:25:23.112 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:25:23.112 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:25:23.112 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:25:23.113 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:25:23.113 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:25:23.113 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:25:23.113 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:25:23.113 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:25:23.113 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:25:23.113 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:25:23.113 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:25:23.114 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:25:23.114 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:25:23.114 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:25:23.114 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:25:23.115 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000011": started reading request body.
2025-06-07 21:25:23.115 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000011": done reading request body.
2025-06-07 21:25:23.115 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:25:23.115 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:25:23.115 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:25:23.115 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:25:23.116 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:25:23.116 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:25:23.117 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:25:23.117 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:25:23.118 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:25:23.118 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:23.118 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:23.118 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:25:23.118 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:25:23.118 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:25:23.118 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:25:23.124 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:25:23.125 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:25:23.125 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:25:23.126 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:25:23.126 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:23.126 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:25:23.126 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:23.126 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:25:23.126 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 10.2082ms.
2025-06-07 21:25:23.126 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:25:23.126 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:25:23.126 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:25:23.126 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:25:23.126 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:25:23.126 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:25:23.126 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 13.1108ms
2025-06-07 21:25:23.126 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:25:23.127 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:25:23.127 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:23.127 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:25:23.127 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 19.6569ms
2025-06-07 21:25:24.541 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 21:25:24.541 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 21:25:24.541 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 21:25:24.541 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:25:24.542 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:25:24.542 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:25:24.542 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:25:24.542 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:25:24.542 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:25:24.542 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:25:24.542 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:25:24.542 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:25:24.542 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:25:24.542 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:25:24.542 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:25:24.542 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:25:24.542 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:25:24.542 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:25:24.542 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:25:24.543 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:25:24.543 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:25:24.543 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000013": started reading request body.
2025-06-07 21:25:24.543 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000013": done reading request body.
2025-06-07 21:25:24.543 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:25:24.543 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:25:24.543 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:25:24.543 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:25:24.543 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:25:24.543 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:25:24.544 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:25:24.544 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:25:24.544 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:25:24.544 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:24.544 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:24.544 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:25:24.544 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:25:24.545 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:25:24.545 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:25:24.550 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:25:24.552 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:25:24.554 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:25:24.555 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:25:24.555 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:24.555 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-06-07 21:25:24.555 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:24.556 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:25:24.556 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.7425ms.
2025-06-07 21:25:24.557 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:25:24.558 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:25:24.558 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:25:24.558 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:25:24.558 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:25:24.559 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:25:24.559 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 17.025ms
2025-06-07 21:25:24.560 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:25:24.560 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:25:24.560 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:24.560 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:25:24.560 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 19.3218ms
2025-06-07 21:25:26.031 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:25:26.031 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:25:26.032 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:25:26.032 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:25:26.033 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:25:26.033 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:25:26.033 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:25:26.033 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:25:26.033 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:25:26.033 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:25:26.033 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:25:26.033 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:25:26.033 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:25:26.033 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:25:26.034 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:25:26.034 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:25:26.034 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:25:26.034 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:25:26.034 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:25:26.034 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:25:26.034 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:25:26.034 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:25:26.034 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:25:26.034 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:25:26.034 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:25:26.034 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:25:26.034 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:25:26.034 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:25:26.034 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:25:26.034 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:25:26.034 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:25:26.035 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:25:26.035 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:25:26.035 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:25:26.037 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:25:26.038 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:25:26.039 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:25:26.040 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:25:26.041 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:25:26.041 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000017": started reading request body.
2025-06-07 21:25:26.041 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000017": done reading request body.
2025-06-07 21:25:26.041 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:25:26.041 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:25:26.041 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:25:26.042 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:25:26.042 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:25:26.042 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:25:26.042 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:25:26.042 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:25:26.042 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:25:26.042 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000015": started reading request body.
2025-06-07 21:25:26.042 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000015": done reading request body.
2025-06-07 21:25:26.042 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:25:26.042 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:25:26.042 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:25:26.042 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:25:26.043 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:25:26.043 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:25:26.044 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:25:26.045 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:25:26.046 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:25:26.046 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:26.046 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:26.046 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:25:26.046 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:25:26.046 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:25:26.046 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:25:26.057 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:25:26.057 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:26.058 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:25:26.058 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:26.058 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:25:26.058 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.0861ms.
2025-06-07 21:25:26.058 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:25:26.058 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:25:26.058 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:25:26.058 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:25:26.058 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:25:26.058 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:25:26.058 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 23.7887ms
2025-06-07 21:25:26.058 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:25:26.058 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:25:26.058 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:26.059 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:25:26.059 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 28.4635ms
2025-06-07 21:25:26.059 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:25:26.060 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:25:26.060 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:25:26.060 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:26.060 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:26.060 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:25:26.060 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:25:26.060 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:25:26.060 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:25:26.071 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:25:26.074 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:26.075 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:25:26.075 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:26.075 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:25:26.075 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 33.3017ms.
2025-06-07 21:25:26.076 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:25:26.076 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:25:26.076 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:25:26.076 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:25:26.076 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:25:26.076 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:25:26.076 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 41.4685ms
2025-06-07 21:25:26.076 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:25:26.076 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:25:26.076 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:25:26.076 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:25:26.076 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 46.2513ms
2025-06-07 21:26:06.336 +07:00 [DBG] Connection id "0HND5PS8SN3I6" accepted.
2025-06-07 21:26:06.336 +07:00 [DBG] Connection id "0HND5PS8SN3I6" started.
2025-06-07 21:26:06.342 +07:00 [DBG] Connection 0HND5PS8SN3I6 established using the following protocol: "Tls12"
2025-06-07 21:26:07.051 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - null null
2025-06-07 21:26:07.094 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-06-07 21:26:07.094 +07:00 [DBG] Request did not match any endpoints
2025-06-07 21:26:07.175 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-07 21:26:07.177 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-07 21:26:07.186 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-07 21:26:07.187 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-07 21:26:07.188 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - 200 null text/html;charset=utf-8 136.7144ms
2025-06-07 21:26:07.223 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-06-07 21:26:07.223 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.js - null null
2025-06-07 21:26:07.224 +07:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-06-07 21:26:07.224 +07:00 [DBG] Request did not match any endpoints
2025-06-07 21:26:07.226 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-06-07 21:26:07.227 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.js - 200 null application/javascript;charset=utf-8 5.5124ms
2025-06-07 21:26:07.248 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 26.4802ms
2025-06-07 21:26:07.330 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 104.6996ms
2025-06-07 21:26:07.519 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-06-07 21:26:07.519 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-06-07 21:26:07.519 +07:00 [DBG] Request did not match any endpoints
2025-06-07 21:26:07.571 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.5194ms
2025-06-07 21:26:14.690 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:26:14.690 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:26:14.690 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:26:14.691 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:26:14.691 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:26:14.699 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:14 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:26:14.756 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 21:26:14.793 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 21:26:14.793 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 21:26:14.793 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:26:14.793 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:26:14.794 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:14 CH'.
2025-06-07 21:26:14.794 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:26:14.794 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:26:14.794 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:14 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:26:14.794 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:26:14.794 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:14 CH'.
2025-06-07 21:26:14.794 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:26:14.794 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:26:14.794 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:26:14.794 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:26:14.794 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:26:14.794 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:26:14.794 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:26:14.794 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:26:14.794 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:26:14.794 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:26:14.794 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:26:14.794 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:26:14.794 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:26:14.794 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:26:14.794 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:26:14.794 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:26:14.794 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:26:14.795 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:26:14.795 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:26:14.795 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:26:14.795 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:26:14.795 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:26:14.795 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:26:14.795 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:0000001B": started reading request body.
2025-06-07 21:26:14.795 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:0000001B": done reading request body.
2025-06-07 21:26:14.795 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:26:14.795 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:14.795 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:14.795 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:26:14.795 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:14.795 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:26:14.795 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:26:14.795 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:26:14.796 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:26:14.796 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:26:14.796 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.796 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:26:14.796 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.796 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:26:14.796 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.796 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:26:14.796 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.796 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:26:14.796 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:14.796 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:14.796 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:14.796 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:14.796 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:26:14.796 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:26:14.799 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:26:14.799 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:26:14.802 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:14.803 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:14.803 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:14.804 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:14.804 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:14.804 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:14.804 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:14.805 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.805 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:14.805 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.805 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-06-07 21:26:14.805 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-06-07 21:26:14.805 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.805 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.805 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:14.805 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:14.805 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 10.5111ms.
2025-06-07 21:26:14.806 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 10.33ms.
2025-06-07 21:26:14.806 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:26:14.806 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:26:14.806 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:26:14.806 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:26:14.806 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:26:14.806 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:26:14.806 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:26:14.806 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:26:14.806 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:26:14.806 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:26:14.806 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:26:14.806 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:26:14.806 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 11.6048ms
2025-06-07 21:26:14.806 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 11.7189ms
2025-06-07 21:26:14.806 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:26:14.806 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:26:14.807 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:26:14.807 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:26:14.807 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.807 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.807 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:14.807 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:14.808 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 118.9765ms
2025-06-07 21:26:14.808 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 52.2227ms
2025-06-07 21:26:14.827 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:26:14.827 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:26:14.827 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:26:14.827 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:26:14.827 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:26:14.828 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:14 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:26:14.828 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:14 CH'.
2025-06-07 21:26:14.828 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:26:14.828 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:26:14.828 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:26:14.828 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:26:14.828 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:26:14.828 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:26:14.828 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:26:14.828 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:26:14.828 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:26:14.828 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:26:14.828 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:26:14.828 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:26:14.829 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:26:14.829 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:26:14.829 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:26:14.829 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.829 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.829 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:26:14.829 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:14.829 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:14.829 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:26:14.830 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:26:14.831 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:14.832 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:14.833 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:14.833 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:14.833 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:14.833 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.833 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 21:26:14.833 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.833 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:14.833 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5.2028ms.
2025-06-07 21:26:14.834 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:26:14.834 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:26:14.834 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:26:14.834 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:26:14.834 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:26:14.834 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:26:14.834 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 5.7749ms
2025-06-07 21:26:14.834 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:26:14.834 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:26:14.834 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:14.834 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:14.834 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 7.9835ms
2025-06-07 21:26:17.596 +07:00 [DBG] Connection id "0HND5PS8SN3I6" received FIN.
2025-06-07 21:26:17.597 +07:00 [DBG] Connection id "0HND5PS8SN3I6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 21:26:17.598 +07:00 [DBG] Connection id "0HND5PS8SN3I6" is closed. The last processed stream ID was 9.
2025-06-07 21:26:17.599 +07:00 [DBG] The connection queue processing loop for 0HND5PS8SN3I6 completed.
2025-06-07 21:26:17.602 +07:00 [DBG] Connection id "0HND5PS8SN3I6" stopped.
2025-06-07 21:26:26.840 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 21:26:26.840 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 21:26:26.840 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 21:26:26.840 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:26:26.840 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:26:26.841 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:26 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:26:26.842 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:26 CH'.
2025-06-07 21:26:26.842 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:26:26.842 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:26:26.842 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:26:26.842 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:26:26.842 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:26:26.842 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:26:26.843 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:26:26.843 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:26:26.843 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:26:26.843 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:26:26.843 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:26:26.843 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:26:26.843 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:26:26.844 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:26:26.844 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:0000001F": started reading request body.
2025-06-07 21:26:26.844 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:0000001F": done reading request body.
2025-06-07 21:26:26.844 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:26:26.844 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:26.844 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:26.844 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:26:26.845 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:26.845 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:26:26.846 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:26:26.847 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:26:26.848 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:26:26.848 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:26.848 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:26.848 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:26:26.848 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:26.848 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:26.849 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:26:26.853 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:26:26.854 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:26.854 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:26.854 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:26.854 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:26.854 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:26:26.855 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:26.855 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:26.855 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.7206ms.
2025-06-07 21:26:26.855 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:26:26.855 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:26:26.855 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:26:26.855 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:26:26.855 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:26:26.855 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:26:26.856 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 12.5882ms
2025-06-07 21:26:26.856 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:26:26.856 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:26:26.856 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:26.856 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:26.856 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 16.6939ms
2025-06-07 21:26:27.863 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:26:27.863 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:26:27.864 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:26:27.864 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:26:27.864 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:26:27.864 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:26:27.864 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:26:27.864 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:26:27.864 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:26:27.864 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:26:27.868 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:27 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:26:27.868 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:27 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:26:27.870 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:27 CH'.
2025-06-07 21:26:27.871 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:27 CH'.
2025-06-07 21:26:27.871 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:26:27.871 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:26:27.871 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:26:27.871 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:26:27.872 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:26:27.872 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:26:27.872 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:26:27.872 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:26:27.872 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:26:27.872 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:26:27.872 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:26:27.872 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:26:27.872 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:26:27.872 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:26:27.872 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:26:27.872 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:26:27.872 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:26:27.872 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:26:27.872 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:26:27.872 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:26:27.872 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:26:27.872 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:26:27.872 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:26:27.872 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:26:27.872 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:26:27.872 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:26:27.872 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:26:27.872 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:26:27.872 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000023": started reading request body.
2025-06-07 21:26:27.872 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000021": started reading request body.
2025-06-07 21:26:27.872 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000021": done reading request body.
2025-06-07 21:26:27.872 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000023": done reading request body.
2025-06-07 21:26:27.872 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:26:27.872 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:26:27.872 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:27.872 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:27.872 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:27.872 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:26:27.873 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:27.873 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:26:27.873 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:27.873 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:27.873 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:26:27.873 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:26:27.873 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:26:27.874 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:26:27.874 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:26:27.874 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:26:27.874 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:26:27.874 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:26:27.874 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:27.874 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:27.874 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:27.874 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:27.874 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:26:27.874 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:26:27.874 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:27.874 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:27.874 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:27.874 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:27.874 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:26:27.874 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:26:27.877 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:26:27.878 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:27.878 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:26:27.879 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:27.879 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:27.880 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 7.6449ms.
2025-06-07 21:26:27.881 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:26:27.881 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:26:27.881 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:26:27.881 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:26:27.881 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:26:27.881 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:26:27.881 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 9.1037ms
2025-06-07 21:26:27.881 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:26:27.881 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:26:27.881 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:27.881 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:27.881 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 17.8575ms
2025-06-07 21:26:27.888 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:26:27.889 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:27.890 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:26:27.890 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:27.890 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:27.890 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.6283ms.
2025-06-07 21:26:27.891 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:26:27.891 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:26:27.891 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:26:27.892 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:26:27.892 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:26:27.892 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:26:27.893 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 21.0045ms
2025-06-07 21:26:27.893 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:26:27.893 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:26:27.893 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:27.893 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:27.893 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 30.4789ms
2025-06-07 21:26:46.097 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:26:46.098 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:26:46.098 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:26:46.099 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:26:46.101 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:26:46.104 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:46 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:26:46.105 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:46 CH'.
2025-06-07 21:26:46.105 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:26:46.105 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:26:46.105 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:26:46.105 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:26:46.105 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:26:46.105 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:26:46.105 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:26:46.105 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:26:46.106 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:26:46.106 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:26:46.106 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:26:46.106 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:26:46.106 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:26:46.107 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:26:46.107 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:26:46.107 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.107 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.107 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:26:46.107 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:46.107 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:46.107 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:26:46.109 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:26:46.111 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:46.111 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:46.112 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:46.112 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:46.112 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:46.112 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.112 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-07 21:26:46.112 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.113 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:46.113 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.9962ms.
2025-06-07 21:26:46.113 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:26:46.113 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:26:46.113 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:26:46.113 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:26:46.114 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:26:46.114 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:26:46.114 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 8.5852ms
2025-06-07 21:26:46.114 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:26:46.114 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:26:46.115 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.115 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:46.115 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 21:26:46.118 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 21:26:46.118 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 21:26:46.119 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:26:46.119 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:26:46.120 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:46 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:26:46.121 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 23.0775ms
2025-06-07 21:26:46.122 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:46 CH'.
2025-06-07 21:26:46.122 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:26:46.122 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:26:46.123 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:26:46.124 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:26:46.124 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:26:46.125 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:26:46.125 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:26:46.125 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:26:46.125 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:26:46.126 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:26:46.126 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:26:46.126 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:26:46.126 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:26:46.127 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:26:46.127 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000027": started reading request body.
2025-06-07 21:26:46.127 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:00000027": done reading request body.
2025-06-07 21:26:46.128 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:26:46.128 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:46.128 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:46.128 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:26:46.129 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:26:46.129 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:26:46.131 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:26:46.131 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:26:46.132 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:26:46.132 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.132 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.132 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:26:46.132 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:46.132 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:46.132 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:26:46.145 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:26:46.146 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:46.146 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:46.146 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:46.146 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.146 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:26:46.146 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.146 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:46.146 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.4568ms.
2025-06-07 21:26:46.146 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:26:46.146 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:26:46.146 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:26:46.146 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:26:46.146 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:26:46.147 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:26:46.147 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 21.3549ms
2025-06-07 21:26:46.147 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:26:46.147 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:26:46.147 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.147 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:46.147 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 32.4924ms
2025-06-07 21:26:46.166 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:26:46.166 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:26:46.166 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:26:46.166 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:26:46.166 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:26:46.167 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:46 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:26:46.168 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:26:46 CH'.
2025-06-07 21:26:46.168 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:26:46.168 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:26:46.168 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:26:46.169 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:26:46.169 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:26:46.169 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:26:46.169 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:26:46.169 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:26:46.169 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:26:46.169 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:26:46.169 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:26:46.169 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:26:46.170 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:26:46.170 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:26:46.170 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:26:46.170 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.170 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.170 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:26:46.170 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:46.171 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:26:46.171 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:26:46.175 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:26:46.177 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:46.177 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:46.177 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:46.177 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:46.178 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:26:46.178 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.178 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 21:26:46.178 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.178 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:46.179 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.5497ms.
2025-06-07 21:26:46.179 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:26:46.179 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:26:46.179 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:26:46.179 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:26:46.179 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:26:46.179 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:26:46.180 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 10.7086ms
2025-06-07 21:26:46.180 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:26:46.180 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:26:46.180 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:26:46.180 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:26:46.180 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 14.6858ms
2025-06-07 21:27:30.569 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:27:30.569 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:27:30.569 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:27:30.569 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:27:30.569 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:27:30.572 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:27:30 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:27:30.572 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:27:30 CH'.
2025-06-07 21:27:30.572 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:27:30.572 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:27:30.572 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:27:30.572 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:27:30.572 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:27:30.572 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:27:30.572 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:27:30.572 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:27:30.573 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:27:30.573 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:27:30.573 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:27:30.573 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:27:30.576 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:27:30.577 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:27:30.577 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:27:30.577 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:30.577 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:30.577 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:27:30.577 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:27:30.577 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:27:30.577 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:27:30.580 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:27:30.582 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:27:30.582 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:27:30.582 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:27:30.582 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:27:30.582 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:27:30.582 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:30.582 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:27:30.582 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:30.582 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:27:30.583 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.8212ms.
2025-06-07 21:27:30.583 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:27:30.583 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:27:30.583 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:27:30.583 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:27:30.583 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:27:30.583 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:27:30.583 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 10.9149ms
2025-06-07 21:27:30.584 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:27:30.584 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:27:30.584 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:30.584 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:27:30.584 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 15.6359ms
2025-06-07 21:27:50.973 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:27:50.973 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:27:50.974 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:27:50.974 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:27:50.974 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:27:50.974 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:27:50.974 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:27:50.974 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:27:50.974 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:27:50.974 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:27:50.978 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:27:50 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:27:50.978 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:27:50 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:27:50.979 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:27:50 CH'.
2025-06-07 21:27:50.980 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:27:50 CH'.
2025-06-07 21:27:50.980 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:27:50.980 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:27:50.980 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:27:50.980 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:27:50.980 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:27:50.980 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:27:50.981 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:27:50.981 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:27:50.981 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:27:50.981 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:27:50.981 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:27:50.981 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:27:50.981 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:27:50.981 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:27:50.981 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:27:50.981 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:27:50.981 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:27:50.981 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:27:50.981 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:27:50.981 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:27:50.981 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:27:50.981 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:27:50.982 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:27:50.982 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:27:50.982 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:27:50.982 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:27:50.982 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:27:50.982 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:27:50.982 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:0000002D": started reading request body.
2025-06-07 21:27:50.982 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:0000002F": started reading request body.
2025-06-07 21:27:50.985 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:0000002D": done reading request body.
2025-06-07 21:27:50.985 +07:00 [DBG] Connection id "0HND5PS8SN3I5", Request id "0HND5PS8SN3I5:0000002F": done reading request body.
2025-06-07 21:27:50.998 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:27:50.998 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:27:50.999 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:27:50.999 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:27:51.000 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:27:51.000 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:27:51.000 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:27:51.001 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:27:51.001 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:27:51.001 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:27:51.005 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:27:51.005 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:27:51.006 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:27:51.006 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:27:51.007 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:27:51.007 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:27:51.007 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:27:51.007 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:27:51.007 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:51.007 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:51.008 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:51.008 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:51.008 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:27:51.008 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:27:51.008 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:27:51.008 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:27:51.008 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:27:51.008 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:27:51.008 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:27:51.008 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:27:51.013 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:27:51.013 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:27:51.014 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:51.014 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:51.014 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:27:51.014 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:27:51.014 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:51.014 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:51.014 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:27:51.014 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:27:51.014 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 8.8846ms.
2025-06-07 21:27:51.014 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 8.8139ms.
2025-06-07 21:27:51.014 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:27:51.014 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:27:51.014 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:27:51.014 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:27:51.014 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:27:51.014 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:27:51.014 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:27:51.014 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:27:51.014 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:27:51.014 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:27:51.014 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:27:51.014 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:27:51.014 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 33.1269ms
2025-06-07 21:27:51.014 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 33.1041ms
2025-06-07 21:27:51.014 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:27:51.014 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:27:51.014 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:27:51.014 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:27:51.015 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:51.015 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:51.015 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:27:51.015 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:27:51.015 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 42.9532ms
2025-06-07 21:27:51.015 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 42.94ms
2025-06-07 21:27:58.768 +07:00 [DBG] Connection id "0HND5PS8SN3I7" accepted.
2025-06-07 21:27:58.769 +07:00 [DBG] Connection id "0HND5PS8SN3I7" started.
2025-06-07 21:27:58.770 +07:00 [DBG] Connection 0HND5PS8SN3I7 established using the following protocol: "Tls12"
2025-06-07 21:27:58.772 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:27:58.772 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:27:58.772 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:27:58.772 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:27:58.772 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:27:58.773 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:27:58 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:27:58.774 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:27:58 CH'.
2025-06-07 21:27:58.774 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:27:58.778 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:27:58.778 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:27:58.778 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:27:58.778 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:27:58.778 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:27:58.778 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:27:58.779 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:27:58.779 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:27:58.779 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:27:58.785 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:27:58.792 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Select(c => c.ParentId)'
2025-06-07 21:27:58.797 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Guid?>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT c.ParentId
        FROM Categories AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Guid?>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 21:27:58.800 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:27:58.800 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:27:58.800 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:58.800 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:58.800 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:27:58.800 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:27:58.800 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:27:58.800 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:27:58.801 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:27:58.811 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:58.811 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results.
2025-06-07 21:27:58.811 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:58.811 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:27:58.813 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Where(c => !(__parentIds_0.Contains((Guid?)c.Id)))'
2025-06-07 21:27:58.853 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CategoryEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CategoryEntity.CreatedAt (DateTime?), 1], [Property: CategoryEntity.CreatedBy (Guid?), 2], [Property: CategoryEntity.Description (string) Required, 3], [Property: CategoryEntity.ImageUrl (string) Required, 4], [Property: CategoryEntity.IsDeleted (bool?), 5], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 6], [Property: CategoryEntity.LastUpdatedBy (Guid?), 7], [Property: CategoryEntity.Name (string) Required, 8], [Property: CategoryEntity.ParentId (Guid?) FK Index, 9] }
        SELECT c.Id, c.CreatedAt, c.CreatedBy, c.Description, c.ImageUrl, c.IsDeleted, c.LastUpdatedAt, c.LastUpdatedBy, c.Name, c.ParentId
        FROM Categories AS c
        WHERE Not(c.Id = ANY(@__parentIds_0))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CategoryEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 21:27:58.862 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:58.862 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:58.862 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:27:58.862 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:27:58.864 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-07 21:27:58.864 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:27:58.949 +07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:27:58.949 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:27:58.950 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:27:58.950 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:27:58.950 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:58.950 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:27:58.950 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:58.950 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:27:58.950 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 171.3507ms.
2025-06-07 21:27:58.950 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:27:58.951 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-06-07 21:27:58.951 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:27:58.951 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:27:58.951 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 172.8595ms
2025-06-07 21:27:58.951 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:27:58.951 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:27:58.952 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:27:58.952 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:27:58.952 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 179.9229ms
2025-06-07 21:28:08.968 +07:00 [DBG] Connection id "0HND5PS8SN3I7" received FIN.
2025-06-07 21:28:08.969 +07:00 [DBG] Connection id "0HND5PS8SN3I7" is closed. The last processed stream ID was 1.
2025-06-07 21:28:08.969 +07:00 [DBG] Connection id "0HND5PS8SN3I7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 21:28:08.969 +07:00 [DBG] The connection queue processing loop for 0HND5PS8SN3I7 completed.
2025-06-07 21:28:08.970 +07:00 [DBG] Connection id "0HND5PS8SN3I7" stopped.
2025-06-07 21:28:56.114 +07:00 [DBG] Connection id "0HND5PS8SN3I5" received FIN.
2025-06-07 21:28:56.115 +07:00 [DBG] Connection id "0HND5PS8SN3I5" is closed. The last processed stream ID was 47.
2025-06-07 21:28:56.115 +07:00 [DBG] The connection queue processing loop for 0HND5PS8SN3I5 completed.
2025-06-07 21:28:56.115 +07:00 [DBG] Connection id "0HND5PS8SN3I5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 21:28:56.130 +07:00 [DBG] Connection id "0HND5PS8SN3I5" stopped.
2025-06-07 21:32:16.049 +07:00 [DBG] Connection id "0HND5PS8SN3I8" accepted.
2025-06-07 21:32:16.052 +07:00 [DBG] Connection id "0HND5PS8SN3I8" started.
2025-06-07 21:32:16.063 +07:00 [DBG] Connection 0HND5PS8SN3I8 established using the following protocol: "Tls12"
2025-06-07 21:32:16.069 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:32:16.069 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 21:32:16.069 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:32:16.070 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:32:16.070 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 21:32:16.070 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:32:16.070 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 21:32:16.070 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:32:16.071 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:32:16.071 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:32:16.071 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:32:16.071 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:32:16.071 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:32:16.072 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:32:16.072 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:32:16.076 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:32:16 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:32:16.076 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:32:16 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:32:16.076 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:32:16 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:32:16.078 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:32:16 CH'.
2025-06-07 21:32:16.079 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:32:16 CH'.
2025-06-07 21:32:16.080 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:25:40 CH', Current time (UTC): '07/06/2025 2:32:16 CH'.
2025-06-07 21:32:16.081 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:32:16.081 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:32:16.081 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:32:16.081 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:32:16.081 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:32:16.081 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:32:16.081 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:32:16.081 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:32:16.081 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:32:16.081 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:32:16.081 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:32:16.081 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:32:16.081 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:32:16.081 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:32:16.081 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:32:16.081 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:32:16.081 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:32:16.082 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:32:16.082 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:32:16.082 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:32:16.082 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:32:16.082 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:32:16.082 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:32:16.082 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:32:16.083 +07:00 [DBG] Connection id "0HND5PS8SN3I8", Request id "0HND5PS8SN3I8:00000001": started reading request body.
2025-06-07 21:32:16.083 +07:00 [DBG] Connection id "0HND5PS8SN3I8", Request id "0HND5PS8SN3I8:00000001": done reading request body.
2025-06-07 21:32:16.083 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:32:16.083 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:32:16.083 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:32:16.083 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:32:16.083 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:32:16.083 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:32:16.083 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:32:16.083 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:32:16.083 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:32:16.083 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:32:16.084 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:32:16.085 +07:00 [DBG] Created DbConnection. (1ms).
2025-06-07 21:32:16.085 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.086 +07:00 [DBG] Created DbConnection. (2ms).
2025-06-07 21:32:16.086 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.087 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:32:16.088 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:32:16.088 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.260 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.260 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:32:16.261 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:32:16.261 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:32:16.262 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:32:16.263 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.263 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:32:16.263 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:32:16.263 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:32:16.264 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:32:16.269 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.269 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:32:16.269 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:32:16.269 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:32:16.269 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:32:16.269 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:32:16.270 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:32:16.271 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:32:16.271 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:32:16.271 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:32:16.271 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:32:16.271 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.271 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:32:16.271 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.271 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:32:16.272 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 190.0079ms.
2025-06-07 21:32:16.272 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:32:16.272 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:32:16.272 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:32:16.272 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:32:16.272 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:32:16.272 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:32:16.273 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 191.1589ms
2025-06-07 21:32:16.273 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:32:16.273 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:32:16.273 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:32:16.273 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.273 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:32:16.273 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 206.9487ms
2025-06-07 21:32:16.273 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:32:16.273 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:32:16.273 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:32:16.273 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:32:16.273 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:32:16.273 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.274 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:32:16.274 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.274 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:32:16.279 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 192.2057ms.
2025-06-07 21:32:16.280 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:32:16.280 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:32:16.280 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:32:16.280 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:32:16.280 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:32:16.280 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:32:16.280 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:32:16.280 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:32:16.280 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:32:16.280 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:32:16.280 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 198.5439ms
2025-06-07 21:32:16.280 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:32:16.280 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.280 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:32:16.280 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:32:16.280 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.280 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.280 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:32:16.280 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:32:16.280 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 214.5773ms
2025-06-07 21:32:16.280 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 197.0881ms.
2025-06-07 21:32:16.281 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:32:16.281 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:32:16.281 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:32:16.281 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:32:16.281 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:32:16.281 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:32:16.282 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 200.1381ms
2025-06-07 21:32:16.282 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:32:16.282 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:32:16.282 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:32:16.282 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:32:16.282 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 216.4441ms
2025-06-07 21:33:31.386 +07:00 [DBG] Connection id "0HND5PS8SN3I8" received FIN.
2025-06-07 21:33:31.387 +07:00 [DBG] The connection queue processing loop for 0HND5PS8SN3I8 completed.
2025-06-07 21:33:31.387 +07:00 [DBG] Connection id "0HND5PS8SN3I8" is closed. The last processed stream ID was 5.
2025-06-07 21:33:31.387 +07:00 [DBG] Connection id "0HND5PS8SN3I8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 21:33:31.401 +07:00 [DBG] Connection id "0HND5PS8SN3I8" stopped.
2025-06-07 21:33:41.277 +07:00 [DBG] Connection id "0HND5PS8SN3I9" accepted.
2025-06-07 21:33:41.278 +07:00 [DBG] Connection id "0HND5PS8SN3I9" started.
2025-06-07 21:33:41.293 +07:00 [DBG] Connection 0HND5PS8SN3I9 established using the following protocol: "Tls12"
2025-06-07 21:33:41.300 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:33:41.300 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 21:33:41.300 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:33:41.300 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 21:33:41.300 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 21:33:41.300 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:33:41.300 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:33:41.300 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:33:41.300 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:33:41.300 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:33:41.301 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:33:41.301 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:33:41.301 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:33:41.301 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:33:41.301 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:33:41.301 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:33:41.301 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:33:41.301 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:33:41.302 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:33:41.302 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:33:41.302 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:33:41.302 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:33:41.302 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:33:41.302 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:33:41.302 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:33:41.302 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:33:41.302 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:33:41.302 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:33:41.302 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:33:41.302 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:33:41.302 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:33:41.302 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:33:41.302 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:41.302 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:41.302 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:41.302 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:41.302 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:33:41.302 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:33:41.302 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:33:41.302 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:33:41.302 +07:00 [DBG] Connection id "0HND5PS8SN3I9", Request id "0HND5PS8SN3I9:00000003": started reading request body.
2025-06-07 21:33:41.302 +07:00 [DBG] Connection id "0HND5PS8SN3I9", Request id "0HND5PS8SN3I9:00000003": done reading request body.
2025-06-07 21:33:41.302 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:33:41.302 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:33:41.302 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:33:41.302 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:33:41.302 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:33:41.302 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:33:41.303 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:33:41.303 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:33:41.303 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:33:41.303 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.303 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.303 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:33:41.303 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:33:41.303 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:41.303 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:41.303 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:33:41.305 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:33:41.305 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:33:41.305 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:33:41.305 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.307 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.307 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:41.308 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:33:41.308 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:41.308 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:41.308 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:41.308 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:41.308 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:41.308 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:33:41.309 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:41.309 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.310 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-07 21:33:41.312 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.312 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 21:33:41.314 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11.7677ms.
2025-06-07 21:33:41.315 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:33:41.315 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:33:41.315 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:33:41.315 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:33:41.315 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:33:41.315 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:41.315 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:41.315 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:33:41.315 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:33:41.315 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:41.315 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.315 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:33:41.315 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.315 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 13.2366ms
2025-06-07 21:33:41.315 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:41.315 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:33:41.315 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.7057ms.
2025-06-07 21:33:41.315 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:33:41.315 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.315 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:33:41.315 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:41.315 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:33:41.315 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:33:41.315 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:33:41.315 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:33:41.315 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 16.198ms
2025-06-07 21:33:41.315 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:33:41.316 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 13.7471ms
2025-06-07 21:33:41.316 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:33:41.317 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:33:41.317 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.317 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:41.317 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 17.644ms
2025-06-07 21:33:41.333 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:33:41.334 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:33:41.334 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:33:41.334 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:33:41.334 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:33:41.334 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:33:41.335 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:33:41.335 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:33:41.335 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:33:41.335 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:33:41.335 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:33:41.335 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:33:41.335 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:33:41.335 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:33:41.335 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:33:41.335 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:33:41.335 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:41.335 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:41.335 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:33:41.336 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:33:41.336 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:33:41.336 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:33:41.336 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.336 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.337 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:33:41.337 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:41.337 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:41.337 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:33:41.338 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:33:41.339 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:41.341 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:41.341 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:41.341 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:41.341 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:41.341 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.341 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 21:33:41.341 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.341 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:41.341 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5.8814ms.
2025-06-07 21:33:41.341 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:33:41.342 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:33:41.342 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:33:41.342 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:33:41.342 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:33:41.342 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:33:41.342 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 7.0018ms
2025-06-07 21:33:41.342 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:33:41.343 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:33:41.344 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:41.349 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:41.349 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 16.4012ms
2025-06-07 21:33:52.057 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:33:52.060 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:33:52.060 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:33:52.061 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:33:52.061 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:33:52.061 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:33:52.061 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:33:52.061 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:33:52.061 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:33:52.061 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:33:52.062 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:33:52.062 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:33:52.062 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:33:52.062 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:33:52.063 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:33:52.063 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:33:52.063 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:33:52.063 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:33:52.063 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:33:52.063 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:33:52.063 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:33:52.063 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:33:52.063 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:33:52.063 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:33:52.063 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:33:52.063 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:33:52.063 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:33:52.063 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:33:52.063 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:33:52.063 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:33:52.064 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:52.064 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:33:52.064 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:52.064 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:33:52.064 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:33:52.064 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:52.064 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:52.064 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:33:52.069 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:33:52.069 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:33:52.071 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:33:52.071 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:33:52.071 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:33:52.071 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.071 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:33:52.071 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.071 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:33:52.071 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.071 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.071 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:33:52.073 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:33:52.073 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:33:52.075 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:33:52.075 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:33:52.075 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:33:52.075 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:52.075 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:52.075 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:52.075 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:33:52.075 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:33:52.075 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:33:52.075 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:33:52.076 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:33:52.075 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:52.076 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:33:52.076 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:33:52.076 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:33:52.076 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:33:52.077 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:33:52.078 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:33:52.078 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:33:52.078 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:33:52.079 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:33:52.079 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:33:52.079 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:33:52.079 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:33:52.080 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:33:52.080 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.080 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:33:52.081 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:33:52.082 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:33:52.082 +07:00 [DBG] Connection id "0HND5PS8SN3I9", Request id "0HND5PS8SN3I9:0000000B": started reading request body.
2025-06-07 21:33:52.083 +07:00 [DBG] Connection id "0HND5PS8SN3I9", Request id "0HND5PS8SN3I9:0000000B": done reading request body.
2025-06-07 21:33:52.083 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:33:52.083 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:33:52.083 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:33:52.083 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:33:52.083 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.083 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:33:52.083 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.083 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:33:52.083 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:33:52.083 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:33:52.084 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:33:52.084 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 21:33:52.085 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:33:52.096 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:33:52.096 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 17ms reading results.
2025-06-07 21:33:52.096 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:33:52.096 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.096 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:33:52.098 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 21:33:52.098 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:33:52.098 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:33:52.098 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:33:52.098 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:33:52.098 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:33:52.098 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:33:52.103 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:33:52.104 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:33:52.104 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.104 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:33:52.104 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.104 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.104 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:33:52.104 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.104 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:33:52.104 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:33:52.104 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:52.104 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:52.104 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:33:52.105 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:33:52.105 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:52.105 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-07 21:33:52.105 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:33:52.106 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:33:52.106 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:33:52.107 +07:00 [DBG] Connection id "0HND5PS8SN3I9", Request id "0HND5PS8SN3I9:0000000D": started reading request body.
2025-06-07 21:33:52.107 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:33:52.107 +07:00 [DBG] Connection id "0HND5PS8SN3I9", Request id "0HND5PS8SN3I9:0000000D": done reading request body.
2025-06-07 21:33:52.108 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:33:52.108 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:33:52.108 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:33:52.109 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:33:52.109 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:33:52.109 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:33:52.111 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:33:52.111 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:33:52.114 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:33:52.114 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:33:52.115 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:33:52.115 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:33:52.115 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.115 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.115 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.115 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:33:52.115 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:52.116 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:33:52.115 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:52.116 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:52.116 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:33:52.117 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:52.117 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:52.117 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.117 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:33:52.118 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.118 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:52.119 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 54.7354ms.
2025-06-07 21:33:52.119 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:33:52.119 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:33:52.119 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:33:52.120 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:33:52.120 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:33:52.120 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:33:52.120 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:33:52.120 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:52.121 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 57.6019ms
2025-06-07 21:33:52.121 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:33:52.121 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:52.122 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:33:52.123 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.123 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:52.123 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 66.2903ms
2025-06-07 21:33:52.125 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:52.125 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:33:52.125 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.125 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.125 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2025-06-07 21:33:52.125 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:33:52.125 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.126 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:52.125 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.126 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 61.7015ms.
2025-06-07 21:33:52.126 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:52.126 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:33:52.126 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.4144ms.
2025-06-07 21:33:52.126 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:33:52.127 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:33:52.127 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:33:52.127 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:33:52.127 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:33:52.127 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:33:52.127 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:33:52.127 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:33:52.127 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:33:52.127 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:33:52.127 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:33:52.128 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 49.2739ms
2025-06-07 21:33:52.128 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 64.2106ms
2025-06-07 21:33:52.129 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:33:52.129 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:33:52.129 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:33:52.129 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.130 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:52.130 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:33:52.130 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.130 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 69.7481ms
2025-06-07 21:33:52.130 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:52.130 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 59.2227ms
2025-06-07 21:33:52.238 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.238 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:33:52.238 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:52.239 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:52.239 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:33:52.245 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:33:52.245 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.245 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:33:52.245 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.245 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:52.246 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 135.9509ms.
2025-06-07 21:33:52.246 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:33:52.246 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:33:52.246 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:33:52.246 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:33:52.246 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:33:52.246 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:33:52.247 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 142.5816ms
2025-06-07 21:33:52.247 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:33:52.247 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:33:52.247 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:52.247 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:52.247 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 166.5555ms
2025-06-07 21:33:55.633 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:33:55.633 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:33:55.634 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:33:55.634 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:33:55.634 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:33:55.634 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:33:55.634 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:33:55.634 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:33:55.635 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:33:55.635 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:33:55.635 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:33:55.635 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:33:55.635 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:33:55.635 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:33:55.635 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:33:55.635 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:33:55.635 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:55.635 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:55.635 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:33:55.636 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:33:55.636 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:33:55.636 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:33:55.636 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.636 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.636 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:33:55.636 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:55.636 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:55.636 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:33:55.638 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:33:55.640 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:55.642 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:55.642 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:55.643 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:55.643 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:55.643 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.643 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-06-07 21:33:55.644 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.644 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:55.644 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 8.3698ms.
2025-06-07 21:33:55.644 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:33:55.644 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:33:55.644 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:33:55.644 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:33:55.645 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:33:55.645 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:33:55.645 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 10.1155ms
2025-06-07 21:33:55.645 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:33:55.646 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:33:55.646 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.646 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:55.646 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 13.3866ms
2025-06-07 21:33:55.667 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:33:55.667 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:33:55.667 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:33:55.667 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:33:55.668 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:33:55.668 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:33:55.669 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:33:55.669 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:33:55.669 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:33:55.669 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:33:55.669 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:33:55.669 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:33:55.669 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:33:55.670 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:33:55.670 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:33:55.670 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:33:55.670 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:55.670 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:55.670 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:33:55.674 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 21:33:55.675 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 21:33:55.675 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:33:55.675 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 21:33:55.675 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:33:55.675 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:33:55.675 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:33:55.675 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:33:55.675 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.675 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:33:55.675 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:33:55.675 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.675 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:33:55.675 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:33:55.675 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:55.675 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:33:55.675 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:55.675 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:33:55.675 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:33:55.675 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:33:55.676 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:33:55.676 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:33:55.676 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:33:55.676 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:33:55.680 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:33:55.682 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:55.687 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:33:55.687 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:33:55.691 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:33:55.692 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:33:55.694 +07:00 [DBG] Connection id "0HND5PS8SN3I9", Request id "0HND5PS8SN3I9:00000013": started reading request body.
2025-06-07 21:33:55.682 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:33:55.699 +07:00 [DBG] Connection id "0HND5PS8SN3I9", Request id "0HND5PS8SN3I9:00000013": done reading request body.
2025-06-07 21:33:55.701 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:33:55.701 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:55.701 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:33:55.701 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:33:55.701 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:33:55.701 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:55.702 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:55.702 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:33:55.702 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:55.702 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:33:55.702 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:55.702 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.702 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:33:55.703 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:33:55.703 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:33:55.703 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.703 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.703 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:33:55.703 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-06-07 21:33:55.703 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:55.703 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.703 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:33:55.703 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:55.704 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:33:55.704 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 33.3851ms.
2025-06-07 21:33:55.704 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:33:55.704 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:33:55.705 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:33:55.705 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:33:55.705 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:33:55.706 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:33:55.708 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 37.7705ms
2025-06-07 21:33:55.708 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:33:55.709 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:33:55.709 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:33:55.709 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.709 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:55.709 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 42.3174ms
2025-06-07 21:33:55.709 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:55.709 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:55.709 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:33:55.709 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.710 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:33:55.710 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.710 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:55.710 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 7.8047ms.
2025-06-07 21:33:55.710 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:33:55.710 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:33:55.710 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:33:55.710 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:33:55.710 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:33:55.710 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:33:55.710 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 28.9962ms
2025-06-07 21:33:55.710 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:33:55.711 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:33:55.711 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:33:55.711 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:33:55.711 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 36.674ms
2025-06-07 21:34:11.288 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:34:11.288 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:34:11.288 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:34:11.288 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:34:11.288 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:34:11.292 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:34:11.294 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:34:11.294 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:34:11.294 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:34:11.294 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:34:11.294 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:34:11.294 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:34:11.295 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:34:11.295 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:34:11.295 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:34:11.295 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:34:11.295 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:34:11.295 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:34:11.295 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:34:11.295 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:34:11.295 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:34:11.295 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:34:11.295 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:34:11.295 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:34:11.295 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:34:11.295 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:34:11.295 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:34:11.295 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:34:11.295 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:34:11.296 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:34:11.296 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:34:11.296 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:34:11.296 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:34:11.296 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:34:11.296 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:34:11.296 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:34:11.296 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:34:11.296 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:34:11.302 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:34:11.303 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:34:11.303 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:34:11.303 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:34:11.304 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:34:11.304 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:34:11.304 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.304 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.304 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.304 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.304 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:34:11.304 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:34:11.304 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:34:11.305 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:34:11.305 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:34:11.305 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:34:11.305 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:34:11.305 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:34:11.314 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:34:11.314 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:34:11.314 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:34:11.314 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:34:11.314 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.315 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:34:11.315 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:34:11.315 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:34:11.315 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:34:11.315 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:34:11.315 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:34:11.315 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.315 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:34:11.315 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:34:11.315 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:34:11.315 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:34:11.315 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.315 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:34:11.315 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:34:11.315 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:34:11.315 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.315 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:34:11.315 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:34:11.315 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:34:11.315 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.315 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:34:11.315 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:34:11.315 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:34:11.315 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:34:11.315 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:34:11.316 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:34:11.316 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:34:11.316 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:34:11.316 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:34:11.316 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:34:11.316 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:34:11.316 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:34:11.316 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:34:11.316 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:34:11.316 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:34:11.316 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.316 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:34:11.316 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:34:11.316 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:34:11.316 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:34:11.317 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:34:11.317 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:34:11.318 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:34:11.318 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:34:11.318 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:34:11.318 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:34:11.318 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:34:11.318 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:34:11.318 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (2ms).
2025-06-07 21:34:11.318 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:34:11.318 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:34:11.318 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:34:11.318 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:34:11.318 +07:00 [DBG] Connection id "0HND5PS8SN3I9", Request id "0HND5PS8SN3I9:00000019": started reading request body.
2025-06-07 21:34:11.318 +07:00 [DBG] Connection id "0HND5PS8SN3I9", Request id "0HND5PS8SN3I9:0000001B": started reading request body.
2025-06-07 21:34:11.318 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:34:11.318 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.318 +07:00 [DBG] Connection id "0HND5PS8SN3I9", Request id "0HND5PS8SN3I9:00000019": done reading request body.
2025-06-07 21:34:11.318 +07:00 [DBG] Connection id "0HND5PS8SN3I9", Request id "0HND5PS8SN3I9:0000001B": done reading request body.
2025-06-07 21:34:11.319 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.319 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:34:11.319 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:34:11.319 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:34:11.319 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:34:11.319 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:34:11.319 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:34:11.319 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:34:11.319 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:34:11.319 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:34:11.319 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:34:11.319 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:34:11.319 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:34:11.319 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:34:11.319 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:34:11.319 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:34:11.319 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:34:11.319 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:34:11.319 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:34:11.320 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:34:11.321 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.321 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:34:11.321 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:34:11.321 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:34:11.321 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 21:34:11.322 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.322 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:34:11.322 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:34:11.322 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:34:11.322 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:34:11.322 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.322 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.9096ms.
2025-06-07 21:34:11.322 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:34:11.322 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.322 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:34:11.322 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:34:11.322 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:34:11.322 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:34:11.322 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:34:11.322 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:34:11.322 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:34:11.323 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.556ms.
2025-06-07 21:34:11.323 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:34:11.323 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.323 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:34:11.323 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:34:11.323 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.323 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:34:11.323 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:34:11.323 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:34:11.323 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:34:11.323 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:34:11.323 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:34:11.323 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:34:11.323 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:34:11.323 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:34:11.323 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:34:11.323 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:34:11.323 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 27.5423ms
2025-06-07 21:34:11.323 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.323 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:34:11.324 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.324 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:34:11.324 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.324 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:34:11.324 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:34:11.324 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 38.0557ms
2025-06-07 21:34:11.324 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:34:11.324 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:34:11.327 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:34:11.334 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:34:11.333 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 37.2903ms
2025-06-07 21:34:11.335 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:34:11.335 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.335 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:34:11.336 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:34:11.336 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.336 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.336 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:34:11.336 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:34:11.337 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 44.7706ms
2025-06-07 21:34:11.337 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.0933ms.
2025-06-07 21:34:11.337 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:34:11.337 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:34:11.337 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:34:11.337 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:34:11.337 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:34:11.337 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:34:11.338 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 21.7273ms
2025-06-07 21:34:11.339 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:34:11.339 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:34:11.339 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.339 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:34:11.339 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 24.4754ms
2025-06-07 21:34:11.339 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:34:11.339 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.339 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:34:11.339 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.340 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:34:11.340 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.2407ms.
2025-06-07 21:34:11.340 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:34:11.340 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:34:11.340 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:34:11.340 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:34:11.341 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:34:11.341 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:34:11.341 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 23.3832ms
2025-06-07 21:34:11.341 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:34:11.342 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:34:11.342 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:34:11.342 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:34:11.342 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 27.7914ms
2025-06-07 21:35:16.454 +07:00 [DBG] Connection id "0HND5PS8SN3I9" received FIN.
2025-06-07 21:35:16.454 +07:00 [DBG] Connection id "0HND5PS8SN3I9" is closed. The last processed stream ID was 27.
2025-06-07 21:35:16.454 +07:00 [DBG] Connection id "0HND5PS8SN3I9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 21:35:16.454 +07:00 [DBG] The connection queue processing loop for 0HND5PS8SN3I9 completed.
2025-06-07 21:35:16.469 +07:00 [DBG] Connection id "0HND5PS8SN3I9" stopped.
2025-06-07 21:36:50.343 +07:00 [DBG] Connection id "0HND5PS8SN3IA" accepted.
2025-06-07 21:36:50.343 +07:00 [DBG] Connection id "0HND5PS8SN3IA" started.
2025-06-07 21:36:50.345 +07:00 [DBG] Connection 0HND5PS8SN3IA established using the following protocol: "Tls12"
2025-06-07 21:36:50.348 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:36:50.348 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:36:50.348 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:36:50.348 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:36:50.348 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:36:50.348 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:36:50.348 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:36:50.348 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:36:50.348 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:36:50.348 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:36:50.350 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:34:32 CH', Current time (UTC): '07/06/2025 2:36:50 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:36:50.350 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:34:32 CH', Current time (UTC): '07/06/2025 2:36:50 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:36:50.351 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:34:32 CH', Current time (UTC): '07/06/2025 2:36:50 CH'.
2025-06-07 21:36:50.351 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:34:32 CH', Current time (UTC): '07/06/2025 2:36:50 CH'.
2025-06-07 21:36:50.351 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:36:50.351 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:36:50.351 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:36:50.352 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:36:50.352 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:36:50.352 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:36:50.352 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:36:50.352 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:36:50.352 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:36:50.352 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:36:50.352 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:36:50.352 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:36:50.352 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:36:50.352 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:36:50.352 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:36:50.353 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:36:50.353 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:36:50.353 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:36:50.353 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:36:50.353 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:36:50.353 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:36:50.353 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:36:50.353 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:36:50.353 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:36:50.355 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:36:50.355 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:36:50.356 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:36:50.356 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:36:50.356 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:36:50.356 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:36:50.356 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.356 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.356 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.356 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.356 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:36:50.356 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:36:50.356 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:36:50.356 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:36:50.356 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:36:50.356 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:36:50.356 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:36:50.356 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:36:50.357 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:36:50.357 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:36:50.358 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.358 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.359 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:36:50.359 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:36:50.359 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.359 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.360 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:36:50.360 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 21:36:50.362 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.362 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.362 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.362 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.362 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:36:50.362 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:36:50.362 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:36:50.362 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:36:50.362 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:36:50.362 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:36:50.362 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:36:50.362 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:36:50.364 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:36:50.364 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:36:50.364 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:36:50.364 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:36:50.364 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:36:50.364 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:36:50.364 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:36:50.364 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:36:50.364 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.364 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.364 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:36:50.364 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:36:50.364 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.364 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.364 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:36:50.364 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:36:50.365 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11.5306ms.
2025-06-07 21:36:50.365 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11.5927ms.
2025-06-07 21:36:50.365 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:36:50.365 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:36:50.365 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:36:50.365 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:36:50.365 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:36:50.365 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:36:50.365 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:36:50.365 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:36:50.365 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:36:50.365 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:36:50.365 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 12.3877ms
2025-06-07 21:36:50.365 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:36:50.365 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:36:50.365 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:36:50.365 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:36:50.365 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.365 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 12.6245ms
2025-06-07 21:36:50.365 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:36:50.365 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:36:50.365 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 18.6148ms
2025-06-07 21:36:50.365 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:36:50.366 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:36:50.366 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:36:50.366 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 19.238ms
2025-06-07 21:38:05.466 +07:00 [DBG] Connection id "0HND5PS8SN3IA" received FIN.
2025-06-07 21:38:05.467 +07:00 [DBG] Connection id "0HND5PS8SN3IA" is closed. The last processed stream ID was 3.
2025-06-07 21:38:05.467 +07:00 [DBG] The connection queue processing loop for 0HND5PS8SN3IA completed.
2025-06-07 21:38:05.467 +07:00 [DBG] Connection id "0HND5PS8SN3IA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 21:38:05.482 +07:00 [DBG] Connection id "0HND5PS8SN3IA" stopped.
2025-06-07 21:39:57.038 +07:00 [DBG] Connection id "0HND5PS8SN3IB" accepted.
2025-06-07 21:39:57.038 +07:00 [DBG] Connection id "0HND5PS8SN3IB" started.
2025-06-07 21:39:57.060 +07:00 [DBG] Connection 0HND5PS8SN3IB established using the following protocol: "Tls12"
2025-06-07 21:39:57.092 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:39:57.092 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:39:57.092 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:39:57.092 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:39:57.092 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:39:57.092 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:39:57.092 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:39:57.092 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:39:57.092 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:39:57.092 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:39:57.092 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:39:57.092 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:39:57.092 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:39:57.092 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:39:57.092 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:39:57.093 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:39:57.093 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:39:57.093 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:39:57.093 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:39:57.093 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:39:57.093 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:39:57.093 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:39:57.093 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:39:57.093 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:39:57.093 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:39:57.093 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:39:57.093 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:39:57.093 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:39:57.093 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:39:57.093 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:39:57.093 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:39:57.094 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:39:57.094 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:39:57.094 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:39:57.094 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:39:57.094 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:39:57.094 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:39:57.094 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:39:57.094 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:39:57.094 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:39:57.094 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:39:57.094 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:39:57.094 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:39:57.094 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:39:57.094 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:39:57.094 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:39:57.094 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:39:57.094 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:00000001": started reading request body.
2025-06-07 21:39:57.094 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:00000005": started reading request body.
2025-06-07 21:39:57.094 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:00000005": done reading request body.
2025-06-07 21:39:57.094 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:00000001": done reading request body.
2025-06-07 21:39:57.094 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:39:57.094 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:39:57.094 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:39:57.094 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:39:57.094 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:39:57.094 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:39:57.094 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:39:57.094 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:39:57.094 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:39:57.095 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:39:57.095 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:39:57.095 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:39:57.095 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:39:57.095 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:39:57.095 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:39:57.095 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.095 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:39:57.095 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:39:57.096 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:39:57.096 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:39:57.096 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.097 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:39:57.097 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:39:57.098 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.161 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.161 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:39:57.161 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:57.161 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:57.161 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:39:57.163 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:39:57.163 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.163 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:39:57.163 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.163 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:57.164 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.164 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.164 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:39:57.164 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:57.164 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:57.164 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:39:57.165 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:39:57.165 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:57.165 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:57.166 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:57.166 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.166 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:39:57.166 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.166 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.166 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:57.166 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:39:57.166 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:57.166 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 71.8671ms.
2025-06-07 21:39:57.166 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:57.166 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:39:57.166 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:39:57.166 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:39:57.166 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:39:57.166 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:39:57.166 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:39:57.166 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:39:57.166 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.167 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:39:57.167 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 72.8181ms
2025-06-07 21:39:57.167 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:57.167 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:39:57.167 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:57.167 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:39:57.167 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:39:57.167 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.167 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:57.167 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 75.6155ms
2025-06-07 21:39:57.175 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:39:57.175 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:39:57.175 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.175 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.176 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:39:57.176 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:39:57.176 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.176 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.176 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:57.176 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:57.176 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 81.0226ms.
2025-06-07 21:39:57.176 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 80.9999ms.
2025-06-07 21:39:57.176 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:39:57.176 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:39:57.176 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:39:57.176 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:39:57.176 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:39:57.176 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:39:57.176 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:39:57.176 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:39:57.176 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:39:57.176 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:39:57.176 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:39:57.176 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:39:57.176 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 82.2151ms
2025-06-07 21:39:57.176 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 82.2399ms
2025-06-07 21:39:57.176 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:39:57.176 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:39:57.176 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:39:57.176 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:39:57.176 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.176 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.176 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:57.176 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:57.176 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 85.0289ms
2025-06-07 21:39:57.176 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 85.0378ms
2025-06-07 21:39:57.188 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:39:57.189 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:39:57.189 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:39:57.189 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:39:57.189 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:39:57.189 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:39:57.189 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:39:57.189 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:39:57.189 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:39:57.190 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:39:57.190 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:39:57.190 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:39:57.190 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:39:57.190 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:39:57.190 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:39:57.190 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:39:57.190 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:39:57.190 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:39:57.190 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:39:57.191 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:39:57.191 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:39:57.191 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:39:57.191 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.191 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.191 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:39:57.191 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:57.191 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:57.191 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:39:57.192 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:39:57.193 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.193 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:39:57.193 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.193 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:57.194 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.194 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.194 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:39:57.194 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:57.194 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:57.194 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:39:57.195 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:39:57.196 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:57.196 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:57.196 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:57.196 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.196 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:39:57.196 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.196 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:57.196 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.2526ms.
2025-06-07 21:39:57.196 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:39:57.196 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:39:57.196 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:39:57.196 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:39:57.196 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:39:57.196 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:39:57.197 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 6.7027ms
2025-06-07 21:39:57.197 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:39:57.197 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:39:57.197 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:57.197 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:57.197 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 9.3067ms
2025-06-07 21:39:59.701 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:39:59.701 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:39:59.701 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:39:59.701 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:39:59.701 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:39:59.702 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:39:59.702 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:39:59.702 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:39:59.702 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:39:59.702 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:39:59.702 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:39:59.702 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:39:59.705 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:39:59.705 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:39:59.705 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:39:59.705 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:39:59.705 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:39:59.705 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:39:59.706 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:39:59.708 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:39:59.709 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 21:39:59.710 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 21:39:59.710 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 21:39:59.710 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:39:59.711 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:39:59.711 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:39:59.711 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:39:59.711 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.711 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.711 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:39:59.711 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:59.711 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:59.711 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:39:59.711 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:39:59.711 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:39:59.711 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:39:59.711 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:39:59.711 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:39:59.713 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:39:59.714 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:39:59.714 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:39:59.715 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:39:59.715 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:39:59.716 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:39:59.716 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:59.716 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:59.716 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:39:59.717 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:59.717 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:59.717 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:39:59.717 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:59.717 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:39:59.717 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.717 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 21:39:59.717 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:39:59.717 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.717 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:59.717 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:39:59.717 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:39:59.717 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11.6876ms.
2025-06-07 21:39:59.717 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:0000000B": started reading request body.
2025-06-07 21:39:59.717 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:0000000B": done reading request body.
2025-06-07 21:39:59.717 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:39:59.718 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:39:59.718 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:39:59.718 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:39:59.718 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:39:59.718 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:39:59.718 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:39:59.718 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:39:59.718 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:39:59.718 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:39:59.718 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:39:59.718 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:39:59.718 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 12.4858ms
2025-06-07 21:39:59.718 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:39:59.718 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:39:59.718 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.718 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:59.718 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 17.6262ms
2025-06-07 21:39:59.719 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:39:59.720 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:39:59.720 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:39:59.720 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.720 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.720 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:39:59.720 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:59.720 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:59.720 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:39:59.727 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:39:59.728 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:59.728 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:59.728 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:59.729 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.729 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:39:59.729 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.730 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:59.730 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.1448ms.
2025-06-07 21:39:59.731 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:39:59.732 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:39:59.732 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:39:59.732 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:39:59.732 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:39:59.732 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:39:59.732 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:39:59.732 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:39:59.732 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:39:59.732 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:39:59.732 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:39:59.733 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:39:59.733 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 16.529ms
2025-06-07 21:39:59.733 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:39:59.733 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:39:59.734 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:39:59.734 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:39:59.734 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:39:59.734 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.734 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:39:59.734 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:59.734 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:39:59.734 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 26.3592ms
2025-06-07 21:39:59.734 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:39:59.734 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:39:59.734 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:39:59.734 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:39:59.734 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:39:59.735 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:39:59.735 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:39:59.735 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:39:59.736 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:39:59.736 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:39:59.736 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:39:59.736 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.737 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.737 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:39:59.737 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:59.737 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:39:59.737 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:39:59.739 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:39:59.740 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:59.741 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:59.741 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:59.741 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:59.741 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:39:59.741 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.741 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:39:59.741 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.741 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:59.741 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.4456ms.
2025-06-07 21:39:59.742 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:39:59.742 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:39:59.742 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:39:59.742 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:39:59.742 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:39:59.742 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:39:59.742 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 7.4031ms
2025-06-07 21:39:59.742 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:39:59.742 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:39:59.743 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:39:59.744 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:39:59.744 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 13.9901ms
2025-06-07 21:40:00.202 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:40:00.202 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:40:00.202 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:40:00.202 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:40:00.202 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:40:00.202 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:40:00.202 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:40:00.202 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:40:00.202 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:40:00.202 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:40:00.202 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:40:00.203 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:40:00.203 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:40:00.203 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:40:00.203 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:40:00.203 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:40:00.203 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:40:00.203 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:40:00.203 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:40:00.203 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:40:00.203 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:40:00.203 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:40:00.203 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:40:00.203 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:40:00.203 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:40:00.203 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:40:00.203 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:40:00.204 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:40:00.204 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:40:00.204 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:40:00.204 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:40:00.204 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:40:00.204 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:40:00.204 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:40:00.204 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:40:00.204 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:40:00.204 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:40:00.204 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:40:00.204 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:40:00.204 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:40:00.204 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:0000000F": started reading request body.
2025-06-07 21:40:00.205 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:40:00.207 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:40:00.207 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:40:00.207 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.207 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.208 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:40:00.208 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:40:00.208 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:40:00.208 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:40:00.216 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:40:00.217 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.218 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:40:00.218 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:40:00.218 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.218 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:40:00.219 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:40:00.219 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:40:00.219 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.219 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:0000000F": done reading request body.
2025-06-07 21:40:00.219 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:40:00.219 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.219 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:40:00.219 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:40:00.219 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:40:00.220 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:40:00.220 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:40:00.220 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:40:00.220 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:40:00.220 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:40:00.220 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:40:00.220 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:40:00.220 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:40:00.220 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:40:00.220 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:40:00.220 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:40:00.220 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:40:00.220 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:40:00.221 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:40:00.221 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:40:00.221 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:40:00.221 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:40:00.221 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:40:00.221 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:40:00.221 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:40:00.221 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:40:00.221 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:40:00.221 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:40:00.221 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:40:00.221 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:40:00.221 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:40:00.221 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:40:00.221 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:40:00.221 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.221 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:00000013": started reading request body.
2025-06-07 21:40:00.221 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:00000013": done reading request body.
2025-06-07 21:40:00.221 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:40:00.222 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:40:00.222 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:40:00.222 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.222 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:40:00.222 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:40:00.222 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:40:00.222 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:40:00.222 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:40:00.222 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:40:00.222 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.7997ms.
2025-06-07 21:40:00.222 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:40:00.222 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:40:00.222 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:40:00.222 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:40:00.222 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:40:00.222 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:40:00.222 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:40:00.222 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:40:00.222 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 18.3577ms
2025-06-07 21:40:00.222 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.222 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:40:00.222 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.222 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:40:00.222 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:40:00.223 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:40:00.223 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.223 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:40:00.223 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:40:00.223 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 21.1899ms
2025-06-07 21:40:00.223 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:40:00.223 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:40:00.229 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:40:00.230 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:40:00.230 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.230 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:40:00.230 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:40:00.230 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.231 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.231 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.231 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:40:00.231 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:40:00.231 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.9293ms.
2025-06-07 21:40:00.231 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:40:00.232 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:40:00.232 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:40:00.232 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:40:00.232 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:40:00.232 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:40:00.232 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:40:00.232 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:40:00.232 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:40:00.233 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 29.2524ms
2025-06-07 21:40:00.234 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:40:00.236 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:40:00.237 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.237 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:40:00.237 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 35.6119ms
2025-06-07 21:40:00.241 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:40:00.241 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.241 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:40:00.241 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.241 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:40:00.241 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.5679ms.
2025-06-07 21:40:00.241 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:40:00.242 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:40:00.242 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:40:00.242 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:40:00.242 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:40:00.242 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:40:00.242 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 21.1008ms
2025-06-07 21:40:00.242 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:40:00.243 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:40:00.243 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.243 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:40:00.243 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 25.9124ms
2025-06-07 21:40:00.258 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:40:00.258 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:40:00.258 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:40:00.258 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:40:00.258 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:40:00.259 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:40:00.259 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:40:00.259 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:40:00.259 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:40:00.259 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:40:00.259 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:40:00.260 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:40:00.260 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:40:00.260 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:40:00.260 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:40:00.260 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:40:00.261 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:40:00.261 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:40:00.261 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:40:00.262 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:40:00.263 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:40:00.264 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:40:00.264 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.264 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.264 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:40:00.264 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:40:00.265 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:40:00.265 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:40:00.272 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:40:00.273 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.273 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:40:00.274 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.274 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:40:00.274 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.274 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.274 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:40:00.275 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:40:00.275 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:40:00.275 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:40:00.277 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:40:00.278 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:40:00.278 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:40:00.278 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:40:00.278 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.278 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:40:00.278 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.278 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:40:00.278 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.9656ms.
2025-06-07 21:40:00.278 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:40:00.278 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:40:00.279 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:40:00.279 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:40:00.279 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:40:00.279 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:40:00.279 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 18.545ms
2025-06-07 21:40:00.279 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:40:00.280 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:40:00.280 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:40:00.280 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:40:00.280 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 22.791ms
2025-06-07 21:41:10.170 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:41:10.170 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:41:10.170 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:41:10.170 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:10.170 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:41:10.173 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:40:08 CH', Current time (UTC): '07/06/2025 2:41:10 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:41:10.173 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:40:08 CH', Current time (UTC): '07/06/2025 2:41:10 CH'.
2025-06-07 21:41:10.174 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:41:10.174 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:41:10.174 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:10.174 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:41:10.174 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:41:10.174 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:41:10.174 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:41:10.174 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:41:10.174 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:41:10.174 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:10.174 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:10.174 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:41:10.175 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:41:10.176 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:41:10.176 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:41:10.176 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:10.176 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:10.176 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:10.176 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:10.176 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:10.177 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:10.180 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:10.181 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:10.187 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-06-07 21:41:10.187 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:10.187 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:10.188 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:10.188 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:10.188 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:10.188 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:10.188 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:10.188 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:41:10.189 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:41:10.189 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:10.190 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:10.190 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:10.190 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:10.190 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:41:10.190 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:10.190 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:10.190 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.5318ms.
2025-06-07 21:41:10.190 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:41:10.190 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:41:10.190 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:41:10.190 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:41:10.190 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:41:10.190 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:41:10.190 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 16.2968ms
2025-06-07 21:41:10.190 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:10.190 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:41:10.190 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:10.191 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:10.191 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 20.9048ms
2025-06-07 21:41:27.013 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:41:27.013 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:41:27.013 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:41:27.014 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:27.014 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:41:27.018 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:40:08 CH', Current time (UTC): '07/06/2025 2:41:27 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:41:27.019 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:40:08 CH', Current time (UTC): '07/06/2025 2:41:27 CH'.
2025-06-07 21:41:27.019 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:41:27.019 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:41:27.020 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:27.020 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:41:27.020 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:41:27.020 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:41:27.020 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:41:27.020 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:41:27.020 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:41:27.021 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:27.021 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:27.021 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:41:27.024 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:41:27.025 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:41:27.025 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:41:27.025 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:27.025 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:27.026 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:27.026 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:27.026 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:27.026 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:27.028 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:27.033 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:27.033 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-07 21:41:27.034 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:27.034 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:27.034 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:27.035 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:27.035 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:27.035 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:27.035 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:27.035 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:41:27.038 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:41:27.038 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:27.038 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:27.038 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:27.038 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:27.038 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:41:27.038 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:27.038 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:27.038 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.4546ms.
2025-06-07 21:41:27.039 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:41:27.039 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:41:27.039 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:41:27.039 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:41:27.039 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:41:27.039 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:41:27.039 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 18.3889ms
2025-06-07 21:41:27.039 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:27.039 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:41:27.039 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:27.039 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:27.039 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 26.6828ms
2025-06-07 21:41:32.025 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:41:32.026 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:41:32.026 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:41:32.026 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:32.026 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:41:32.027 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:41:32.027 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:41:32.027 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:41:32.027 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:41:32.027 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:32.027 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:41:32.027 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:41:32.027 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:41:32.028 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:41:32.028 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:41:32.028 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:41:32.028 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:32.028 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:32.028 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:41:32.029 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:41:32.029 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:41:32.029 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:41:32.029 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.029 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.029 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:32.029 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:32.029 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:32.029 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:32.043 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:32.043 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.043 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:41:32.044 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.044 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:32.044 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.045 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.045 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:32.045 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:32.045 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:32.045 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:41:32.059 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:41:32.059 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:32.060 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:32.060 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:32.060 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.060 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:41:32.060 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.060 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:32.060 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.1133ms.
2025-06-07 21:41:32.061 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:41:32.061 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:41:32.061 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:41:32.061 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:41:32.061 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:41:32.061 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:41:32.061 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 33.6213ms
2025-06-07 21:41:32.061 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:32.061 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:41:32.062 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.062 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:32.062 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 38.3015ms
2025-06-07 21:41:32.070 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:41:32.070 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:41:32.070 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:41:32.070 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:41:32.070 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:41:32.071 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:41:32.071 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:41:32.071 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:41:32.071 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:41:32.071 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:41:32.071 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:41:32.071 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:41:32.071 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:41:32.071 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:41:32.071 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:41:32.071 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:41:32.072 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:41:32.072 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:41:32.072 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:41:32.072 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:41:32.072 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:41:32.073 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:0000001D": started reading request body.
2025-06-07 21:41:32.077 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:41:32.077 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:41:32.078 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:41:32.078 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:41:32.078 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:41:32.079 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:41:32.080 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:41:32.080 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:41:32.080 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:41:32.080 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:41:32.081 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:41:32.081 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:41:32.081 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:41:32.081 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:41:32.081 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:41:32.081 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:41:32.081 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:41:32.081 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:41:32.081 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:41:32.082 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:41:32.082 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:41:32.083 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:0000001F": started reading request body.
2025-06-07 21:41:32.083 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:0000001F": done reading request body.
2025-06-07 21:41:32.084 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:41:32.084 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:32.084 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:32.084 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:41:32.084 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:32.084 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:41:32.085 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:41:32.085 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:41:32.086 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:41:32.086 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.086 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.086 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:32.086 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:32.086 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:32.086 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:41:32.089 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:41:32.093 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.093 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 21:41:32.093 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.093 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:32.094 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.5862ms.
2025-06-07 21:41:32.095 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:41:32.095 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:41:32.095 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:41:32.095 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:41:32.095 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:41:32.095 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:41:32.095 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:41:32.095 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:32.095 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:41:32.095 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:41:32.095 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:41:32.096 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:41:32.096 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 14.5041ms
2025-06-07 21:41:32.096 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:41:32.096 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:41:32.096 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:41:32.096 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:41:32.096 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:32.096 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:41:32.096 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:41:32.096 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:41:32.096 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.096 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:41:32.096 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:41:32.096 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:41:32.096 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:41:32.097 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:32.097 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:32.097 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 19.7014ms
2025-06-07 21:41:32.097 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:32.097 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:41:32.098 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:41:32.099 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:41:32.099 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:0000001D": done reading request body.
2025-06-07 21:41:32.099 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:41:32.099 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.099 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.099 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:32.099 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:32.100 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:32.100 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:32.136 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:41:32.136 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:32.136 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:32.136 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:41:32.136 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:32.137 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:41:32.137 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:32.137 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.137 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:41:32.137 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.137 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:32.141 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:41:32.141 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.142 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.142 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:32.142 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:32.142 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:32.142 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:41:32.142 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:41:32.143 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:41:32.144 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.144 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.145 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:32.145 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:32.145 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:32.145 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:41:32.145 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:41:32.146 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:32.150 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:32.150 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:41:32.150 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:32.150 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.150 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.150 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-06-07 21:41:32.150 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.150 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:41:32.150 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.150 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:32.150 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:32.150 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 53.5699ms.
2025-06-07 21:41:32.150 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.8772ms.
2025-06-07 21:41:32.151 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:41:32.151 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:41:32.151 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:41:32.151 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:41:32.151 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:41:32.151 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:41:32.151 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:41:32.151 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:41:32.151 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:41:32.151 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:41:32.151 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:41:32.151 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:41:32.151 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 54.5812ms
2025-06-07 21:41:32.151 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:32.151 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:41:32.151 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 79.7231ms
2025-06-07 21:41:32.151 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.151 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:41:32.151 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:32.151 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 56.9996ms
2025-06-07 21:41:32.151 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:41:32.152 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:32.152 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:32.152 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 86.6827ms
2025-06-07 21:41:33.390 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:41:33.390 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:41:33.390 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:41:33.390 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:41:33.390 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:41:33.391 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:41:33.391 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:41:33.391 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:41:33.391 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:41:33.391 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:41:33.391 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:41:33.391 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:41:33.391 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:41:33.391 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:41:33.391 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:41:33.391 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:41:33.391 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:33.391 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:33.392 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:41:33.395 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:41:33.396 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:41:33.396 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:41:33.397 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.398 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.399 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:33.400 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:33.400 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:33.400 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:33.405 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 21:41:33.406 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:33.407 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 21:41:33.408 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 21:41:33.407 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:33.408 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:41:33.408 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:41:33.409 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:33.409 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:33.409 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:41:33.409 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:33.409 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:41:33.409 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:33.409 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:41:33.409 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:41:33.409 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.409 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:41:33.409 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 21:41:33.409 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:41:33.409 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.409 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:41:33.409 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:41:33.409 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:33.409 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:41:33.409 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:41:33.409 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:41:33.409 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:33.409 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.6846ms.
2025-06-07 21:41:33.409 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:33.409 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:41:33.410 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:41:33.410 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:41:33.410 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:41:33.410 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:41:33.410 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:41:33.410 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:41:33.410 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:41:33.410 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 18.4037ms
2025-06-07 21:41:33.410 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:41:33.410 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:41:33.410 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.410 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:41:33.410 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:33.410 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:00000025": started reading request body.
2025-06-07 21:41:33.410 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 21.1995ms
2025-06-07 21:41:33.410 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:00000025": done reading request body.
2025-06-07 21:41:33.410 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:41:33.410 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:33.410 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:33.410 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:41:33.410 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:33.411 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:41:33.411 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:41:33.411 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:41:33.411 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:41:33.411 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.412 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.412 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:33.412 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:33.412 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:33.412 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:41:33.416 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 21:41:33.417 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:33.417 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:33.418 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:33.418 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.418 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 21:41:33.418 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.418 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:33.419 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 8.2638ms.
2025-06-07 21:41:33.420 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:41:33.420 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:41:33.420 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:41:33.420 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:41:33.421 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:41:33.421 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:41:33.422 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 12.3855ms
2025-06-07 21:41:33.422 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 21:41:33.422 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:41:33.422 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.422 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:33.422 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 18.404ms
2025-06-07 21:41:33.426 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 21:41:33.427 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 21:41:33.427 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 21:41:33.428 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:41:33.428 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:41:33.428 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:41:33.428 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:41:33.428 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:41:33.428 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:41:33.428 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:41:33.428 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:41:33.428 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:41:33.429 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:41:33.429 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:41:33.429 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:41:33.429 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:41:33.429 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:33.429 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:33.429 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:41:33.430 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:41:33.430 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:41:33.431 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:41:33.431 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.431 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.431 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:33.431 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:33.431 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:33.431 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:33.435 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:33.436 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:33.438 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:33.439 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:33.439 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:33.440 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:33.440 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.440 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-06-07 21:41:33.440 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.440 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:33.440 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 10.5598ms.
2025-06-07 21:41:33.440 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:41:33.441 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:41:33.441 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:41:33.441 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:41:33.441 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:41:33.441 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:41:33.442 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 12.4416ms
2025-06-07 21:41:33.442 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 21:41:33.442 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:41:33.442 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:33.442 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:33.442 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 16.3335ms
2025-06-07 21:41:34.107 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:41:34.107 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:41:34.107 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:41:34.108 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:41:34.108 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:41:34.108 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:41:34.108 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:41:34.108 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:41:34.108 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:41:34.108 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:41:34.108 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:41:34.108 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:41:34.108 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:41:34.108 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:41:34.108 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:34.108 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:41:34.108 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:41:34.108 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:41:34.108 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:41:34.108 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:41:34.108 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:41:34.108 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:41:34.108 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:41:34.108 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:41:34.108 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:41:34.108 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:41:34.108 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:41:34.108 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:41:34.108 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:41:34.108 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:41:34.108 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:41:34.109 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:41:34.109 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:41:34.109 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:41:34.109 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:41:34.109 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:41:34.109 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:41:34.109 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:41:34.109 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:41:34.109 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:41:34.109 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:41:34.109 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:34.109 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:41:34.109 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:41:34.109 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:41:34.109 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:41:34.109 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:41:34.109 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:41:34.109 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:41:34.109 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:41:34.109 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:41:34.109 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:41:34.109 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:41:34.110 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:41:34.110 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:34.110 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:41:34.110 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:41:34.110 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:34.110 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:41:34.110 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:41:34.110 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:41:34.110 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:00000029": started reading request body.
2025-06-07 21:41:34.110 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:0000002B": started reading request body.
2025-06-07 21:41:34.111 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:00000029": done reading request body.
2025-06-07 21:41:34.112 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:0000002B": done reading request body.
2025-06-07 21:41:34.112 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:41:34.112 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:34.113 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:34.113 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:41:34.113 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:41:34.113 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:34.113 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:34.113 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:41:34.113 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:34.113 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:41:34.113 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:41:34.113 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:41:34.113 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:41:34.114 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:41:34.115 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:41:34.115 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.115 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.115 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:34.115 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:34.115 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:34.116 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:34.116 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:41:34.116 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:41:34.118 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:34.119 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:41:34.120 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:41:34.120 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.120 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:41:34.120 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:41:34.120 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:41:34.120 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.120 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.121 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.121 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.121 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:34.121 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.121 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:34.121 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:34.121 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:34.121 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:34.121 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:34.121 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:34.121 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.121 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:41:34.121 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:41:34.121 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.121 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:34.121 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:34.121 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:34.122 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:41:34.123 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:41:34.124 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:41:34.124 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.124 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:41:34.124 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:41:34.125 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.125 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.125 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:34.125 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:34.125 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:41:34.126 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:34.126 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:34.126 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.126 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11.5742ms.
2025-06-07 21:41:34.126 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 21:41:34.126 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.127 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.127 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:34.127 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 21:41:34.127 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.7449ms.
2025-06-07 21:41:34.128 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.8131ms.
2025-06-07 21:41:34.128 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:41:34.128 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:41:34.128 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:41:34.128 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:41:34.128 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:41:34.128 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:41:34.128 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:41:34.128 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:41:34.128 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:41:34.128 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:41:34.128 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:41:34.128 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:41:34.128 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:41:34.128 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:41:34.128 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:41:34.128 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:41:34.128 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:41:34.128 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:41:34.128 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 17.9452ms
2025-06-07 21:41:34.128 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:34.128 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 19.1579ms
2025-06-07 21:41:34.128 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 19.1388ms
2025-06-07 21:41:34.128 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:41:34.128 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:41:34.128 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:41:34.128 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.128 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:41:34.128 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:41:34.128 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:34.128 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.128 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.128 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:34.128 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:34.128 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 21.6883ms
2025-06-07 21:41:34.128 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 21.725ms
2025-06-07 21:41:34.131 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 23.4839ms
2025-06-07 21:41:34.155 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:41:34.156 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:41:34.156 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:41:34.156 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:34.156 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:41:34.157 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:41:34.158 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:41:34.159 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:41:34.159 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:41:34.159 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:34.160 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:41:34.160 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:41:34.160 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:41:34.160 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:41:34.160 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:41:34.160 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:41:34.160 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:34.160 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:41:34.160 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:41:34.162 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:41:34.163 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:41:34.163 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:41:34.163 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.163 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.163 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:34.163 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:34.163 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:34.163 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:34.164 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:41:34.166 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.167 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:41:34.167 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.167 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:34.168 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.168 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.168 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:41:34.168 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:34.168 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:41:34.168 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:41:34.170 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:41:34.170 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:34.170 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:34.170 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:41:34.170 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.170 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:41:34.170 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.170 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:34.170 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.5226ms.
2025-06-07 21:41:34.170 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:41:34.170 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:41:34.170 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:41:34.170 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:41:34.170 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:41:34.171 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:41:34.171 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 10.6922ms
2025-06-07 21:41:34.171 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:41:34.171 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:41:34.171 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:41:34.171 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:41:34.171 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 17.1436ms
2025-06-07 21:42:28.820 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:42:28.820 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:42:28.820 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:42:28.820 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:42:28.820 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:42:28.821 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:42:28.821 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:42:28.821 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:42:28.821 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:42:28.821 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:42:28.821 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:42:28.822 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:42:28.822 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:42:28.822 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:42:28.822 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:42:28.822 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:42:28.822 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:42:28.822 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:42:28.822 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:42:28.822 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:42:28.823 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:42:28.823 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:42:28.823 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:28.823 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:28.823 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:42:28.823 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:28.823 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:28.823 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:42:28.824 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:42:28.824 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:28.825 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:42:28.825 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:28.825 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:28.826 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:28.826 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:28.826 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:42:28.826 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:28.826 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:28.826 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:42:28.827 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:42:28.827 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:42:28.827 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:42:28.827 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:42:28.828 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:28.828 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:42:28.828 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:28.828 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:28.828 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5.7454ms.
2025-06-07 21:42:28.828 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:42:28.828 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:42:28.828 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:42:28.828 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:42:28.828 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:42:28.828 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:42:28.828 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 6.4176ms
2025-06-07 21:42:28.828 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:42:28.828 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:42:28.828 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:28.829 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:28.829 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 9.0763ms
2025-06-07 21:42:33.710 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:42:33.711 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:42:33.712 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:42:33.712 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:42:33.712 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:42:33.716 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:42:33.716 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:42:33.716 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:42:33.716 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:42:33.716 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:42:33.716 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:42:33.717 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:42:33.717 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:42:33.717 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:42:33.717 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:42:33.717 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:42:33.717 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:42:33.717 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:42:33.717 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:42:33.718 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:42:33.719 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:42:33.719 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:42:33.720 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.720 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.720 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:42:33.720 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:33.720 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:33.720 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:42:33.724 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:42:33.724 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.724 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:42:33.724 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.724 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:33.725 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.725 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.725 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:42:33.725 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:33.725 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:33.726 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:42:33.732 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:42:33.732 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:42:33.732 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:42:33.732 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:42:33.732 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.733 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:42:33.733 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.733 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:33.733 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.0001ms.
2025-06-07 21:42:33.733 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:42:33.733 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:42:33.733 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:42:33.734 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:42:33.734 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:42:33.734 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:42:33.734 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 17.3016ms
2025-06-07 21:42:33.734 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:42:33.734 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:42:33.735 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.735 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:33.737 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 26.6694ms
2025-06-07 21:42:33.745 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:42:33.745 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:42:33.745 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:42:33.746 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:42:33.746 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:42:33.746 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:42:33.746 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 21:42:33.746 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:42:33.746 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 21:42:33.747 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:42:33.747 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:42:33.747 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:42:33.747 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 21:42:33.747 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:42:33.747 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:42:33.747 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:42:33.747 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:42:33.748 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:42:33.749 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:42:33.749 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:42:33.749 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:42:33.749 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:42:33.749 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:42:33.749 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:42:33.750 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:42:33.750 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:42:33.750 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:42:33.750 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:42:33.750 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:42:33.750 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 21:42:33.750 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:42:33.750 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:42:33.750 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:42:33.750 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:42:33.750 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:42:33.750 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:42:33.750 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:42:33.750 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:00000035": started reading request body.
2025-06-07 21:42:33.750 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:42:33.750 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:00000035": done reading request body.
2025-06-07 21:42:33.751 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 21:42:33.751 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:42:33.751 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:42:33.751 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:42:33.751 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:42:33.751 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 21:42:33.751 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 21:42:33.751 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:42:33.751 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:00000037": started reading request body.
2025-06-07 21:42:33.751 +07:00 [DBG] Connection id "0HND5PS8SN3IB", Request id "0HND5PS8SN3IB:00000037": done reading request body.
2025-06-07 21:42:33.751 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:42:33.751 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 21:42:33.751 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:42:33.751 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:42:33.751 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 21:42:33.752 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 21:42:33.752 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:42:33.752 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 21:42:33.753 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:42:33.753 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:42:33.754 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:42:33.754 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:42:33.754 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:42:33.754 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:42:33.754 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.754 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.754 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.754 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.754 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:42:33.754 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:42:33.754 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:33.754 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:33.754 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:33.754 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:33.754 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:42:33.754 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:42:33.762 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:42:33.762 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.762 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 21:42:33.763 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:42:33.763 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.763 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.763 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:33.763 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:42:33.763 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:42:33.763 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.763 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 10.5942ms.
2025-06-07 21:42:33.763 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:42:33.763 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:33.763 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:42:33.763 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:42:33.763 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:42:33.763 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 10.773ms.
2025-06-07 21:42:33.763 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:42:33.763 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:42:33.763 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:42:33.763 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:42:33.763 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:42:33.763 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:42:33.763 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:42:33.763 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:42:33.763 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:42:33.763 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:42:33.763 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:42:33.763 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:42:33.763 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:42:33.763 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:42:33.763 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:42:33.763 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 12.9043ms
2025-06-07 21:42:33.763 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:42:33.763 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 14.2445ms
2025-06-07 21:42:33.763 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:42:33.763 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:42:33.763 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 21:42:33.764 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:42:33.764 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:42:33.764 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:42:33.764 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.764 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:42:33.764 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:33.764 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.764 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:42:33.764 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:33.764 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:42:33.764 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 18.9713ms
2025-06-07 21:42:33.764 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:42:33.764 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 17.7899ms
2025-06-07 21:42:33.764 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:42:33.764 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:42:33.764 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:42:33.764 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:42:33.765 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:42:33.765 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:42:33.765 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:42:33.765 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.765 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.765 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:42:33.765 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:33.765 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:33.765 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:42:33.766 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:42:33.768 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.768 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:42:33.768 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.769 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:33.769 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.769 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.769 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:42:33.769 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:33.769 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:33.770 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:42:33.772 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:42:33.772 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:42:33.772 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:42:33.772 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:42:33.773 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.773 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:42:33.773 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.773 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:33.773 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 8.8466ms.
2025-06-07 21:42:33.773 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:42:33.773 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:42:33.773 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:42:33.773 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:42:33.773 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:42:33.773 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:42:33.774 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 9.7392ms
2025-06-07 21:42:33.774 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:42:33.774 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:42:33.774 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:33.774 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:33.774 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 11.1485ms
2025-06-07 21:42:47.458 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:42:47.458 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:42:47.458 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:42:47.458 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:42:47.458 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:42:47.459 +07:00 [DBG] Successfully validated the token.
2025-06-07 21:42:47.459 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 21:42:47.459 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:42:47.459 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:42:47.459 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:42:47.459 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:42:47.459 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:42:47.459 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:42:47.459 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:42:47.459 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:42:47.459 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:42:47.459 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:42:47.459 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:42:47.459 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:42:47.460 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:42:47.460 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:42:47.460 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:42:47.460 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:47.460 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:47.460 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:42:47.460 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:47.460 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:47.460 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:42:47.462 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:42:47.463 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:47.463 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 21:42:47.464 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:47.464 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:47.464 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:47.464 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:47.464 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:42:47.464 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:47.464 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:42:47.464 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:42:47.465 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:42:47.466 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:42:47.466 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:42:47.466 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:42:47.466 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:47.466 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:42:47.466 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:47.466 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:47.466 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.4395ms.
2025-06-07 21:42:47.466 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:42:47.466 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:42:47.466 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:42:47.466 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:42:47.466 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:42:47.466 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:42:47.466 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 6.9464ms
2025-06-07 21:42:47.466 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:42:47.466 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:42:47.466 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:42:47.466 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:42:47.466 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 8.5208ms
2025-06-07 21:43:57.610 +07:00 [DBG] Connection id "0HND5PS8SN3IB" received FIN.
2025-06-07 21:43:57.610 +07:00 [DBG] Connection id "0HND5PS8SN3IB" is closed. The last processed stream ID was 59.
2025-06-07 21:43:57.610 +07:00 [DBG] Connection id "0HND5PS8SN3IB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 21:43:57.612 +07:00 [DBG] The connection queue processing loop for 0HND5PS8SN3IB completed.
2025-06-07 21:43:57.613 +07:00 [DBG] Connection id "0HND5PS8SN3IB" stopped.
2025-06-07 21:45:19.408 +07:00 [DBG] Connection id "0HND5PS8SN3IC" accepted.
2025-06-07 21:45:19.409 +07:00 [DBG] Connection id "0HND5PS8SN3IC" started.
2025-06-07 21:45:19.420 +07:00 [DBG] Connection 0HND5PS8SN3IC established using the following protocol: "Tls12"
2025-06-07 21:45:19.426 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:45:19.426 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:45:19.426 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:45:19.426 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:45:19.427 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:45:19.429 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:45:19 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:45:19.429 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:45:19 CH'.
2025-06-07 21:45:19.429 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:45:19.429 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:45:19.430 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:45:19.430 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:45:19.430 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:45:19.430 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:45:19.430 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:45:19.430 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:45:19.430 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:45:19.430 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:45:19.430 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:45:19.430 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:45:19.430 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:45:19.431 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:45:19.431 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:45:19.431 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:45:19.613 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:45:19.613 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:45:19.613 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:45:19.613 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:45:19.613 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:45:19.619 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:45:19.619 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:45:19.619 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:45:19.619 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:45:19.619 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:45:19.620 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:45:19.620 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:45:19.620 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:45:19.620 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:45:19.620 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:45:19.620 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:45:19.650 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:45:19.651 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:45:19.651 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:45:19.651 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:45:19.651 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:45:19.651 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:45:19.651 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:45:19.651 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:45:19.652 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 221.5356ms.
2025-06-07 21:45:19.652 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:45:19.652 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:45:19.652 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:45:19.652 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:45:19.652 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:45:19.652 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:45:19.652 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 222.2648ms
2025-06-07 21:45:19.652 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:45:19.652 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:45:19.652 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:45:19.652 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:45:19.652 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 226.7657ms
2025-06-07 21:46:34.797 +07:00 [DBG] Connection id "0HND5PS8SN3IC" received FIN.
2025-06-07 21:46:34.797 +07:00 [DBG] Connection id "0HND5PS8SN3IC" is closed. The last processed stream ID was 1.
2025-06-07 21:46:34.797 +07:00 [DBG] Connection id "0HND5PS8SN3IC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 21:46:34.798 +07:00 [DBG] The connection queue processing loop for 0HND5PS8SN3IC completed.
2025-06-07 21:46:34.799 +07:00 [DBG] Connection id "0HND5PS8SN3IC" stopped.
2025-06-07 21:49:21.374 +07:00 [DBG] Connection id "0HND5PS8SN3ID" accepted.
2025-06-07 21:49:21.375 +07:00 [DBG] Connection id "0HND5PS8SN3ID" started.
2025-06-07 21:49:21.376 +07:00 [DBG] Connection 0HND5PS8SN3ID established using the following protocol: "Tls12"
2025-06-07 21:49:21.379 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:49:21.379 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:49:21.379 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:49:21.379 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:49:21.379 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:49:21.380 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:49:21 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:49:21.380 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:49:21 CH'.
2025-06-07 21:49:21.380 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:49:21.380 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:49:21.380 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:49:21.380 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:49:21.380 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:49:21.380 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:49:21.380 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:49:21.380 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:49:21.380 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:49:21.380 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:49:21.380 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:49:21.380 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:49:21.381 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:49:21.381 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:49:21.381 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:49:21.381 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:21.381 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:21.381 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:49:21.381 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:49:21.381 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:49:21.381 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:49:21.383 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:49:21.383 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:21.384 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:49:21.384 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:21.384 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:49:21.385 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:21.385 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:21.385 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:49:21.385 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:49:21.385 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:49:21.385 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:49:21.386 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:49:21.386 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:49:21.386 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:49:21.386 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:49:21.386 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:21.386 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:49:21.387 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:21.387 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:49:21.387 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.1279ms.
2025-06-07 21:49:21.387 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:49:21.387 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:49:21.387 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:49:21.387 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:49:21.387 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:49:21.387 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:49:21.387 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 6.5179ms
2025-06-07 21:49:21.387 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:49:21.387 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:49:21.387 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:21.387 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:49:21.387 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 8.9525ms
2025-06-07 21:49:35.363 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:49:35.364 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:49:35.364 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:49:35.364 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:49:35.364 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:49:35.365 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:49:35 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:49:35.365 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:49:35 CH'.
2025-06-07 21:49:35.365 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:49:35.365 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:49:35.365 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:49:35.365 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:49:35.365 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:49:35.366 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:49:35.366 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:49:35.366 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:49:35.366 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:49:35.366 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:49:35.366 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:49:35.366 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:49:35.367 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:49:35.368 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:49:35.368 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:49:35.368 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:35.368 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:35.368 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:49:35.368 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:49:35.369 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:49:35.369 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:49:35.371 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:49:35.372 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:35.375 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 21:49:35.375 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:35.375 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:49:35.376 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:35.376 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:35.376 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:49:35.376 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:49:35.376 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:49:35.376 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:49:35.379 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:49:35.379 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:49:35.380 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:49:35.380 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:49:35.380 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:35.380 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:49:35.380 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:35.380 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:49:35.380 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.9378ms.
2025-06-07 21:49:35.380 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:49:35.380 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:49:35.380 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:49:35.380 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:49:35.380 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:49:35.381 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:49:35.381 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 14.9504ms
2025-06-07 21:49:35.381 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:49:35.381 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:49:35.381 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:49:35.381 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:49:35.381 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 18.6184ms
2025-06-07 21:50:40.502 +07:00 [DBG] Connection id "0HND5PS8SN3ID" received FIN.
2025-06-07 21:50:40.502 +07:00 [DBG] Connection id "0HND5PS8SN3ID" is closed. The last processed stream ID was 3.
2025-06-07 21:50:40.502 +07:00 [DBG] Connection id "0HND5PS8SN3ID" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 21:50:40.502 +07:00 [DBG] The connection queue processing loop for 0HND5PS8SN3ID completed.
2025-06-07 21:50:40.503 +07:00 [DBG] Connection id "0HND5PS8SN3ID" stopped.
2025-06-07 21:52:25.574 +07:00 [DBG] Connection id "0HND5PS8SN3IE" accepted.
2025-06-07 21:52:25.574 +07:00 [DBG] Connection id "0HND5PS8SN3IE" started.
2025-06-07 21:52:25.576 +07:00 [DBG] Connection 0HND5PS8SN3IE established using the following protocol: "Tls12"
2025-06-07 21:52:25.580 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:52:25.580 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:52:25.580 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:52:25.580 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:52:25.580 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:52:25.580 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:52:25.580 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:52:25.580 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:52:25.581 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:52:25.581 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:52:25.584 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:52:25 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:52:25.584 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:52:25 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:52:25.585 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:52:25 CH'.
2025-06-07 21:52:25.586 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:52:25 CH'.
2025-06-07 21:52:25.586 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:52:25.586 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:52:25.586 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:52:25.586 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:52:25.586 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:52:25.586 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:52:25.586 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:52:25.586 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:52:25.586 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:52:25.586 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:52:25.586 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:52:25.586 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:52:25.586 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:52:25.586 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:52:25.586 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:52:25.586 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:52:25.586 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:52:25.586 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:52:25.586 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:52:25.586 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:52:25.586 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:52:25.586 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:52:25.586 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:52:25.586 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:52:25.587 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:52:25.587 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:52:25.588 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:52:25.588 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:52:25.589 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:52:25.589 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:52:25.589 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.589 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.755 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.756 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:52:25.756 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:52:25.756 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:52:25.756 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:52:25.761 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:52:25.761 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.761 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:52:25.761 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.761 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:52:25.761 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.761 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.761 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:52:25.761 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:52:25.761 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:52:25.761 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:52:25.763 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.763 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:52:25.763 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:52:25.763 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:52:25.763 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:52:25.764 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:52:25.764 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:52:25.764 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:52:25.764 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:52:25.764 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.765 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:52:25.765 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.765 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:52:25.765 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 178.3828ms.
2025-06-07 21:52:25.765 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:52:25.765 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:52:25.765 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:52:25.766 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:52:25.766 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:52:25.766 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:52:25.766 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 179.8705ms
2025-06-07 21:52:25.766 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:52:25.767 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:52:25.767 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.767 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:52:25.767 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 188.1757ms
2025-06-07 21:52:25.772 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:52:25.773 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.773 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:52:25.774 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.774 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:52:25.775 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.775 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.776 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:52:25.776 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:52:25.776 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:52:25.776 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:52:25.781 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:52:25.782 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:52:25.787 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:52:25.787 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:52:25.788 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.788 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2025-06-07 21:52:25.788 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.788 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:52:25.788 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 201.3282ms.
2025-06-07 21:52:25.788 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:52:25.788 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:52:25.788 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:52:25.788 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:52:25.788 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:52:25.788 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:52:25.788 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 201.9894ms
2025-06-07 21:52:25.788 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:52:25.788 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:52:25.788 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:52:25.788 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:52:25.788 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 209.8039ms
2025-06-07 21:53:14.650 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:53:14.650 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:53:14.650 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:53:14.650 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:53:14.650 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:53:14.651 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:53:14 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:53:14.652 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:53:14 CH'.
2025-06-07 21:53:14.652 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:53:14.652 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:53:14.652 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:53:14.652 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:53:14.652 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:53:14.652 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:53:14.652 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:53:14.652 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:53:14.652 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:53:14.652 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:53:14.652 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:53:14.652 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:53:14.653 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:53:14.653 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:53:14.653 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:53:14.654 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:14.654 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:14.654 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:53:14.654 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:53:14.654 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:53:14.654 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:53:14.655 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:53:14.656 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:14.656 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:53:14.656 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:14.657 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:53:14.657 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:14.657 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:14.657 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:53:14.657 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:53:14.657 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:53:14.657 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:53:14.658 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:53:14.659 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:53:14.659 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:53:14.659 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:53:14.659 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:14.659 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:53:14.659 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:14.659 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:53:14.659 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.4413ms.
2025-06-07 21:53:14.659 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:53:14.659 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:53:14.659 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:53:14.659 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:53:14.659 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:53:14.659 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:53:14.659 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 6.9012ms
2025-06-07 21:53:14.659 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:53:14.659 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:53:14.660 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:14.660 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:53:14.660 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 10.2242ms
2025-06-07 21:53:35.044 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:53:35.044 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:53:35.044 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:53:35.044 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:53:35.044 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:53:35.045 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:53:35 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:53:35.045 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:53:35 CH'.
2025-06-07 21:53:35.045 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:53:35.045 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:53:35.045 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:53:35.045 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:53:35.045 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:53:35.045 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:53:35.045 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:53:35.045 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:53:35.045 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:53:35.045 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:53:35.045 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:53:35.045 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:53:35.046 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:53:35.046 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:53:35.046 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:53:35.046 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:35.046 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:35.046 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:53:35.046 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:53:35.046 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:53:35.046 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:53:35.047 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:53:35.048 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:35.048 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:53:35.049 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:35.049 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:53:35.049 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:35.049 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:35.049 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:53:35.049 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:53:35.050 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:53:35.050 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:53:35.051 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:53:35.051 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:53:35.051 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:53:35.051 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:53:35.051 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:35.051 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:53:35.051 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:35.051 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:53:35.051 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5.8024ms.
2025-06-07 21:53:35.051 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:53:35.051 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:53:35.051 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:53:35.051 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:53:35.051 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:53:35.051 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:53:35.051 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 6.1832ms
2025-06-07 21:53:35.051 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:53:35.052 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:53:35.052 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:53:35.052 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:53:35.052 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 11.067ms
2025-06-07 21:54:20.652 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:54:20.652 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:54:20.652 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:54:20.652 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:54:20.653 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:54:20.655 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:54:20 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:54:20.655 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:54:20 CH'.
2025-06-07 21:54:20.656 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:54:20.656 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:54:20.656 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:54:20.656 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:54:20.656 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:54:20.656 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:54:20.656 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:54:20.656 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:54:20.656 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:54:20.656 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:54:20.656 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:54:20.656 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:54:20.657 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:54:20.659 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:54:20.659 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:54:20.659 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:20.659 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:20.659 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:54:20.659 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:54:20.659 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:54:20.659 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:54:20.671 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:54:20.673 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:20.673 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:54:20.673 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:20.673 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:54:20.675 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:20.675 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:20.675 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:54:20.675 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:54:20.675 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:54:20.675 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:54:20.677 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:54:20.677 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:54:20.677 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:54:20.677 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:54:20.677 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:20.677 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:54:20.677 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:20.678 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:54:20.678 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.3277ms.
2025-06-07 21:54:20.678 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:54:20.678 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:54:20.678 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:54:20.678 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:54:20.678 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:54:20.678 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:54:20.678 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 21.9249ms
2025-06-07 21:54:20.678 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:54:20.678 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:54:20.678 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:20.678 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:54:20.678 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 28.5607ms
2025-06-07 21:54:47.964 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:54:47.964 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:54:47.964 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:54:47.964 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:54:47.964 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:54:47.965 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:54:47 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 21:54:47.965 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 2:43:33 CH', Current time (UTC): '07/06/2025 2:54:47 CH'.
2025-06-07 21:54:47.966 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 21:54:47.966 +07:00 [INF] CORS policy execution successful.
2025-06-07 21:54:47.966 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:54:47.966 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:54:47.966 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:54:47.966 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:54:47.966 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:54:47.966 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:54:47.966 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:54:47.966 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:54:47.966 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:54:47.966 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:54:47.966 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:54:47.967 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:54:47.967 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:54:47.967 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:47.967 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:47.967 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:54:47.967 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:54:47.967 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:54:47.967 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:54:47.969 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:54:47.969 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:47.970 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:54:47.970 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:47.970 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:54:47.971 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:47.971 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:47.971 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:54:47.971 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:54:47.971 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:54:47.971 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:54:47.973 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:54:47.973 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:54:47.973 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:54:47.973 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:54:47.973 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:47.973 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:54:47.973 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:47.973 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:54:47.973 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 7.3773ms.
2025-06-07 21:54:47.973 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:54:47.974 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 21:54:47.974 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 21:54:47.974 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 21:54:47.974 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:54:47.974 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:54:47.974 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 8.3313ms
2025-06-07 21:54:47.974 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:54:47.975 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:54:47.975 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:54:47.975 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:54:47.975 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 13.0801ms
2025-06-07 21:55:58.119 +07:00 [DBG] Connection id "0HND5PS8SN3IE" received FIN.
2025-06-07 21:55:58.119 +07:00 [DBG] Connection id "0HND5PS8SN3IE" is closed. The last processed stream ID was 11.
2025-06-07 21:55:58.119 +07:00 [DBG] Connection id "0HND5PS8SN3IE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 21:55:58.120 +07:00 [DBG] The connection queue processing loop for 0HND5PS8SN3IE completed.
2025-06-07 21:55:58.121 +07:00 [DBG] Connection id "0HND5PS8SN3IE" stopped.
2025-06-07 21:59:18.881 +07:00 [DBG] Connection id "0HND5PS8SN3IF" accepted.
2025-06-07 21:59:18.882 +07:00 [DBG] Connection id "0HND5PS8SN3IF" started.
2025-06-07 21:59:18.887 +07:00 [DBG] Connection 0HND5PS8SN3IF established using the following protocol: "Tls12"
2025-06-07 21:59:18.889 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 21:59:18.889 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:59:18.889 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 21:59:18.889 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:59:18.889 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 21:59:18.889 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 21:59:18.889 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:59:18.889 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 21:59:18.889 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 21:59:18.889 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 21:59:18.889 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 21:59:18.889 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 21:59:18.889 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 21:59:18.889 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:59:18.889 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 21:59:18.889 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 21:59:18.890 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 21:59:18.890 +07:00 [DBG] Creating DbConnection.
2025-06-07 21:59:18.890 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 21:59:18.890 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:59:18.946 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:59:18.946 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:59:18.946 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:59:18.946 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:59:18.946 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:59:18.949 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 21:59:18.949 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:59:18.949 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:59:18.949 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:59:18.949 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:59:18.949 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:59:18.949 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:59:18.949 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 21:59:18.949 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:59:18.949 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 21:59:18.949 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:59:18.951 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 21:59:18.951 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:59:18.951 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:59:18.951 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 21:59:18.951 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:59:18.951 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 21:59:18.951 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:59:18.951 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:59:18.951 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 61.4951ms.
2025-06-07 21:59:18.951 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 21:59:18.951 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-06-07 21:59:18.951 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 21:59:18.951 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 21:59:18.952 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 62.1442ms
2025-06-07 21:59:18.952 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 21:59:18.952 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 21:59:18.952 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 21:59:18.952 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 21:59:18.952 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 63.194ms
2025-06-07 21:59:23.954 +07:00 [DBG] Connection id "0HND5PS8SN3IF" received FIN.
2025-06-07 21:59:23.954 +07:00 [DBG] Connection id "0HND5PS8SN3IF" is closed. The last processed stream ID was 1.
2025-06-07 21:59:23.954 +07:00 [DBG] Connection id "0HND5PS8SN3IF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 21:59:23.955 +07:00 [DBG] The connection queue processing loop for 0HND5PS8SN3IF completed.
2025-06-07 21:59:23.956 +07:00 [DBG] Connection id "0HND5PS8SN3IF" stopped.
2025-06-07 22:00:40.376 +07:00 [DBG] Connection id "0HND5PS8SN3IG" accepted.
2025-06-07 22:00:40.376 +07:00 [DBG] Connection id "0HND5PS8SN3IG" started.
2025-06-07 22:00:40.379 +07:00 [DBG] Connection 0HND5PS8SN3IG established using the following protocol: "Tls12"
2025-06-07 22:00:40.384 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 22:00:40.384 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:00:40.384 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:00:40.384 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:00:40.384 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:00:40.384 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:00:40.384 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:00:40.384 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:00:40.384 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:00:40.384 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:00:40.384 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:00:40.384 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:00:40.384 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:00:40.384 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:00:40.384 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:00:40.384 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:00:40.384 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:00:40.384 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:00:40.385 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:00:40.385 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:00:40.385 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:00:40.385 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:00:40.385 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:00:40.385 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:00:40.385 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:00:40.385 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:00:40.385 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:00:40.386 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:00:40.387 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:00:40.387 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:00:40.388 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:00:40.388 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:00:40.389 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:00:40.389 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:00:40.389 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:00:40.389 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:00:40.389 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:00:40.389 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:00:40.391 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:00:40.391 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:00:40.391 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:00:40.391 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:00:40.391 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:00:40.391 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:00:40.391 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:00:40.391 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:00:40.391 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.8656ms.
2025-06-07 22:00:40.391 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:00:40.391 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:00:40.392 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:00:40.392 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:00:40.392 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:00:40.392 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:00:40.392 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 7.5762ms
2025-06-07 22:00:40.392 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:00:40.392 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:00:40.392 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:00:40.392 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:00:40.393 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 9.6392ms
2025-06-07 22:01:40.492 +07:00 [DBG] Connection id "0HND5PS8SN3IG" received FIN.
2025-06-07 22:01:40.492 +07:00 [DBG] Connection id "0HND5PS8SN3IG" is closed. The last processed stream ID was 1.
2025-06-07 22:01:40.492 +07:00 [DBG] The connection queue processing loop for 0HND5PS8SN3IG completed.
2025-06-07 22:01:40.492 +07:00 [DBG] Connection id "0HND5PS8SN3IG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 22:01:40.508 +07:00 [DBG] Connection id "0HND5PS8SN3IG" stopped.
2025-06-07 22:03:23.736 +07:00 [DBG] Connection id "0HND5PS8SN3IH" accepted.
2025-06-07 22:03:23.736 +07:00 [DBG] Connection id "0HND5PS8SN3IH" started.
2025-06-07 22:03:23.737 +07:00 [DBG] Connection 0HND5PS8SN3IH established using the following protocol: "Tls12"
2025-06-07 22:03:23.739 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 22:03:23.739 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:03:23.739 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:03:23.740 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:03:23.740 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:03:23.740 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:03:23.740 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:03:23.740 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:03:23.740 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:03:23.740 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:03:23.740 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:03:23.740 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:03:23.740 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:03:23.740 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:03:23.740 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:03:23.740 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:03:23.740 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:03:23.740 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:03:23.740 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:03:23.741 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:03:23.741 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:03:23.741 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:03:23.741 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:03:23.741 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:03:23.741 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:03:23.741 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:03:23.741 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:03:23.743 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:03:23.744 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:03:23.745 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:03:23.745 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:03:23.746 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:03:23.746 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:03:23.746 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:03:23.747 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:03:23.747 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:03:23.747 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:03:23.747 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:03:23.752 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:03:23.754 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:03:23.754 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:03:23.754 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:03:23.754 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:03:23.754 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:03:23.754 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:03:23.754 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:03:23.754 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14.1886ms.
2025-06-07 22:03:23.754 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:03:23.754 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:03:23.754 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:03:23.754 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:03:23.755 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:03:23.755 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:03:23.755 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 14.7818ms
2025-06-07 22:03:23.755 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:03:23.755 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:03:23.755 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:03:23.755 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:03:23.755 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 16.1723ms
2025-06-07 22:04:38.885 +07:00 [DBG] Connection id "0HND5PS8SN3IH" received FIN.
2025-06-07 22:04:38.885 +07:00 [DBG] Connection id "0HND5PS8SN3IH" is closed. The last processed stream ID was 1.
2025-06-07 22:04:38.885 +07:00 [DBG] Connection id "0HND5PS8SN3IH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 22:04:38.885 +07:00 [DBG] The connection queue processing loop for 0HND5PS8SN3IH completed.
2025-06-07 22:04:38.885 +07:00 [DBG] Connection id "0HND5PS8SN3IH" stopped.
2025-06-07 22:06:23.347 +07:00 [DBG] Connection id "0HND5PS8SN3II" accepted.
2025-06-07 22:06:23.347 +07:00 [DBG] Connection id "0HND5PS8SN3II" started.
2025-06-07 22:06:23.348 +07:00 [DBG] Connection 0HND5PS8SN3II established using the following protocol: "Tls12"
2025-06-07 22:06:23.350 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 22:06:23.350 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:06:23.351 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:06:23.351 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:06:23.351 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:06:23.351 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:06:23.351 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:06:23.351 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:06:23.351 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:06:23.351 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:06:23.351 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:06:23.351 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:06:23.351 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:06:23.351 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:06:23.351 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:06:23.351 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:06:23.351 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:06:23.351 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:06:23.352 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:06:23.353 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:06:23.353 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:06:23.353 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:23.396 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:23.396 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:06:23.396 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:06:23.397 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:06:23.397 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:06:23.399 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:06:23.399 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:23.399 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:06:23.399 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:23.399 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:06:23.399 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:23.399 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:23.399 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:06:23.399 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:06:23.399 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:06:23.399 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:06:23.400 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:06:23.400 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:23.400 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:23.400 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:23.400 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:23.400 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:06:23.401 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:23.401 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:06:23.401 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 49.3566ms.
2025-06-07 22:06:23.401 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:06:23.401 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:06:23.401 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:06:23.401 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:06:23.401 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:06:23.401 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:06:23.401 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 49.7425ms
2025-06-07 22:06:23.401 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:06:23.401 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:06:23.401 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:23.401 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:06:23.401 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 51.2128ms
2025-06-07 22:06:42.392 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 22:06:42.392 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 22:06:42.392 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 22:06:42.392 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:06:42.393 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:06:42.393 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:06:42.393 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:06:42.393 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:06:42.393 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:06:42.394 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:06:42.394 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:06:42.394 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:06:42.394 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:06:42.394 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:06:42.394 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:06:42.395 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 22:06:42.395 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:06:42.395 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 22:06:42.395 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:06:42.395 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 22:06:42.396 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:06:42.396 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:06:42.396 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:06:42.396 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:06:42.396 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:06:42.396 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:06:42.396 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:06:42.396 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:06:42.396 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:06:42.396 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:06:42.396 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:06:42.396 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:06:42.396 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:06:42.396 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:06:42.396 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:06:42.396 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:06:42.396 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:06:42.396 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:06:42.397 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:06:42.397 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:06:42.397 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 22:06:42.397 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:06:42.397 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 22:06:42.397 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 22:06:42.397 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:06:42.397 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:06:42.397 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:06:42.397 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:06:42.398 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.398 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:06:42.398 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.398 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.398 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:06:42.398 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:06:42.398 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:06:42.398 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:06:42.398 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:06:42.398 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:06:42.398 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:06:42.398 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:06:42.398 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:06:42.398 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:06:42.399 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:06:42.399 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:06:42.400 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:06:42.400 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:06:42.400 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:06:42.401 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:42.401 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:06:42.401 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:06:42.401 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:42.402 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:06:42.402 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:42.403 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:42.403 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:06:42.403 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:42.404 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.404 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-07 22:06:42.404 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.404 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:06:42.404 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 7.9157ms.
2025-06-07 22:06:42.405 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:06:42.405 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:06:42.405 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:06:42.405 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:06:42.405 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:06:42.405 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:06:42.405 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 8.9554ms
2025-06-07 22:06:42.405 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:06:42.406 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:06:42.406 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:06:42.406 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.406 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:06:42.406 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:06:42.406 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 11.4199ms
2025-06-07 22:06:42.408 +07:00 [DBG] Connection id "0HND5PS8SN3II", Request id "0HND5PS8SN3II:00000007": started reading request body.
2025-06-07 22:06:42.409 +07:00 [DBG] Connection id "0HND5PS8SN3II", Request id "0HND5PS8SN3II:00000007": done reading request body.
2025-06-07 22:06:42.411 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:06:42.412 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:06:42.413 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:06:42.413 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:06:42.413 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:06:42.413 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:06:42.416 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:06:42.418 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:06:42.418 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:06:42.418 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.418 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.418 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:06:42.418 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:06:42.418 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:06:42.418 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:06:42.425 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:06:42.426 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:42.426 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:42.426 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:42.426 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.426 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:06:42.426 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.427 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:06:42.427 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.2821ms.
2025-06-07 22:06:42.427 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:06:42.427 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:06:42.427 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:06:42.427 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:06:42.427 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:06:42.427 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:06:42.428 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 27.007ms
2025-06-07 22:06:42.428 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:06:42.428 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:06:42.428 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.429 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:06:42.429 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 31.924ms
2025-06-07 22:06:42.498 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.498 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:06:42.498 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:06:42.498 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:06:42.498 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:06:42.501 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:06:42.501 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:42.501 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:42.501 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:42.501 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:42.501 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:42.501 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.501 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:06:42.501 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.501 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:06:42.502 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 105.799ms.
2025-06-07 22:06:42.502 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:06:42.502 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:06:42.502 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:06:42.502 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:06:42.502 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:06:42.502 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:06:42.502 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 106.5235ms
2025-06-07 22:06:42.502 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:06:42.502 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:06:42.502 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:42.502 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:06:42.502 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 110.5121ms
2025-06-07 22:06:47.061 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 22:06:47.062 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 22:06:47.062 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 22:06:47.062 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:06:47.063 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:06:47.063 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:06:47.064 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:06:47.064 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:06:47.064 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:06:47.064 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:06:47.065 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:06:47.065 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:06:47.065 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:06:47.066 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:06:47.066 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:06:47.066 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:06:47.066 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:06:47.066 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:06:47.066 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:06:47.066 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:06:47.067 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:06:47.067 +07:00 [DBG] Connection id "0HND5PS8SN3II", Request id "0HND5PS8SN3II:00000009": started reading request body.
2025-06-07 22:06:47.072 +07:00 [DBG] Connection id "0HND5PS8SN3II", Request id "0HND5PS8SN3II:00000009": done reading request body.
2025-06-07 22:06:47.085 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:06:47.087 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:06:47.087 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:06:47.087 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:06:47.087 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:06:47.087 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:06:47.088 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:06:47.089 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:06:47.089 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:06:47.089 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:47.089 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:47.089 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:06:47.089 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:06:47.089 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:06:47.089 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:06:47.092 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:06:47.093 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:47.093 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:47.093 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:06:47.093 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:47.093 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:06:47.093 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:47.093 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:06:47.093 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5.4942ms.
2025-06-07 22:06:47.093 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:06:47.093 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:06:47.093 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:06:47.093 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:06:47.093 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:06:47.093 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:06:47.093 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 27.5439ms
2025-06-07 22:06:47.094 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:06:47.094 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:06:47.094 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:06:47.094 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:06:47.094 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 34.0369ms
2025-06-07 22:07:57.193 +07:00 [DBG] Connection id "0HND5PS8SN3II" received FIN.
2025-06-07 22:07:57.194 +07:00 [DBG] Connection id "0HND5PS8SN3II" is closed. The last processed stream ID was 9.
2025-06-07 22:07:57.194 +07:00 [DBG] Connection id "0HND5PS8SN3II" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 22:07:57.194 +07:00 [DBG] The connection queue processing loop for 0HND5PS8SN3II completed.
2025-06-07 22:07:57.195 +07:00 [DBG] Connection id "0HND5PS8SN3II" stopped.
2025-06-07 22:11:37.708 +07:00 [DBG] Connection id "0HND5PS8SN3IJ" accepted.
2025-06-07 22:11:37.708 +07:00 [DBG] Connection id "0HND5PS8SN3IJ" started.
2025-06-07 22:11:37.721 +07:00 [DBG] Connection 0HND5PS8SN3IJ established using the following protocol: "Tls12"
2025-06-07 22:11:37.726 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 22:11:37.727 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 22:11:37.727 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 22:11:37.727 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:11:37.727 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:11:37.735 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 3:07:39 CH', Current time (UTC): '07/06/2025 3:11:37 CH'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-07 22:11:37.749 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/06/2025 3:07:39 CH', Current time (UTC): '07/06/2025 3:11:37 CH'.
2025-06-07 22:11:37.749 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:11:37.749 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:11:37.749 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:11:37.750 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:11:37.750 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:11:37.750 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:11:37.750 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:11:37.750 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:11:37.750 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:11:37.750 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:11:37.750 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:11:37.750 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:11:37.750 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:11:37.750 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:11:37.750 +07:00 [DBG] Connection id "0HND5PS8SN3IJ", Request id "0HND5PS8SN3IJ:00000001": started reading request body.
2025-06-07 22:11:37.750 +07:00 [DBG] Connection id "0HND5PS8SN3IJ", Request id "0HND5PS8SN3IJ:00000001": done reading request body.
2025-06-07 22:11:37.750 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:11:37.750 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:11:37.750 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:11:37.750 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:11:37.751 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:11:37.751 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:11:37.752 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:11:37.753 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:11:37.754 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:11:37.754 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:11:37.914 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:11:37.914 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:11:37.914 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:11:37.914 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:11:37.914 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:11:37.917 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:11:37.917 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:11:37.917 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:11:37.917 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:11:37.917 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:11:37.917 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:11:37.918 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:11:37.918 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:11:37.918 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 166.7348ms.
2025-06-07 22:11:37.918 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:11:37.918 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:11:37.918 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:11:37.918 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:11:37.918 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:11:37.918 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:11:37.918 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 168.6605ms
2025-06-07 22:11:37.918 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:11:37.919 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:11:37.919 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:11:37.919 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:11:37.919 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 193.1686ms
2025-06-07 22:13:57.421 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-07 22:13:58.855 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:13:58.889 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:13:58.898 +07:00 [DBG] Created DbConnection. (6ms).
2025-06-07 22:13:58.924 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:13:59.196 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:13:59.199 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:13:59.208 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (5ms).
2025-06-07 22:13:59.216 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 22:13:59.223 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-06-07 22:13:59.224 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2025-06-07 22:13:59.224 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:13:59.533 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:13:59.550 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 22:13:59.699 +07:00 [INF] Executed DbCommand (140ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 22:13:59.703 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:13:59.708 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (5ms).
2025-06-07 22:13:59.758 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:13:59.759 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:13:59.760 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:13:59.760 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:13:59.761 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:13:59.762 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 22:13:59.774 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 22:13:59.783 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:13:59.784 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 8ms reading results.
2025-06-07 22:13:59.784 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:13:59.785 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:13:59.788 +07:00 [DBG] Migrating using database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:13:59.788 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.041 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.041 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.041 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:00.042 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 22:14:00.042 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 22:14:00.042 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 22:14:00.042 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.042 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.042 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 22:14:00.046 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 22:14:00.046 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.046 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:00.047 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.116 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.116 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.116 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:00.116 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-07 22:14:00.116 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 22:14:00.116 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-07 22:14:00.117 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.117 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.117 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 22:14:00.118 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-07 22:14:00.119 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.119 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:00.121 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.121 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.121 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:00.121 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:00.121 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:00.121 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 22:14:00.122 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-07 22:14:00.123 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.123 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:14:00.123 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.123 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:00.140 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-06-07 22:14:00.142 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:00.143 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:00.144 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:00.181 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-07 22:14:00.262 +07:00 [DBG] Hosting starting
2025-06-07 22:14:00.291 +07:00 [INF] User profile is available. Using 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-07 22:14:01.078 +07:00 [DBG] Starting bus instances: IBus
2025-06-07 22:14:01.085 +07:00 [DBG] Starting bus: "rabbitmq://localhost/"
2025-06-07 22:14:01.165 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-76077df0-b207-403d-8775-1a14f934e677.xml'.
2025-06-07 22:14:01.193 +07:00 [DBG] Reading data from file 'C:\Users\MY PC\AppData\Local\ASP.NET\DataProtection-Keys\key-f34d44b7-a8db-4c0f-9aaf-b09be42d65e9.xml'.
2025-06-07 22:14:01.200 +07:00 [DBG] Found key {76077df0-b207-403d-8775-1a14f934e677}.
2025-06-07 22:14:01.205 +07:00 [DBG] Connect: guest@localhost:5672/
2025-06-07 22:14:01.213 +07:00 [DBG] Found key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9}.
2025-06-07 22:14:01.220 +07:00 [DBG] Considering key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} with expiration date 2025-09-05 02:16:48Z as default key.
2025-06-07 22:14:01.235 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 22:14:01.237 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-06-07 22:14:01.244 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-06-07 22:14:01.248 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-06-07 22:14:01.250 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-06-07 22:14:01.254 +07:00 [DBG] Using key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} as the default key.
2025-06-07 22:14:01.279 +07:00 [DBG] Key ring with default key {f34d44b7-a8db-4c0f-9aaf-b09be42d65e9} was loaded during application startup.
2025-06-07 22:14:01.382 +07:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 58232)
2025-06-07 22:14:01.484 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/LAPTOPHPOFAN_ProductAPI_bus_6ojyyyg414af3qofbdq4mixcyi?temporary=true"
2025-06-07 22:14:01.515 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-06-07 22:14:01.704 +07:00 [INF] Now listening on: https://localhost:58154
2025-06-07 22:14:01.704 +07:00 [INF] Now listening on: http://localhost:58155
2025-06-07 22:14:01.704 +07:00 [DBG] Loaded hosting startup assembly Product.API
2025-06-07 22:14:01.704 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-07 22:14:01.704 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-07 22:14:01.704 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-07 22:14:01.891 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-07 22:14:01.893 +07:00 [INF] Hosting environment: Development
2025-06-07 22:14:01.893 +07:00 [INF] Content root path: D:\LearnNetMicroServices\UTCShop\src\Services\Product\Product.API
2025-06-07 22:14:01.893 +07:00 [DBG] Hosting started
2025-06-07 22:14:13.983 +07:00 [DBG] Connection id "0HND5QNR92VU5" accepted.
2025-06-07 22:14:13.995 +07:00 [DBG] Connection id "0HND5QNR92VU5" started.
2025-06-07 22:14:14.026 +07:00 [DBG] Connection 0HND5QNR92VU5 established using the following protocol: "Tls12"
2025-06-07 22:14:14.124 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 22:14:14.123 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 22:14:14.148 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-07 22:14:14.148 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-07 22:14:14.191 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 22:14:14.191 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 22:14:14.198 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 22:14:14.198 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 22:14:14.199 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:14:14.199 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:14.213 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:14.213 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:15.715 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:15.715 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:15.718 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:15.718 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:15.723 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:15.723 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:15.724 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:15.724 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:15.726 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:14:15.726 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:15.752 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:15.754 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:15.755 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:15.755 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:15.755 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:15.755 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:15.756 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:15.756 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:15.756 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:15.756 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:15.756 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:15.756 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:15.758 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:15.758 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:15.759 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:15.759 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:15.763 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:14:15.773 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:15.776 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:14:15.778 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:14:15.791 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:15.794 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000003": started reading request body.
2025-06-07 22:14:15.794 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000003": done reading request body.
2025-06-07 22:14:15.801 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:14:15.802 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:15.802 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:15.802 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:15.821 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:15.822 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:14:15.825 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()'
2025-06-07 22:14:15.892 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:15.902 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 22:14:15.905 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:14:15.906 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:14:15.906 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:15.907 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:15.912 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:15.912 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:15.912 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:14:15.912 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:14:15.913 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:14:15.913 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:14:15.913 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:14:15.913 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:14:15.913 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:15.913 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:15.913 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:15.913 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:15.913 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:15.913 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:15.914 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:15.914 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:15.914 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:15.914 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:15.914 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:15.914 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:15.914 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:15.914 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:15.914 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:15.914 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:15.914 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:15.941 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:15.941 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:15.941 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:14:15.941 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:15.941 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:15.941 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:15.941 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:15.941 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:15.941 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:15.941 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:15.941 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:14:15.941 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:15.942 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:15.942 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:15.942 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:14:15.942 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:15.942 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:15.942 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:15.942 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:15.942 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:15.942 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:14:15.942 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:15.942 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:14:15.942 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:14:15.942 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:14:15.945 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:15.949 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:15.949 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:14:15.949 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:14:15.950 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000009": started reading request body.
2025-06-07 22:14:15.950 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000009": done reading request body.
2025-06-07 22:14:15.950 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:14:15.950 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:14:15.950 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:14:15.950 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:15.950 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:15.950 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000007": started reading request body.
2025-06-07 22:14:15.950 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:15.950 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000007": done reading request body.
2025-06-07 22:14:15.951 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:14:15.951 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:15.951 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:15.951 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:15.951 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:15.951 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:14:15.951 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:15.954 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:14:15.965 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:15.969 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:15.969 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:15.970 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Select(c => c.ParentId)'
2025-06-07 22:14:15.972 +07:00 [DBG] Compiling query expression: 
'DbSet<ProductEntity>()
    .Where(p => p.IsDeleted == (bool?)False)
    .Include(p => p.Category)
    .Skip(__p_0)
    .Take(__p_1)'
2025-06-07 22:14:15.973 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Where(p => p.IsDeleted == (bool?)False)
    .Skip(__p_0)
    .Take(__p_1)
    .Include(c => c.ChildCategories)
    .Select(c => new CategoryEntity{ 
        Id = c.Id, 
        Name = c.Name, 
        ImageUrl = c.ImageUrl, 
        ParentId = c.ParentId, 
        ParentName = c.ParentCategory.Name == null ? "" : c.ParentCategory.Name, 
        ChildCategories = c.ChildCategories 
    }
    )'
2025-06-07 22:14:16.055 +07:00 [DBG] Including navigation: 'ProductEntity.Category'.
2025-06-07 22:14:16.084 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-07 22:14:16.084 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-07 22:14:16.087 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-07 22:14:16.087 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-07 22:14:16.097 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Guid?>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT c.ParentId
        FROM Categories AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Guid?>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 22:14:16.098 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CategoryEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CategoryEntity.CreatedAt (DateTime?), 1], [Property: CategoryEntity.CreatedBy (Guid?), 2], [Property: CategoryEntity.Description (string) Required, 3], [Property: CategoryEntity.ImageUrl (string) Required, 4], [Property: CategoryEntity.IsDeleted (bool?), 5], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 6], [Property: CategoryEntity.LastUpdatedBy (Guid?), 7], [Property: CategoryEntity.Name (string) Required, 8], [Property: CategoryEntity.ParentId (Guid?) FK Index, 9] }
        SELECT c.Id, c.CreatedAt, c.CreatedBy, c.Description, c.ImageUrl, c.IsDeleted, c.LastUpdatedAt, c.LastUpdatedBy, c.Name, c.ParentId
        FROM Categories AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CategoryEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 22:14:16.134 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:16.134 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:16.134 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:16.134 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:16.134 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.134 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.134 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.134 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:16.134 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.135 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.136 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:16.147 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:16.174 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.175 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 27ms reading results.
2025-06-07 22:14:16.177 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.178 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:16.182 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Where(c => !(__parentIds_0.Contains((Guid?)c.Id)))'
2025-06-07 22:14:16.247 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ProductEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductEntity.CategoryId (Guid) Required FK Index, 1], [Property: ProductEntity.CreatedAt (DateTime?), 2], [Property: ProductEntity.CreatedBy (Guid?), 3], [Property: ProductEntity.Description (string) Required, 4], [Property: ProductEntity.ImageUrl (string) Required, 5], [Property: ProductEntity.IsDeleted (bool?), 6], [Property: ProductEntity.LastUpdatedAt (DateTime?), 7], [Property: ProductEntity.LastUpdatedBy (Guid?), 8], [Property: ProductEntity.Name (string) Required, 9], [Property: ProductEntity.Price (decimal) Required, 10] }
            1 -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: CategoryEntity.CreatedAt (DateTime?), 12], [Property: CategoryEntity.CreatedBy (Guid?), 13], [Property: CategoryEntity.Description (string) Required, 14], [Property: CategoryEntity.ImageUrl (string) Required, 15], [Property: CategoryEntity.IsDeleted (bool?), 16], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 17], [Property: CategoryEntity.LastUpdatedBy (Guid?), 18], [Property: CategoryEntity.Name (string) Required, 19], [Property: CategoryEntity.ParentId (Guid?) FK Index, 20] }
        SELECT t.Id, t.CategoryId, t.CreatedAt, t.CreatedBy, t.Description, t.ImageUrl, t.IsDeleted, t.LastUpdatedAt, t.LastUpdatedBy, t.Name, t.Price, c.Id, c.CreatedAt, c.CreatedBy, c.Description, c.ImageUrl, c.IsDeleted, c.LastUpdatedAt, c.LastUpdatedBy, c.Name, c.ParentId
        FROM 
        (
            SELECT p.Id, p.CategoryId, p.CreatedAt, p.CreatedBy, p.Description, p.ImageUrl, p.IsDeleted, p.LastUpdatedAt, p.LastUpdatedBy, p.Name, p.Price
            FROM Products AS p
            WHERE p.IsDeleted == FALSE
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN Categories AS c ON t.CategoryId == c.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 22:14:16.249 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.249 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:16.249 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.249 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.249 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:16.252 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:16.261 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CategoryEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CategoryEntity.CreatedAt (DateTime?), 1], [Property: CategoryEntity.CreatedBy (Guid?), 2], [Property: CategoryEntity.Description (string) Required, 3], [Property: CategoryEntity.ImageUrl (string) Required, 4], [Property: CategoryEntity.IsDeleted (bool?), 5], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 6], [Property: CategoryEntity.LastUpdatedBy (Guid?), 7], [Property: CategoryEntity.Name (string) Required, 8], [Property: CategoryEntity.ParentId (Guid?) FK Index, 9] }
        SELECT c.Id, c.CreatedAt, c.CreatedBy, c.Description, c.ImageUrl, c.IsDeleted, c.LastUpdatedAt, c.LastUpdatedBy, c.Name, c.ParentId
        FROM Categories AS c
        WHERE Not(c.Id = ANY(@__parentIds_0))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CategoryEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 22:14:16.263 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:16.263 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:16.263 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:16.263 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:16.263 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.263 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.263 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.263 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:16.263 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.267 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.271 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-06-07 22:14:16.271 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CategoryEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> 5
            6 -> Dictionary<IProperty, int> { [Property: CategoryEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: CategoryEntity.CreatedAt (DateTime?), 7], [Property: CategoryEntity.CreatedBy (Guid?), 8], [Property: CategoryEntity.Description (string) Required, 9], [Property: CategoryEntity.ImageUrl (string) Required, 10], [Property: CategoryEntity.IsDeleted (bool?), 11], [Property: CategoryEntity.LastUpdatedAt (DateTime?), 12], [Property: CategoryEntity.LastUpdatedBy (Guid?), 13], [Property: CategoryEntity.Name (string) Required, 14], [Property: CategoryEntity.ParentId (Guid?) FK Index, 15] }
            7 -> 6
        SELECT t.Id, t.Name, t.ImageUrl, t.ParentId, CASE
            WHEN c0.Name == NULL THEN ''
            ELSE c0.Name
        END, c0.Id, c1.Id, c1.CreatedAt, c1.CreatedBy, c1.Description, c1.ImageUrl, c1.IsDeleted, c1.LastUpdatedAt, c1.LastUpdatedBy, c1.Name, c1.ParentId
        FROM 
        (
            SELECT c.Id, c.ImageUrl, c.Name, c.ParentId
            FROM Categories AS c
            WHERE c.IsDeleted == FALSE
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        LEFT JOIN Categories AS c0 ON t.ParentId == c0.Id
        LEFT JOIN Categories AS c1 ON t.Id == c1.ParentId
        ORDER BY t.Id ASC, c0.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CategoryEntity>, 
    Product.Infrastructure.ProductDBContext, 
    False, 
    False, 
    True
)'
2025-06-07 22:14:16.274 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:14:16.274 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:16.274 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:16.275 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.297 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:14:16.298 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.298 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:14:16.298 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.298 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:16.322 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.322 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:16.323 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.323 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.323 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:14:16.325 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.356 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.368 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.369 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.369 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.370 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.370 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 117ms reading results.
2025-06-07 22:14:16.370 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.370 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:16.376 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 421.835ms.
2025-06-07 22:14:16.384 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 620.8204ms.
2025-06-07 22:14:16.388 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:16.388 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:16.389 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:14:16.390 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.390 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.390 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:16.390 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:16.390 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.390 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:16.390 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:16.390 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.390 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:16.390 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:16.390 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:14:16.390 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.390 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:16.391 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 448.3715ms.
2025-06-07 22:14:16.391 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:16.391 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:16.391 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:16.391 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:16.391 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:16.391 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:16.391 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:16.391 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:16.391 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:16.392 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:16.422 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 474.4439ms
2025-06-07 22:14:16.422 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 659.7652ms
2025-06-07 22:14:16.422 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 474.4576ms
2025-06-07 22:14:16.423 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:16.423 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:16.423 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:16.424 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.424 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:16.424 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.424 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.424 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:14:16.431 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:14:16.432 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.432 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:14:16.432 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.432 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:16.432 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 478.2995ms.
2025-06-07 22:14:16.432 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:16.432 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:16.432 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:16.432 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:16.432 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:16.432 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:16.433 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 490.5484ms
2025-06-07 22:14:16.433 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:16.433 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:16.433 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:16.433 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:16.433 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:16.434 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.434 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.434 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.434 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.438 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (3ms).
2025-06-07 22:14:16.438 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (3ms).
2025-06-07 22:14:16.438 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (3ms).
2025-06-07 22:14:16.438 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (3ms).
2025-06-07 22:14:16.439 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.439 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:16.439 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.439 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.439 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:14:16.439 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 537.7492ms
2025-06-07 22:14:16.439 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 526.5555ms
2025-06-07 22:14:16.439 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 528.0699ms
2025-06-07 22:14:16.439 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 2344.6132ms
2025-06-07 22:14:16.445 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:14:16.448 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 22:14:16.448 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:14:16.449 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:14:16.449 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:16.449 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:16.450 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:16.450 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:16.450 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:16.450 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:16.451 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:16.451 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:16.451 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:16.451 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:16.451 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:16.451 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:16.452 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:16.452 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:16.452 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:16.452 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:14:16.454 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:16.456 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:16.456 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.456 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:16.456 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.456 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.456 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:16.456 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.456 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.456 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:16.457 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.459 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.459 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:16.460 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 22:14:16.460 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.461 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 15ms reading results.
2025-06-07 22:14:16.461 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 22:14:16.461 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.461 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.461 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 22:14:16.461 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:14:16.461 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:16.461 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:16.461 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.461 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:16.461 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:16.462 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:16.462 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 639.0211ms.
2025-06-07 22:14:16.462 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:16.462 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.462 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.462 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:16.462 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:16.462 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:16.462 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:16.462 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:16.462 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:16.462 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:16.462 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.462 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:16.462 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:16.462 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:16.462 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:16.462 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:16.462 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:16.462 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:14:16.462 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:16.462 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:16.462 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:16.462 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:16.462 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:16.463 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:16.463 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:14:16.464 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:14:16.464 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.464 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.464 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.464 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.465 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:14:16.465 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.465 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:16.465 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.8793ms.
2025-06-07 22:14:16.465 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:16.465 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:16.465 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:16.465 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:16.465 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:16.465 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 708.9607ms
2025-06-07 22:14:16.465 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:16.465 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:16.465 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:14:16.465 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 13.8463ms
2025-06-07 22:14:16.465 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:16.466 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:16.466 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:16.466 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.466 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:16.466 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:16.466 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:16.466 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.466 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.466 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:16.466 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.466 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 2371.8992ms
2025-06-07 22:14:16.466 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:16.466 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 18.4229ms
2025-06-07 22:14:16.468 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-06-07 22:14:16.468 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-06-07 22:14:16.469 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:16.476 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:16.476 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.477 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.477 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.477 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.477 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:16.477 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.477 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:14:16.477 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.478 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:16.478 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14.1473ms.
2025-06-07 22:14:16.478 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:16.478 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:16.478 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:16.478 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:16.478 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:16.478 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:16.479 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 16.1396ms
2025-06-07 22:14:16.479 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:16.479 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:16.479 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:16.479 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:16.480 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 20.0355ms
2025-06-07 22:14:17.054 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 22:14:17.054 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 22:14:17.054 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 22:14:17.054 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 22:14:17.054 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 22:14:17.054 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 22:14:17.054 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:14:17.054 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:17.054 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:17.054 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:17.054 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:17.054 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:17.055 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:17.055 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:17.055 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:17.055 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:17.055 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:17.055 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:17.055 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:17.055 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:14:17.055 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:17.055 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:17.056 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:17.056 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:17.056 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:17.056 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:17.056 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:17.056 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:17.056 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:17.056 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:17.056 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:17.056 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:17.056 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:17.056 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:17.057 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:17.057 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:17.057 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:14:17.057 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:17.057 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:14:17.058 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:14:17.058 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:0000000F": started reading request body.
2025-06-07 22:14:17.059 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:0000000F": done reading request body.
2025-06-07 22:14:17.060 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:14:17.060 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:17.060 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:17.060 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:17.061 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:17.062 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:14:17.065 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:17.065 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:17.065 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:17.065 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.065 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.065 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:17.065 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:17.065 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:17.065 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:17.066 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:17.069 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:17.072 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.072 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.073 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.073 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.073 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.073 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.073 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 22:14:17.073 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.073 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:17.073 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:17.073 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.6051ms.
2025-06-07 22:14:17.073 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:17.073 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.073 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.074 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:17.074 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:17.074 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:17.074 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:17.074 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:17.074 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:17.074 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:17.074 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:14:17.074 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:17.074 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:17.075 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 18.2353ms
2025-06-07 22:14:17.075 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:17.078 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:17.079 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.080 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:17.080 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 26.9309ms
2025-06-07 22:14:17.080 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:14:17.081 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.082 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.082 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.082 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.082 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:14:17.082 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.082 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:17.083 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.5686ms.
2025-06-07 22:14:17.083 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:17.083 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:17.083 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:17.083 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:17.083 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:17.083 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:17.084 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 27.4056ms
2025-06-07 22:14:17.084 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:14:17.084 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:17.084 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.084 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:17.085 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 30.9358ms
2025-06-07 22:14:17.087 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 22:14:17.088 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 22:14:17.088 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 22:14:17.088 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:17.088 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:17.089 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:17.089 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:17.089 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:17.089 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:17.089 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:17.089 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:17.090 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:17.090 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:17.090 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:17.090 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:17.090 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:17.090 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:17.090 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:17.091 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:14:17.095 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:17.096 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:17.097 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:17.097 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.097 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.097 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:17.097 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:17.097 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:17.097 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:17.099 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:17.101 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.101 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.101 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.101 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.102 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.102 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.102 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 22:14:17.102 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.102 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:17.103 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.1543ms.
2025-06-07 22:14:17.103 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:17.104 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:17.104 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:17.104 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:17.104 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:17.104 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:17.104 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 14.3469ms
2025-06-07 22:14:17.104 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:17.105 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:17.105 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.105 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:17.105 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 17.6042ms
2025-06-07 22:14:17.956 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:14:17.956 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 22:14:17.957 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:14:17.957 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:14:17.957 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:17.957 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:17.958 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:17.958 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:17.958 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:17.958 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:17.958 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:17.958 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:14:17.958 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:17.958 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:17.958 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:17.958 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:17.959 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:17.959 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:17.959 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:17.959 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:17.959 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:14:17.959 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:14:17.959 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:14:17.959 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:14:17.959 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:14:17.959 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:17.959 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:17.959 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:17.959 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:17.960 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:17.960 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:17.960 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:17.960 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:17.960 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:17.960 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:17.960 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:17.960 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:17.960 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:17.960 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:17.960 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:14:17.960 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:14:17.960 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:17.960 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:17.960 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:17.960 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:17.960 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:17.961 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:17.961 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:17.961 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:17.961 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:17.961 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:17.961 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:17.961 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:14:17.961 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:14:17.961 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:17.961 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:17.961 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.961 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.961 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:17.961 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:17.961 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:17.961 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:17.963 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:14:17.963 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:14:17.963 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:17.964 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:17.964 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:17.965 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:14:17.965 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:14:17.965 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:14:17.965 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:14:17.965 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.965 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000015": started reading request body.
2025-06-07 22:14:17.965 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000019": started reading request body.
2025-06-07 22:14:17.965 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000019": done reading request body.
2025-06-07 22:14:17.965 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000015": done reading request body.
2025-06-07 22:14:17.965 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:14:17.965 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:14:17.965 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:14:17.965 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:17.965 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:17.965 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.965 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:17.965 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:17.965 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:17.965 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:17.965 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:17.965 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:17.965 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:17.965 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:14:17.965 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:14:17.966 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.966 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.966 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:17.966 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:17.966 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:17.966 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:14:17.972 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:14:17.973 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:17.973 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.974 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:17.974 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.975 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:17.975 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:17.975 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:17.975 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:17.975 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:17.975 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.975 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.976 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.976 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.976 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.976 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:17.976 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:17.976 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:17.976 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:17.976 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-07 22:14:17.976 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:17.976 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.976 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:17.976 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:14:17.976 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:17.977 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:14:17.977 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.3089ms.
2025-06-07 22:14:17.979 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:17.980 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:17.981 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:17.981 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:14:17.981 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:17.982 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.982 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:17.982 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:14:17.982 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:17.982 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:14:17.982 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.983 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:17.983 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.983 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:14:17.983 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.7602ms.
2025-06-07 22:14:17.984 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.984 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:17.984 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 25.0775ms
2025-06-07 22:14:17.984 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:17.984 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:17.984 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.2868ms.
2025-06-07 22:14:17.984 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:17.984 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:17.984 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:17.984 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:17.984 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:17.984 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:17.984 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.984 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:17.984 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:17.984 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:17.984 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:17.984 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:17.984 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:17.984 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 27.8973ms
2025-06-07 22:14:17.984 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 23.3354ms
2025-06-07 22:14:17.984 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:17.984 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:17.984 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 23.5225ms
2025-06-07 22:14:17.984 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:17.984 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:17.984 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.984 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:17.984 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:17.984 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:17.984 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 28.8357ms
2025-06-07 22:14:17.984 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:17.985 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 26.7625ms
2025-06-07 22:14:18.017 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 22:14:18.017 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:14:18.017 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:14:18.017 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:18.017 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:18.018 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:18.018 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:18.018 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:18.018 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:18.018 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:18.018 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:18.018 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:18.018 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:18.018 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:18.018 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:18.018 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:18.018 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:18.018 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:18.018 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:14:18.020 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:18.021 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:18.021 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:18.021 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.021 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.021 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:18.021 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:18.021 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:18.021 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:18.024 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:18.027 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.027 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:14:18.027 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.028 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:18.028 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.029 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.029 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:18.029 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:18.029 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:18.029 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:14:18.030 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:14:18.030 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:18.030 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:18.031 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:18.031 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.031 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:14:18.031 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.031 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:18.031 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.4219ms.
2025-06-07 22:14:18.031 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:18.031 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:18.031 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:18.031 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:18.031 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:18.031 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:18.032 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 13.1703ms
2025-06-07 22:14:18.032 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:18.032 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:18.032 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.032 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:18.032 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 15.3168ms
2025-06-07 22:14:18.956 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 22:14:18.956 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 22:14:18.957 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 22:14:18.957 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 22:14:18.957 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 22:14:18.957 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 22:14:18.957 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:14:18.957 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:18.957 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:18.957 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:18.957 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:18.957 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:18.957 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:18.957 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:18.957 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:18.957 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:18.958 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:18.958 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:18.958 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:14:18.958 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:18.958 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:18.958 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:18.958 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:18.958 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:18.958 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:18.958 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:18.958 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:18.958 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:18.958 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:18.958 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:18.958 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:18.958 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:18.958 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:18.958 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:18.958 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:18.958 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:14:18.958 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:18.958 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:18.959 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:14:18.959 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:14:18.959 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:0000001D": started reading request body.
2025-06-07 22:14:18.959 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:0000001D": done reading request body.
2025-06-07 22:14:18.959 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:14:18.959 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:18.959 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:18.959 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:18.959 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:18.959 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:18.959 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:14:18.959 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:18.959 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:18.959 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.959 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.960 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:18.960 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:18.960 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:18.960 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:18.960 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:18.962 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:18.962 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:18.962 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:18.963 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.963 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.963 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:18.963 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:18.964 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:18.964 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:14:18.964 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:18.966 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:14:18.967 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:18.967 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:18.967 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:18.967 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:18.968 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:18.968 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:18.968 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.968 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:18.968 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-06-07 22:14:18.968 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.968 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.968 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:18.968 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:14:18.968 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.968 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.66ms.
2025-06-07 22:14:18.968 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:18.968 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 8.9291ms.
2025-06-07 22:14:18.968 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:18.968 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:18.968 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:18.969 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:18.969 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:18.969 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:18.969 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:18.969 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:18.969 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:18.969 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:18.969 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 10.7749ms
2025-06-07 22:14:18.969 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:14:18.969 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:18.969 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:18.969 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:18.969 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.969 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:18.970 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 13.3548ms
2025-06-07 22:14:18.970 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 12.1637ms
2025-06-07 22:14:18.971 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:18.971 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:18.971 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:18.971 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:18.972 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 15.4482ms
2025-06-07 22:14:19.001 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 22:14:19.001 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 22:14:19.001 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 22:14:19.001 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:19.001 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:19.001 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:19.001 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:19.001 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:19.001 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:19.001 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:19.001 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:19.002 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:19.002 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:19.002 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:19.002 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:19.002 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:19.002 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:19.002 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:19.002 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:14:19.004 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:19.004 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:19.005 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:19.005 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:19.005 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:19.005 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:19.005 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:19.005 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:19.005 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:19.009 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:19.011 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:19.012 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:19.013 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:19.013 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:19.013 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:19.013 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:19.013 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-07 22:14:19.013 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:19.013 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:19.013 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11.2604ms.
2025-06-07 22:14:19.013 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:19.013 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:19.013 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:19.013 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:19.013 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:19.014 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:19.014 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 11.9785ms
2025-06-07 22:14:19.014 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:14:19.014 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:19.014 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:19.014 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:19.014 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 13.7756ms
2025-06-07 22:14:24.097 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 22:14:24.101 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 22:14:24.101 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 22:14:24.103 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:14:24.107 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:24.110 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:24.113 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:24.114 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:24.114 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:24.118 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:14:24.127 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:24.127 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:24.127 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:24.128 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:24.128 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:24.128 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:24.128 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:24.128 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:24.128 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:24.129 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:14:24.129 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:14:24.129 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000023": started reading request body.
2025-06-07 22:14:24.129 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000023": done reading request body.
2025-06-07 22:14:24.129 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:14:24.129 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:24.130 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:24.130 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:24.130 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:24.130 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:14:24.132 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:24.141 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:24.142 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:24.143 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:24.143 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:24.143 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:24.144 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:24.144 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:24.145 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:14:24.151 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:14:24.158 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:24.158 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:24.158 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:24.159 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:24.159 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
2025-06-07 22:14:24.159 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:24.159 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:24.159 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.7522ms.
2025-06-07 22:14:24.160 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:24.160 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:24.160 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:24.160 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:24.160 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:24.160 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:24.160 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 32.1665ms
2025-06-07 22:14:24.160 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:14:24.160 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:24.160 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:24.161 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:24.161 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 64.0077ms
2025-06-07 22:14:26.848 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 22:14:26.849 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:14:26.849 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:14:26.849 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:26.849 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:26.850 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:26.850 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:26.850 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:26.850 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:26.850 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:26.850 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:26.850 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:26.850 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:26.850 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:26.850 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:26.850 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:26.851 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:26.851 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:26.851 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:14:26.857 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:26.863 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:26.863 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:26.863 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.864 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.864 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:26.864 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:26.864 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:26.864 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:26.867 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:14:26.867 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:14:26.868 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:14:26.868 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:26.868 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:26.868 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:26.868 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:26.870 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:26.870 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:26.872 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:26.873 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:14:26.874 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:26.874 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:26.874 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:26.874 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:26.875 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:26.875 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:26.875 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:14:26.875 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:14:26.876 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:26.876 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.876 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:14:26.876 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:14:26.876 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:14:26.876 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:14:26.876 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:14:26.876 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000027": started reading request body.
2025-06-07 22:14:26.876 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:14:26.876 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000027": done reading request body.
2025-06-07 22:14:26.876 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.876 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:26.876 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:26.876 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:26.876 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:14:26.876 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:26.877 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:26.877 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:26.877 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:26.877 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:26.877 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:26.877 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:14:26.877 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:26.877 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:26.877 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:26.877 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.877 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:14:26.877 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:26.877 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.877 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:26.878 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:26.878 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:26.878 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:26.878 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:26.878 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:26.878 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:26.878 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:26.878 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:14:26.878 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:14:26.878 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:14:26.878 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:26.878 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:14:26.878 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:14:26.878 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:26.878 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000029": started reading request body.
2025-06-07 22:14:26.878 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000029": done reading request body.
2025-06-07 22:14:26.878 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:26.878 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.878 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.879 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:14:26.879 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:26.879 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:26.879 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:26.879 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:26.879 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:14:26.879 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:26.879 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:14:26.879 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:14:26.879 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:14:26.880 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:14:26.880 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:26.880 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:26.882 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:14:26.886 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.886 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:26.887 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 22:14:26.887 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.887 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.887 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:26.887 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:26.888 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 8ms reading results.
2025-06-07 22:14:26.888 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.888 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:26.888 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 10.8433ms.
2025-06-07 22:14:26.888 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 36.0847ms.
2025-06-07 22:14:26.888 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:26.888 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:26.888 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:26.888 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:26.888 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:26.888 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:26.888 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:26.888 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:26.888 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:26.888 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:26.888 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:26.888 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:26.888 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:26.889 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:26.889 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.889 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.889 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:26.889 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 14.1784ms
2025-06-07 22:14:26.889 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 38.6525ms
2025-06-07 22:14:26.889 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:26.889 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:26.890 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:26.890 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:26.890 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:26.890 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:26.890 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.890 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.890 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:14:26.890 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:26.890 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:26.890 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 25.3749ms
2025-06-07 22:14:26.890 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 41.9314ms
2025-06-07 22:14:26.899 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:14:26.900 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.900 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:14:26.900 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.900 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:26.901 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.9162ms.
2025-06-07 22:14:26.901 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:26.901 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:26.901 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:26.901 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:26.901 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:26.901 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:26.902 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 24.114ms
2025-06-07 22:14:26.902 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:14:26.902 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:26.902 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.903 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:26.903 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 27.2205ms
2025-06-07 22:14:26.916 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 22:14:26.916 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:14:26.916 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:14:26.916 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:26.916 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:14:26.917 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:14:26.917 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:14:26.917 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:14:26.917 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:14:26.917 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:26.917 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:14:26.917 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:14:26.917 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:14:26.917 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:14:26.917 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:14:26.917 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:14:26.918 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:26.918 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:14:26.918 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:14:26.918 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:14:26.918 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:14:26.919 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:14:26.919 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.919 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.919 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:26.919 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:26.919 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:26.919 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:26.922 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:14:26.923 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.925 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:14:26.926 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.926 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:26.927 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.928 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.928 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:14:26.928 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:26.928 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:14:26.929 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:14:26.931 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:14:26.931 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:26.931 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:26.931 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:14:26.931 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.931 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:14:26.931 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.931 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:26.931 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.6825ms.
2025-06-07 22:14:26.932 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:14:26.932 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:14:26.932 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:14:26.932 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:14:26.932 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:14:26.932 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:14:26.932 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 14.3134ms
2025-06-07 22:14:26.932 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:14:26.932 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:14:26.932 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:14:26.932 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:14:26.932 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 16.6276ms
2025-06-07 22:15:05.078 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Create - application/json 183
2025-06-07 22:15:05.079 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-06-07 22:15:05.081 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-06-07 22:15:05.081 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 22:15:05.082 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:15:05.085 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:15:05.085 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:15:05.086 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:15:05.087 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:15:05.087 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 22:15:05.099 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:15:05.099 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:15:05.099 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:15:05.100 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:15:05.100 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:15:05.100 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:15:05.100 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:15:05.100 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:15:05.100 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-06-07 22:15:05.100 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-06-07 22:15:05.101 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:15:05.103 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:0000002D": started reading request body.
2025-06-07 22:15:05.103 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:0000002D": done reading request body.
2025-06-07 22:15:05.110 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.ProductDto'
2025-06-07 22:15:05.110 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 22:15:05.110 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 22:15:05.110 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-06-07 22:15:05.115 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 22:15:05.115 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Create (Product.API) - Validation state: "Valid"
2025-06-07 22:15:09.664 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:15:09.664 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:15:09.664 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:15:09.664 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.664 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.664 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:15:09.664 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:09.664 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:09.664 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:15:09.666 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:15:09.666 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.666 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:15:09.666 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.666 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:09.669 +07:00 [DBG] Compiling query expression: 
'DbSet<CategoryEntity>()
    .Where(c => c.Id == __Id_0 && !(__parentIds_1.Contains((Guid?)c.Id)))
    .Any()'
2025-06-07 22:15:09.682 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Categories AS c
                WHERE (c.Id == @__Id_0) && Not(c.Id = ANY(@__parentIds_1)))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Product.Infrastructure.ProductDBContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-07 22:15:09.690 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.690 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.690 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:15:09.690 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:09.690 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:09.690 +07:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-06-07 22:15:09.693 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-06-07 22:15:09.699 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.699 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-06-07 22:15:09.699 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.699 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:09.728 +07:00 [DBG] 'ProductDBContext' generated a value for the property 'ProductEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:09.757 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:09.761 +07:00 [DBG] SaveChanges starting for 'ProductDBContext'.
2025-06-07 22:15:09.765 +07:00 [DBG] DetectChanges starting for 'ProductDBContext'.
2025-06-07 22:15:09.781 +07:00 [DBG] DetectChanges completed for 'ProductDBContext'.
2025-06-07 22:15:09.784 +07:00 [DBG] DetectChanges starting for 'ProductDBContext'.
2025-06-07 22:15:09.785 +07:00 [DBG] The unchanged property 'ProductEntity.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-06-07 22:15:09.786 +07:00 [DBG] The unchanged property 'ProductEntity.CreatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-06-07 22:15:09.787 +07:00 [DBG] The unchanged property 'ProductEntity.LastUpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-06-07 22:15:09.787 +07:00 [DBG] The unchanged property 'ProductEntity.LastUpdatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-06-07 22:15:09.788 +07:00 [DBG] DetectChanges completed for 'ProductDBContext'.
2025-06-07 22:15:09.860 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.860 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.861 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:15:09.861 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:09.861 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:09.862 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "CategoryId", "CreatedAt", "CreatedBy", "Description", "ImageUrl", "IsDeleted", "LastUpdatedAt", "LastUpdatedBy", "Name", "Price")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-07 22:15:09.877 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "CategoryId", "CreatedAt", "CreatedBy", "Description", "ImageUrl", "IsDeleted", "LastUpdatedAt", "LastUpdatedBy", "Name", "Price")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-07 22:15:09.879 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.879 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 22:15:09.880 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.880 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:09.886 +07:00 [DBG] An entity of type 'ProductEntity' tracked by 'ProductDBContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:09.888 +07:00 [DBG] SaveChanges completed for 'ProductDBContext' with 1 entities written to the database.
2025-06-07 22:15:09.890 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Create (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 4774.6271ms.
2025-06-07 22:15:09.890 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:15:09.890 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:15:09.890 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:15:09.890 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:15:09.890 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:15:09.890 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Guid'.
2025-06-07 22:15:09.892 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 4792.3268ms
2025-06-07 22:15:09.892 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 22:15:09.892 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:15:09.892 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.892 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:09.893 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Create - 200 null application/json; charset=utf-8 4814.5739ms
2025-06-07 22:15:09.975 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:15:09.975 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:15:09.975 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:15:09.975 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:15:09.976 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:15:09.977 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:15:09.977 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:15:09.977 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:15:09.977 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:15:09.977 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:15:09.978 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:15:09.978 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:15:09.978 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:15:09.978 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:15:09.978 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:15:09.978 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:15:09.979 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:15:09.979 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:15:09.980 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:15:09.980 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:15:09.980 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:15:09.980 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:0000002F": started reading request body.
2025-06-07 22:15:09.980 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:0000002F": done reading request body.
2025-06-07 22:15:09.980 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:15:09.980 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:15:09.981 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:15:09.981 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:15:09.981 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:15:09.981 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:15:09.982 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:15:09.982 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:15:09.982 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:15:09.982 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.983 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:09.983 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:15:09.983 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:09.983 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:09.983 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:15:09.991 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:15:09.996 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:09.998 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:10.000 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:10.000 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:10.001 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 8ms reading results.
2025-06-07 22:15:10.001 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:10.001 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:10.002 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.716ms.
2025-06-07 22:15:10.002 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:15:10.002 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:15:10.002 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:15:10.002 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:15:10.002 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:15:10.002 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:15:10.012 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 33.7068ms
2025-06-07 22:15:10.012 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:15:10.013 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:15:10.013 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:10.013 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:10.013 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 39.5634ms
2025-06-07 22:15:17.525 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 22:15:17.526 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 22:15:17.526 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 22:15:17.526 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:15:17.527 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:15:17.528 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:15:17.528 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:15:17.528 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:15:17.528 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:15:17.529 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:15:17.529 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:15:17.529 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:15:17.529 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:15:17.529 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:15:17.529 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:15:17.529 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:15:17.529 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:15:17.529 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:15:17.529 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:15:17.530 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:15:17.531 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:15:17.531 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:15:17.531 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.531 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.531 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:15:17.531 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:17.531 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:17.531 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:15:17.533 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:15:17.533 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 56
2025-06-07 22:15:17.534 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:17.534 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 22:15:17.534 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 22:15:17.534 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:17.535 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:15:17.535 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:15:17.535 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:17.535 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:15:17.535 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:17.535 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:15:17.536 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:15:17.536 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:15:17.536 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:15:17.536 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:17.536 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:15:17.536 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.536 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:15:17.536 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-07 22:15:17.536 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:15:17.536 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.536 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:15:17.536 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:15:17.536 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:17.536 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:15:17.536 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:15:17.536 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:15:17.536 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.9574ms.
2025-06-07 22:15:17.536 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:15:17.536 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:15:17.537 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:15:17.537 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:15:17.537 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:15:17.537 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:15:17.537 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:15:17.537 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:15:17.537 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:15:17.537 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000033": started reading request body.
2025-06-07 22:15:17.537 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000033": done reading request body.
2025-06-07 22:15:17.537 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 7.9306ms
2025-06-07 22:15:17.537 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:15:17.537 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:15:17.537 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:15:17.537 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:15:17.537 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.537 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:17.537 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 13.0628ms
2025-06-07 22:15:17.537 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:15:17.538 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:15:17.538 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:15:17.538 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:15:17.540 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:15:17.542 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:15:17.542 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:15:17.542 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.542 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.542 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:15:17.542 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:17.542 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:17.543 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:15:17.554 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:15:17.555 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - null null
2025-06-07 22:15:17.555 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetAllCategories'
2025-06-07 22:15:17.555 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)' with route pattern 'api/Category/GetAllCategories' is valid for the request path '/api/Category/GetAllCategories'
2025-06-07 22:15:17.555 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:15:17.555 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:15:17.555 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:17.556 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:17.556 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:15:17.556 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:17.556 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:15:17.556 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.557 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:15:17.557 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 22:15:17.557 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:15:17.557 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.557 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:15:17.557 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:17.557 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.0656ms.
2025-06-07 22:15:17.557 +07:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetAllCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:15:17.557 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:15:17.557 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:15:17.557 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:15:17.558 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:15:17.558 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:15:17.558 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:15:17.558 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:15:17.558 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:15:17.558 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:15:17.558 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:15:17.558 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:15:17.558 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:15:17.558 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:15:17.558 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 21.9426ms
2025-06-07 22:15:17.558 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:15:17.558 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:15:17.558 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:15:17.558 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.558 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:17.559 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 26.1391ms
2025-06-07 22:15:17.560 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:15:17.561 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:15:17.562 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:15:17.562 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.563 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.563 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:15:17.564 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:17.564 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:17.564 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:15:17.592 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
2025-06-07 22:15:17.594 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:17.595 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:17.597 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:17.598 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:17.598 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:17.599 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.599 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-06-07 22:15:17.599 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.599 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:17.600 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetAllCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 41.1389ms.
2025-06-07 22:15:17.600 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:15:17.600 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:15:17.600 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:15:17.600 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:15:17.601 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:15:17.601 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:15:17.601 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetAllCategories (Product.API) in 43.0928ms
2025-06-07 22:15:17.601 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetAllCategories (Product.API)'
2025-06-07 22:15:17.601 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:15:17.601 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:17.601 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:17.602 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetAllCategories - 200 null application/json; charset=utf-8 47.0491ms
2025-06-07 22:15:18.038 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 22:15:18.042 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:15:18.043 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:15:18.043 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:15:18.043 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:15:18.044 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:15:18.044 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:15:18.044 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:15:18.044 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:15:18.044 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:15:18.045 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:15:18.045 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:15:18.045 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:15:18.045 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:15:18.045 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:15:18.045 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:15:18.045 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:15:18.045 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:15:18.045 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:15:18.046 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:15:18.047 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:15:18.047 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:15:18.047 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.047 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.047 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:15:18.047 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:18.047 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:18.047 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:15:18.063 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:15:18.064 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:15:18.065 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:15:18.065 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:15:18.065 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:15:18.065 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:15:18.065 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:15:18.065 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:15:18.065 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:15:18.065 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:15:18.065 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:15:18.065 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:15:18.065 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:15:18.066 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:15:18.066 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:15:18.066 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:15:18.066 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:15:18.066 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:15:18.066 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:15:18.066 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:15:18.066 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:15:18.066 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:15:18.066 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000039": started reading request body.
2025-06-07 22:15:18.066 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:00000039": done reading request body.
2025-06-07 22:15:18.066 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:15:18.066 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:15:18.066 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:15:18.066 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:15:18.067 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:15:18.067 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:15:18.063 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.067 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-07 22:15:18.067 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.067 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:18.068 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.068 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:15:18.068 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.068 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:15:18.068 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:18.068 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:18.068 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:15:18.070 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:15:18.069 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:15:18.070 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:15:18.070 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:15:18.070 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.070 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:15:18.070 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.070 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:15:18.070 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:15:18.070 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:15:18.070 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:18.070 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:18.070 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:18.070 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:15:18.070 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:15:18.070 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:18.070 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:18.070 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.070 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:15:18.071 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.071 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:18.071 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.0494ms.
2025-06-07 22:15:18.072 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:15:18.072 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:15:18.072 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:15:18.072 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:15:18.072 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:15:18.072 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:15:18.072 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 27.2934ms
2025-06-07 22:15:18.072 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:15:18.072 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:15:18.072 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.072 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:18.073 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 36.1309ms
2025-06-07 22:15:18.077 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:15:18.078 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:15:18.078 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:15:18.078 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:15:18.079 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:15:18.079 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:15:18.079 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:15:18.080 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:18.080 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:15:18.080 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:15:18.080 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:15:18.080 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:15:18.080 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:15:18.080 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:15:18.081 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:15:18.081 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:15:18.081 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:15:18.081 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:15:18.081 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:0000003B": started reading request body.
2025-06-07 22:15:18.081 +07:00 [DBG] Connection id "0HND5QNR92VU5", Request id "0HND5QNR92VU5:0000003B": done reading request body.
2025-06-07 22:15:18.082 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:15:18.082 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:15:18.082 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:15:18.082 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:15:18.082 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:18.082 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:15:18.083 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:15:18.084 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:18.084 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.084 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:15:18.085 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2025-06-07 22:15:18.085 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.085 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:18.085 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.062ms.
2025-06-07 22:15:18.085 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:15:18.085 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:15:18.085 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:15:18.085 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:15:18.085 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:15:18.085 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:15:18.085 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.085 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:15:18.085 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:15:18.085 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.085 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:15:18.085 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:18.085 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:18.086 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:15:18.086 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 19.7613ms
2025-06-07 22:15:18.086 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:15:18.086 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:15:18.086 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.087 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (1ms).
2025-06-07 22:15:18.102 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 29.4572ms
2025-06-07 22:15:18.102 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:15:18.103 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:18.107 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:18.107 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:18.112 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.113 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 10ms reading results.
2025-06-07 22:15:18.113 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.114 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:18.115 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.0992ms.
2025-06-07 22:15:18.115 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - null null
2025-06-07 22:15:18.116 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:15:18.116 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:15:18.116 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)' with route pattern 'api/Category/GetLeafCategories' is valid for the request path '/api/Category/GetLeafCategories'
2025-06-07 22:15:18.116 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:15:18.116 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:15:18.116 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:15:18.116 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:15:18.116 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:15:18.116 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:15:18.116 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:15:18.117 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 36.7857ms
2025-06-07 22:15:18.117 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:15:18.117 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:15:18.117 +07:00 [DBG] Successfully validated the token.
2025-06-07 22:15:18.117 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.117 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-06-07 22:15:18.117 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:18.117 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:15:18.117 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 49.5919ms
2025-06-07 22:15:18.117 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:15:18.118 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:15:18.118 +07:00 [INF] Route matched with {action = "GetLeafCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Product.Application.Dtos.CategoryDto]] GetLeafCategories() on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:15:18.118 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:15:18.118 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:15:18.118 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:15:18.118 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:15:18.118 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:15:18.118 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:15:18.118 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:15:18.118 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) - Validation state: "Valid"
2025-06-07 22:15:18.119 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:15:18.119 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:15:18.119 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:15:18.119 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.120 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.120 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:15:18.120 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:18.120 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:18.120 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:15:18.126 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:15:18.126 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.126 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:15:18.126 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.126 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:18.127 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.127 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.127 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:15:18.127 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:18.127 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:15:18.127 +07:00 [DBG] Executing DbCommand [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:15:18.129 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM "Categories" AS c
WHERE NOT (c."Id" = ANY (@__parentIds_0) AND c."Id" = ANY (@__parentIds_0) IS NOT NULL)
2025-06-07 22:15:18.129 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:18.129 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:18.129 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:15:18.129 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.130 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:15:18.130 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.131 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:18.131 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.GetLeafCategories (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.4644ms.
2025-06-07 22:15:18.131 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:15:18.131 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:15:18.131 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:15:18.131 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:15:18.131 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:15:18.131 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:15:18.131 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.GetLeafCategories (Product.API) in 13.208ms
2025-06-07 22:15:18.131 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.GetLeafCategories (Product.API)'
2025-06-07 22:15:18.131 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:15:18.131 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:15:18.131 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:15:18.132 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/api/Category/GetLeafCategories - 200 null application/json; charset=utf-8 16.8979ms
2025-06-07 22:16:33.241 +07:00 [DBG] Connection id "0HND5QNR92VU5" received FIN.
2025-06-07 22:16:33.242 +07:00 [DBG] Connection id "0HND5QNR92VU5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 22:16:33.242 +07:00 [DBG] Connection id "0HND5QNR92VU5" is closed. The last processed stream ID was 61.
2025-06-07 22:16:33.244 +07:00 [DBG] The connection queue processing loop for 0HND5QNR92VU5 completed.
2025-06-07 22:16:33.247 +07:00 [DBG] Connection id "0HND5QNR92VU5" stopped.
2025-06-07 22:30:49.730 +07:00 [DBG] Connection id "0HND5QNR92VU6" accepted.
2025-06-07 22:30:49.731 +07:00 [DBG] Connection id "0HND5QNR92VU6" started.
2025-06-07 22:30:49.747 +07:00 [DBG] Connection 0HND5QNR92VU6 established using the following protocol: "Tls12"
2025-06-07 22:30:49.862 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - null null
2025-06-07 22:30:50.038 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-06-07 22:30:50.038 +07:00 [DBG] Request did not match any endpoints
2025-06-07 22:30:50.154 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-06-07 22:30:50.155 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-07 22:30:50.163 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-06-07 22:30:50.163 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-07 22:30:50.164 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - 200 null text/html;charset=utf-8 306.9162ms
2025-06-07 22:30:50.180 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-06-07 22:30:50.180 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.js - null null
2025-06-07 22:30:50.180 +07:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-06-07 22:30:50.180 +07:00 [DBG] Request did not match any endpoints
2025-06-07 22:30:50.182 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.js - 200 null application/javascript;charset=utf-8 2.7257ms
2025-06-07 22:30:50.188 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-06-07 22:30:50.202 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 22.7768ms
2025-06-07 22:30:50.292 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 103.5539ms
2025-06-07 22:30:50.352 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-06-07 22:30:50.353 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-06-07 22:30:50.353 +07:00 [DBG] Request did not match any endpoints
2025-06-07 22:30:50.451 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 100.4344ms
2025-06-07 22:30:55.462 +07:00 [DBG] Connection id "0HND5QNR92VU6" received FIN.
2025-06-07 22:30:55.462 +07:00 [DBG] Connection id "0HND5QNR92VU6" is closed. The last processed stream ID was 9.
2025-06-07 22:30:55.463 +07:00 [DBG] Connection id "0HND5QNR92VU6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 22:30:55.464 +07:00 [DBG] The connection queue processing loop for 0HND5QNR92VU6 completed.
2025-06-07 22:30:55.464 +07:00 [DBG] Connection id "0HND5QNR92VU6" stopped.
2025-06-07 22:31:02.213 +07:00 [DBG] Connection id "0HND5QNR92VU7" accepted.
2025-06-07 22:31:02.214 +07:00 [DBG] Connection id "0HND5QNR92VU7" started.
2025-06-07 22:31:02.216 +07:00 [DBG] Connection 0HND5QNR92VU7 established using the following protocol: "Tls12"
2025-06-07 22:31:02.217 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Category/Get - application/json 88
2025-06-07 22:31:02.218 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Category/Get'
2025-06-07 22:31:02.218 +07:00 [DBG] Endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)' with route pattern 'api/Category/Get' is valid for the request path '/api/Category/Get'
2025-06-07 22:31:02.219 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:31:02.219 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:31:02.221 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:31:02.222 +07:00 [DBG] The request has an origin header: 'https://localhost:5003'.
2025-06-07 22:31:02.223 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:31:02.223 +07:00 [INF] Request origin https://localhost:5003 does not have permission to access the resource.
2025-06-07 22:31:02.223 +07:00 [INF] Executing endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:31:02.227 +07:00 [INF] Route matched with {action = "Get", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.CategoryDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.CategoryController (Product.API).
2025-06-07 22:31:02.228 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:31:02.228 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:31:02.229 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:31:02.229 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:31:02.230 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:31:02.230 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:31:02.231 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.CategoryController (Product.API)
2025-06-07 22:31:02.233 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:31:02.235 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:31:02.236 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:31:02.237 +07:00 [DBG] Connection id "0HND5QNR92VU7", Request id "0HND5QNR92VU7:00000001": started reading request body.
2025-06-07 22:31:02.237 +07:00 [DBG] Connection id "0HND5QNR92VU7", Request id "0HND5QNR92VU7:00000001": done reading request body.
2025-06-07 22:31:02.238 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:31:02.238 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:31:02.238 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:31:02.238 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:31:02.240 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:31:02.241 +07:00 [INF] Executing action method Product.API.Controllers.CategoryController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:31:02.263 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:31:02.269 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:31:02.269 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:31:02.269 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:31:02.355 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:31:02.358 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:31:02.359 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-06-07 22:31:02.359 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-06-07 22:31:02.361 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:31:02.391 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ImageUrl", t."ParentId", CASE
    WHEN c0."Name" IS NULL THEN ''
    ELSE c0."Name"
END, c0."Id", c1."Id", c1."CreatedAt", c1."CreatedBy", c1."Description", c1."ImageUrl", c1."IsDeleted", c1."LastUpdatedAt", c1."LastUpdatedBy", c1."Name", c1."ParentId"
FROM (
    SELECT c."Id", c."ImageUrl", c."Name", c."ParentId"
    FROM "Categories" AS c
    WHERE c."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Categories" AS c0 ON t."ParentId" = c0."Id"
LEFT JOIN "Categories" AS c1 ON t."Id" = c1."ParentId"
ORDER BY t."Id", c0."Id"
2025-06-07 22:31:02.394 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:31:02.396 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:31:02.396 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:31:02.396 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:31:02.397 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2025-06-07 22:31:02.397 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:31:02.397 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:31:02.399 +07:00 [INF] Executed action method Product.API.Controllers.CategoryController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 157.4947ms.
2025-06-07 22:31:02.399 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:31:02.404 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-06-07 22:31:02.405 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:31:02.405 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.CategoryDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:31:02.407 +07:00 [INF] Executed action Product.API.Controllers.CategoryController.Get (Product.API) in 176.6256ms
2025-06-07 22:31:02.407 +07:00 [INF] Executed endpoint 'Product.API.Controllers.CategoryController.Get (Product.API)'
2025-06-07 22:31:02.407 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:31:02.407 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:31:02.408 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:31:02.408 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Category/Get - 200 null application/json; charset=utf-8 190.8311ms
2025-06-07 22:31:07.412 +07:00 [DBG] Connection id "0HND5QNR92VU7" received FIN.
2025-06-07 22:31:07.413 +07:00 [DBG] Connection id "0HND5QNR92VU7" is closed. The last processed stream ID was 1.
2025-06-07 22:31:07.413 +07:00 [DBG] The connection queue processing loop for 0HND5QNR92VU7 completed.
2025-06-07 22:31:07.413 +07:00 [DBG] Connection id "0HND5QNR92VU7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 22:31:07.428 +07:00 [DBG] Connection id "0HND5QNR92VU7" stopped.
2025-06-07 22:35:18.601 +07:00 [DBG] Connection id "0HND5QNR92VU8" accepted.
2025-06-07 22:35:18.601 +07:00 [DBG] Connection id "0HND5QNR92VU8" started.
2025-06-07 22:35:18.613 +07:00 [DBG] Connection 0HND5QNR92VU8 established using the following protocol: "Tls12"
2025-06-07 22:35:18.630 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:35:18.630 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:35:18.631 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:35:18.631 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:18.631 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:35:18.631 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:35:18.631 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:35:18.631 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:35:18.632 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:35:18.632 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:18.632 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:35:18.632 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:35:18.632 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:35:18.632 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:35:18.632 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:35:18.632 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:35:18.632 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:35:18.633 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:35:18.633 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:35:18.633 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:35:18.633 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:35:18.633 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000001": started reading request body.
2025-06-07 22:35:18.638 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:35:18.639 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:35:18.639 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:35:18.639 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:18.639 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:35:18.639 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:35:18.640 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:35:18.640 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:35:18.640 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:35:18.640 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:18.641 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:35:18.641 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:35:18.641 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:35:18.641 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:35:18.642 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:35:18.642 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:35:18.643 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000001": done reading request body.
2025-06-07 22:35:18.642 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:35:18.643 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:35:18.644 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:35:18.644 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:35:18.644 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:35:18.645 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000003": started reading request body.
2025-06-07 22:35:18.648 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000003": done reading request body.
2025-06-07 22:35:18.665 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:35:18.665 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:35:18.667 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:18.667 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:18.669 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:18.669 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:18.669 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:35:18.669 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:35:18.670 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:18.670 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:18.679 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:35:18.679 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:35:18.683 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:35:18.683 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:35:18.685 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:35:18.685 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:35:18.685 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:35:18.685 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:35:18.685 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:18.685 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:18.685 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:18.685 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:35:18.685 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:35:18.685 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:35:18.686 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:35:18.698 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:35:18.699 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:18.700 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:18.700 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:18.700 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:18.701 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 22:35:18.701 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:18.701 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:35:18.701 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.5861ms.
2025-06-07 22:35:18.701 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:35:18.701 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:35:18.701 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:35:18.701 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:35:18.701 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:35:18.701 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:35:18.703 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 60.6609ms
2025-06-07 22:35:18.703 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:18.704 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:35:18.704 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:18.704 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:35:18.704 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 65.7689ms
2025-06-07 22:35:18.864 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:18.864 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:35:18.864 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:35:18.864 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:35:18.864 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:35:18.869 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:35:18.869 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:18.869 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:18.869 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:18.870 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:18.870 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:35:18.870 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:18.870 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:35:18.870 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 190.6998ms.
2025-06-07 22:35:18.870 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:35:18.870 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:35:18.870 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:35:18.870 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:35:18.870 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:35:18.871 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:35:18.871 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 238.7817ms
2025-06-07 22:35:18.871 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:18.872 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:35:18.872 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:18.872 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:35:18.872 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 242.2972ms
2025-06-07 22:35:35.991 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:35:35.991 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:35:35.992 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:35:35.992 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:35:35.992 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:35:35.992 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:35:35.992 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:35.992 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:35.992 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:35:35.992 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:35:35.993 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:35:35.993 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:35:35.993 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:35:35.993 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:35:35.993 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:35:35.993 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:35:35.993 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:35:35.993 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:35:35.994 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:35.994 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:35.994 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:35:35.994 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:35:35.995 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:35:35.995 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:35:35.995 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:35:35.995 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:35:35.995 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:35:35.995 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:35:35.995 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:35:35.995 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:35:35.995 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:35:35.995 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:35:35.995 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:35:35.995 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:35:35.996 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:35:35.996 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:35:35.996 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:35:35.996 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:35:35.997 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:35:35.997 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:35:35.997 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:35:35.997 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:35:35.997 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000005": started reading request body.
2025-06-07 22:35:35.998 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000007": started reading request body.
2025-06-07 22:35:36.000 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000007": done reading request body.
2025-06-07 22:35:36.001 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:35:36.002 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:36.002 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:36.002 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:35:36.004 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:36.007 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:35:36.007 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000005": done reading request body.
2025-06-07 22:35:36.008 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:35:36.008 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:36.008 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:36.008 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:35:36.008 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:36.008 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:35:36.008 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:35:36.009 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:35:36.009 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:35:36.009 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:35:36.009 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:36.009 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:36.009 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:35:36.009 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:35:36.009 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:35:36.009 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:35:36.009 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:35:36.009 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:35:36.009 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:36.010 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:36.010 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:35:36.010 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:35:36.010 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:35:36.010 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:35:36.017 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:35:36.018 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:35:36.018 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:36.018 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:36.018 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:36.018 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:36.018 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:36.018 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:36.018 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:36.018 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:35:36.018 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:36.018 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:36.018 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:35:36.018 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:35:36.019 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 10.3425ms.
2025-06-07 22:35:36.019 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:36.019 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:35:36.019 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:35:36.019 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:35:36.019 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:35:36.019 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:35:36.019 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:35:36.019 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:35:36.019 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.0858ms.
2025-06-07 22:35:36.019 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:35:36.019 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:35:36.019 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 23.9278ms
2025-06-07 22:35:36.019 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:36.019 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:35:36.019 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:35:36.019 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:35:36.019 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:36.019 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:35:36.020 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 28.5654ms
2025-06-07 22:35:36.020 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:35:36.020 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:35:36.020 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 24.8173ms
2025-06-07 22:35:36.020 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:36.021 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:35:36.021 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:36.022 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:35:36.023 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 31.5871ms
2025-06-07 22:35:53.871 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:35:53.871 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:35:53.872 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:35:53.872 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:35:53.872 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:35:53.872 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:35:53.872 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:53.872 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:53.872 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:35:53.872 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:35:53.873 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:35:53.874 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:35:53.874 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:35:53.874 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:35:53.874 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:35:53.875 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:53.875 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:35:53.875 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:35:53.875 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:35:53.875 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:35:53.875 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:35:53.875 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:35:53.875 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:35:53.875 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:35:53.875 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:35:53.875 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:35:53.875 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:35:53.875 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:53.876 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:35:53.876 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:35:53.876 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:35:53.876 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:35:53.876 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:35:53.876 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:35:53.876 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:35:53.876 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:35:53.876 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:35:53.876 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000009": started reading request body.
2025-06-07 22:35:53.876 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:35:53.876 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000009": done reading request body.
2025-06-07 22:35:53.876 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:35:53.876 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:35:53.876 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:35:53.876 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:35:53.876 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:0000000B": started reading request body.
2025-06-07 22:35:53.876 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:0000000B": done reading request body.
2025-06-07 22:35:53.877 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:35:53.877 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:35:53.877 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:53.877 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:53.877 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:53.877 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:35:53.877 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:53.877 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:35:53.883 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:53.883 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:35:53.884 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:35:53.884 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:35:53.886 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:35:53.886 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:35:53.887 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:35:53.887 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:35:53.887 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:35:53.887 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:35:53.887 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:53.887 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:53.887 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:53.887 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:53.887 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:35:53.887 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:35:53.887 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:35:53.887 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:35:53.887 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:35:53.887 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:35:53.887 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:35:53.887 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:35:53.891 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:35:53.891 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:35:53.894 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:53.894 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:53.894 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:53.894 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:53.895 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:53.895 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:35:53.895 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:53.895 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:53.895 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-07 22:35:53.895 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-07 22:35:53.896 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:53.896 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:53.896 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:35:53.896 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:35:53.896 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.1175ms.
2025-06-07 22:35:53.896 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.1435ms.
2025-06-07 22:35:53.896 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:35:53.897 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:35:53.897 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:35:53.897 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:35:53.897 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:35:53.897 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:35:53.897 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:35:53.897 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:35:53.897 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:35:53.897 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:35:53.897 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:35:53.897 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:35:53.898 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 22.9502ms
2025-06-07 22:35:53.898 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 22.3117ms
2025-06-07 22:35:53.898 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:53.898 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:35:53.899 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:35:53.899 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:35:53.899 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:53.899 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:35:53.899 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:35:53.899 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:35:53.899 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 28.9938ms
2025-06-07 22:35:53.899 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 28.9623ms
2025-06-07 22:36:26.571 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:36:26.571 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:36:26.572 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:36:26.572 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:36:26.575 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:36:26.575 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:36:26.576 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:26.576 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:26.576 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:36:26.576 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:36:26.577 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:36:26.577 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:36:26.577 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:36:26.577 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:36:26.577 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:36:26.577 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:36:26.577 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:36:26.577 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:36:26.577 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:26.577 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:26.578 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:36:26.578 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:36:26.578 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:36:26.578 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:36:26.578 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:36:26.578 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:36:26.578 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:36:26.578 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:36:26.578 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:36:26.578 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:36:26.578 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:36:26.578 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:36:26.578 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:36:26.578 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:36:26.578 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:36:26.578 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:36:26.578 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:36:26.578 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:36:26.579 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:36:26.579 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:36:26.579 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:36:26.579 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:36:26.584 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:0000000D": started reading request body.
2025-06-07 22:36:26.580 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:0000000F": started reading request body.
2025-06-07 22:36:26.608 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:0000000F": done reading request body.
2025-06-07 22:36:26.613 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:0000000D": done reading request body.
2025-06-07 22:36:26.613 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:36:26.613 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:36:26.613 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:26.613 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:26.613 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:26.613 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:36:26.613 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:26.614 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:26.614 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:36:26.614 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:26.614 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:36:26.614 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:36:26.615 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:36:26.615 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:36:26.615 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:36:26.615 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:36:26.615 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:36:26.615 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:36:26.615 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:26.615 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:26.616 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:26.616 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:36:26.616 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:36:26.616 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:36:26.616 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:36:26.621 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:36:26.622 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:26.623 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:26.623 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:26.624 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:26.624 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 22:36:26.625 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:26.625 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:36:26.625 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11.4348ms.
2025-06-07 22:36:26.627 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:36:26.627 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:36:26.628 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:36:26.628 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:36:26.628 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:36:26.629 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:36:26.630 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 51.9617ms
2025-06-07 22:36:26.630 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:26.631 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:36:26.631 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:26.631 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:36:26.636 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 62.1457ms
2025-06-07 22:36:26.735 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:26.735 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:36:26.735 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:36:26.735 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:36:26.735 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:36:26.740 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:36:26.740 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:26.741 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:26.741 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:26.741 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:26.741 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:36:26.742 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:26.742 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:36:26.742 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 127.9138ms.
2025-06-07 22:36:26.742 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:36:26.742 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:36:26.742 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:36:26.742 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:36:26.742 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:36:26.742 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:36:26.743 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 164.9236ms
2025-06-07 22:36:26.743 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:26.744 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:36:26.744 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:26.744 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:36:26.744 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 173.5036ms
2025-06-07 22:36:42.211 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:36:42.211 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:36:42.212 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:36:42.212 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:36:42.212 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:36:42.212 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:36:42.212 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:42.212 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:42.212 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:36:42.212 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:36:42.212 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:36:42.212 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:36:42.212 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:36:42.212 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:36:42.212 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:36:42.212 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:36:42.212 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:36:42.212 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:36:42.212 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:42.212 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:42.213 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:36:42.213 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:36:42.213 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:36:42.213 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:36:42.213 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:36:42.213 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:36:42.213 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:36:42.213 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:36:42.213 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:36:42.213 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:36:42.213 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:36:42.213 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:36:42.213 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:36:42.213 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:36:42.213 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:36:42.213 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:36:42.213 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:36:42.213 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:36:42.213 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:36:42.213 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:36:42.213 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:36:42.213 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:36:42.213 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000013": started reading request body.
2025-06-07 22:36:42.213 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000011": started reading request body.
2025-06-07 22:36:42.213 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000011": done reading request body.
2025-06-07 22:36:42.213 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000013": done reading request body.
2025-06-07 22:36:42.214 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:36:42.214 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:36:42.214 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:42.214 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:42.214 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:42.214 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:36:42.214 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:42.214 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:36:42.214 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:42.214 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:42.214 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:36:42.214 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:36:42.215 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:36:42.215 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:36:42.215 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:36:42.215 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:36:42.215 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:36:42.216 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:36:42.216 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:42.216 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:42.216 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:42.216 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:42.216 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:36:42.216 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:36:42.216 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:36:42.216 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:36:42.216 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:36:42.216 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:36:42.216 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:36:42.216 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:36:42.217 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:36:42.220 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:42.222 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:36:42.223 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:42.223 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:42.223 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:42.224 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:42.224 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:42.224 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:42.224 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:42.224 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:36:42.224 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-06-07 22:36:42.224 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:42.224 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:42.224 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:36:42.224 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:36:42.224 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.8567ms.
2025-06-07 22:36:42.224 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.7978ms.
2025-06-07 22:36:42.224 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:36:42.224 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:36:42.224 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:36:42.224 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:36:42.224 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:36:42.224 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:36:42.224 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:36:42.224 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:36:42.224 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:36:42.224 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:36:42.224 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:36:42.224 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:36:42.225 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 11.8308ms
2025-06-07 22:36:42.225 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 11.846ms
2025-06-07 22:36:42.225 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:42.225 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:42.225 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:36:42.225 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:36:42.225 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:42.225 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:42.225 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:36:42.225 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:36:42.225 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 16.2893ms
2025-06-07 22:36:42.225 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 16.2533ms
2025-06-07 22:36:47.507 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:36:47.507 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:36:47.507 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:36:47.507 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:36:47.507 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:36:47.508 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:36:47.508 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:47.508 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:47.508 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:36:47.508 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:36:47.508 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:36:47.508 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:36:47.508 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:36:47.508 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:36:47.508 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:36:47.508 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:36:47.508 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:36:47.508 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:36:47.508 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:47.508 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:47.509 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:36:47.509 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:36:47.509 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:36:47.509 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:36:47.509 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:36:47.509 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:36:47.509 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:36:47.509 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:36:47.509 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:36:47.509 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:36:47.509 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:36:47.509 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:36:47.509 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:36:47.509 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:36:47.509 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:36:47.509 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:36:47.509 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:36:47.509 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:36:47.509 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:36:47.510 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:36:47.510 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:36:47.510 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000017": started reading request body.
2025-06-07 22:36:47.510 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:36:47.510 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000017": done reading request body.
2025-06-07 22:36:47.510 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000015": started reading request body.
2025-06-07 22:36:47.510 +07:00 [DBG] Connection id "0HND5QNR92VU8", Request id "0HND5QNR92VU8:00000015": done reading request body.
2025-06-07 22:36:47.510 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:36:47.510 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:47.510 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:36:47.510 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:47.510 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:47.510 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:36:47.510 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:47.510 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:36:47.511 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:47.511 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:36:47.511 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:36:47.511 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:36:47.512 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:36:47.512 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:36:47.514 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:36:47.514 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:36:47.514 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:36:47.514 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:47.514 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:47.514 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:36:47.514 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:36:47.514 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:36:47.514 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:47.514 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:36:47.514 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:47.514 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:36:47.514 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:36:47.514 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:36:47.514 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:36:47.515 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:36:47.519 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:36:47.519 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:36:47.520 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:47.520 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:47.521 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:47.521 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:47.521 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:47.521 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:36:47.521 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:47.521 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:47.521 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 22:36:47.521 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 22:36:47.521 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:47.521 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:47.521 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:36:47.521 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:36:47.521 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 10.6804ms.
2025-06-07 22:36:47.522 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 10.6808ms.
2025-06-07 22:36:47.522 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:36:47.522 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:36:47.522 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:36:47.522 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:36:47.522 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:36:47.522 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:36:47.522 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:36:47.522 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:36:47.522 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:36:47.522 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:36:47.522 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:36:47.522 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 12.8395ms
2025-06-07 22:36:47.522 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:36:47.522 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:47.522 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:36:47.522 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 12.9768ms
2025-06-07 22:36:47.522 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:47.522 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:36:47.522 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:36:47.522 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 15.5565ms
2025-06-07 22:36:47.522 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:36:47.522 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:36:47.522 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:36:47.522 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 15.7836ms
2025-06-07 22:37:52.617 +07:00 [DBG] Connection id "0HND5QNR92VU8" received FIN.
2025-06-07 22:37:52.617 +07:00 [DBG] Connection id "0HND5QNR92VU8" is closed. The last processed stream ID was 23.
2025-06-07 22:37:52.617 +07:00 [DBG] Connection id "0HND5QNR92VU8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 22:37:52.617 +07:00 [DBG] The connection queue processing loop for 0HND5QNR92VU8 completed.
2025-06-07 22:37:52.634 +07:00 [DBG] Connection id "0HND5QNR92VU8" stopped.
2025-06-07 22:39:24.573 +07:00 [DBG] Connection id "0HND5QNR92VU9" accepted.
2025-06-07 22:39:24.574 +07:00 [DBG] Connection id "0HND5QNR92VU9" started.
2025-06-07 22:39:24.585 +07:00 [DBG] Connection 0HND5QNR92VU9 established using the following protocol: "Tls12"
2025-06-07 22:39:24.591 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Create - application/json 178
2025-06-07 22:39:24.591 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Create'
2025-06-07 22:39:24.591 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Create (Product.API)' with route pattern 'api/Product/Create' is valid for the request path '/api/Product/Create'
2025-06-07 22:39:24.592 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 22:39:24.593 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:39:24.593 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:39:24.593 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:39:24.593 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:39:24.593 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 22:39:24.593 +07:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Guid] Create(Product.Application.Dtos.ProductDto) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:39:24.593 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:39:24.593 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:39:24.593 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:39:24.593 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:39:24.593 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:39:24.593 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:39:24.593 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:39:24.593 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-06-07 22:39:24.593 +07:00 [DBG] Attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto' using the name '' in request data ...
2025-06-07 22:39:24.593 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:39:24.594 +07:00 [DBG] Connection id "0HND5QNR92VU9", Request id "0HND5QNR92VU9:00000001": started reading request body.
2025-06-07 22:39:24.594 +07:00 [DBG] Connection id "0HND5QNR92VU9", Request id "0HND5QNR92VU9:00000001": done reading request body.
2025-06-07 22:39:24.594 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'Product.Application.Dtos.ProductDto'
2025-06-07 22:39:24.594 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 22:39:24.594 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 22:39:24.594 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto' ...
2025-06-07 22:39:24.594 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Product.Application.Dtos.ProductDto'.
2025-06-07 22:39:24.594 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Create (Product.API) - Validation state: "Valid"
2025-06-07 22:39:24.597 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:39:24.598 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:39:24.598 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:39:24.598 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.598 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.598 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:39:24.598 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:39:24.598 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:39:24.598 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:39:24.599 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."ParentId"
FROM "Categories" AS c
2025-06-07 22:39:24.601 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.602 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:39:24.602 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.603 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:39:24.607 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.607 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.607 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:39:24.607 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:39:24.608 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:39:24.608 +07:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-06-07 22:39:24.612 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Id_0='?' (DbType = Guid), @__parentIds_1='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categories" AS c
    WHERE c."Id" = @__Id_0 AND NOT (c."Id" = ANY (@__parentIds_1) AND c."Id" = ANY (@__parentIds_1) IS NOT NULL))
2025-06-07 22:39:24.612 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.612 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:39:24.612 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.612 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:39:24.617 +07:00 [DBG] 'ProductDBContext' generated a value for the property 'ProductEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:24.619 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:24.619 +07:00 [DBG] SaveChanges starting for 'ProductDBContext'.
2025-06-07 22:39:24.619 +07:00 [DBG] DetectChanges starting for 'ProductDBContext'.
2025-06-07 22:39:24.620 +07:00 [DBG] DetectChanges completed for 'ProductDBContext'.
2025-06-07 22:39:24.621 +07:00 [DBG] DetectChanges starting for 'ProductDBContext'.
2025-06-07 22:39:24.623 +07:00 [DBG] The unchanged property 'ProductEntity.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-06-07 22:39:24.623 +07:00 [DBG] The unchanged property 'ProductEntity.CreatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-06-07 22:39:24.623 +07:00 [DBG] The unchanged property 'ProductEntity.LastUpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-06-07 22:39:24.623 +07:00 [DBG] The unchanged property 'ProductEntity.LastUpdatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-06-07 22:39:24.623 +07:00 [DBG] DetectChanges completed for 'ProductDBContext'.
2025-06-07 22:39:24.629 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.629 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.629 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:39:24.629 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:39:24.629 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:39:24.629 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "CategoryId", "CreatedAt", "CreatedBy", "Description", "ImageUrl", "IsDeleted", "LastUpdatedAt", "LastUpdatedBy", "Name", "Price")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-07 22:39:24.643 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "CategoryId", "CreatedAt", "CreatedBy", "Description", "ImageUrl", "IsDeleted", "LastUpdatedAt", "LastUpdatedBy", "Name", "Price")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-07 22:39:24.643 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.643 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-06-07 22:39:24.643 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.643 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:39:24.643 +07:00 [DBG] An entity of type 'ProductEntity' tracked by 'ProductDBContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:24.644 +07:00 [DBG] SaveChanges completed for 'ProductDBContext' with 1 entities written to the database.
2025-06-07 22:39:24.644 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Create (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 49.2775ms.
2025-06-07 22:39:24.644 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:39:24.644 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:39:24.644 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:39:24.644 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:39:24.644 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:39:24.644 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Guid'.
2025-06-07 22:39:24.644 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Create (Product.API) in 51.2215ms
2025-06-07 22:39:24.644 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Create (Product.API)'
2025-06-07 22:39:24.645 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:39:24.645 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.645 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:39:24.646 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Create - 200 null application/json; charset=utf-8 55.2257ms
2025-06-07 22:39:24.716 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:39:24.717 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:39:24.717 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:39:24.718 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:39:24.718 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:39:24.718 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:39:24.718 +07:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-06-07 22:39:24.719 +07:00 [INF] CORS policy execution successful.
2025-06-07 22:39:24.719 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:39:24.719 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:39:24.720 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:39:24.720 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:39:24.720 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:39:24.720 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:39:24.720 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:39:24.720 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:39:24.720 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:39:24.720 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:39:24.720 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:39:24.720 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:39:24.720 +07:00 [DBG] Connection id "0HND5QNR92VU9", Request id "0HND5QNR92VU9:00000003": started reading request body.
2025-06-07 22:39:24.720 +07:00 [DBG] Connection id "0HND5QNR92VU9", Request id "0HND5QNR92VU9:00000003": done reading request body.
2025-06-07 22:39:24.720 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:39:24.721 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:39:24.721 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:39:24.721 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:39:24.721 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:39:24.721 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:39:24.722 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:39:24.723 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:39:24.723 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:39:24.724 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.724 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.724 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:39:24.724 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:39:24.724 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:39:24.724 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:39:24.731 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:39:24.733 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:24.734 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:24.735 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:24.735 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:24.736 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.736 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-06-07 22:39:24.737 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.737 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:39:24.738 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.6796ms.
2025-06-07 22:39:24.738 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:39:24.739 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:39:24.739 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:39:24.739 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:39:24.739 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:39:24.739 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:39:24.740 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 20.3066ms
2025-06-07 22:39:24.740 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:39:24.741 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:39:24.741 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:24.741 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:39:24.742 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 26.6447ms
2025-06-07 22:39:28.229 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:39:28.229 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:39:28.230 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:39:28.230 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:39:28.230 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:39:28.230 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:39:28.231 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:39:28.231 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:39:28.231 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:39:28.231 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:39:28.232 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:39:28.232 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:39:28.233 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:39:28.233 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:39:28.233 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:39:28.233 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:39:28.233 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:39:28.233 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:39:28.233 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:39:28.233 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:39:28.234 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:39:28.234 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:39:28.234 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:39:28.232 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:39:28.235 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:39:28.236 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:39:28.236 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:39:28.236 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:39:28.236 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:39:28.236 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:39:28.236 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:39:28.236 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:39:28.237 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:39:28.237 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:39:28.237 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:39:28.238 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:39:28.238 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:39:28.238 +07:00 [DBG] Connection id "0HND5QNR92VU9", Request id "0HND5QNR92VU9:00000005": started reading request body.
2025-06-07 22:39:28.238 +07:00 [DBG] Connection id "0HND5QNR92VU9", Request id "0HND5QNR92VU9:00000005": done reading request body.
2025-06-07 22:39:28.238 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:39:28.238 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:39:28.238 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:39:28.238 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:39:28.238 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:39:28.238 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:39:28.238 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:39:28.238 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:39:28.238 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:39:28.239 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:39:28.239 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:39:28.239 +07:00 [DBG] Connection id "0HND5QNR92VU9", Request id "0HND5QNR92VU9:00000007": started reading request body.
2025-06-07 22:39:28.239 +07:00 [DBG] Connection id "0HND5QNR92VU9", Request id "0HND5QNR92VU9:00000007": done reading request body.
2025-06-07 22:39:28.239 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:39:28.239 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:39:28.239 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:39:28.239 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:39:28.239 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:39:28.240 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:39:28.242 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:39:28.244 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:39:28.244 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:39:28.244 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:39:28.244 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:28.244 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:28.244 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:39:28.244 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:39:28.244 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:39:28.244 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:39:28.244 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:39:28.245 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:28.244 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:39:28.245 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:28.245 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:39:28.245 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:39:28.245 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:39:28.245 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:39:28.248 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:39:28.248 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:39:28.253 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:28.254 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:28.254 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:28.254 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:28.254 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:28.254 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:28.254 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:28.254 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:28.255 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-06-07 22:39:28.255 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:39:28.255 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:28.255 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:28.255 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:39:28.255 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:39:28.255 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:28.255 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:39:28.255 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.1997ms.
2025-06-07 22:39:28.255 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.2071ms.
2025-06-07 22:39:28.255 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:39:28.255 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:39:28.255 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:39:28.255 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:39:28.255 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:39:28.256 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:39:28.256 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:39:28.256 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:39:28.256 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:39:28.256 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:39:28.256 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:39:28.256 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:39:28.256 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 18.3558ms
2025-06-07 22:39:28.256 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 22.2965ms
2025-06-07 22:39:28.256 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:39:28.256 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:39:28.257 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:39:28.257 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:39:28.257 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:28.257 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:39:28.257 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:39:28.257 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:39:28.257 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 28.513ms
2025-06-07 22:39:28.257 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 29.9756ms
2025-06-07 22:40:16.321 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:40:16.321 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:40:16.321 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:40:16.322 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:40:16.322 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:40:16.322 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:40:16.322 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:40:16.322 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:40:16.322 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:40:16.322 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:40:16.322 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:40:16.322 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:40:16.322 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:40:16.322 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:40:16.322 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:40:16.322 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:40:16.323 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:40:16.323 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:40:16.323 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:40:16.324 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:40:16.324 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:40:16.324 +07:00 [DBG] Connection id "0HND5QNR92VU9", Request id "0HND5QNR92VU9:00000009": started reading request body.
2025-06-07 22:40:16.335 +07:00 [DBG] Connection id "0HND5QNR92VU9", Request id "0HND5QNR92VU9:00000009": done reading request body.
2025-06-07 22:40:16.342 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:40:16.343 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:40:16.343 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:40:16.343 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:40:16.344 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:40:16.344 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:40:16.347 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:40:16.348 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:40:16.348 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:40:16.348 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:16.348 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:16.349 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:40:16.349 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:40:16.349 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:40:16.349 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:40:16.357 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:40:16.360 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:40:16.360 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:40:16.361 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:40:16.361 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:40:16.361 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:16.361 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-06-07 22:40:16.361 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:16.361 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:40:16.361 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.2272ms.
2025-06-07 22:40:16.361 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:40:16.362 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:40:16.362 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:40:16.362 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:40:16.362 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:40:16.362 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:40:16.364 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 41.3481ms
2025-06-07 22:40:16.364 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:40:16.364 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:40:16.364 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:16.364 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:40:16.365 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 43.8747ms
2025-06-07 22:40:27.260 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:40:27.262 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:40:27.262 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:40:27.262 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:40:27.262 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:40:27.263 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:40:27.263 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:40:27.263 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:40:27.263 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:40:27.264 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:40:27.264 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:40:27.264 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:40:27.264 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:40:27.264 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:40:27.265 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:40:27.265 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:40:27.265 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:40:27.265 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:40:27.265 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:40:27.265 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:40:27.265 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:40:27.265 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:40:27.265 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:40:27.265 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:40:27.265 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:40:27.265 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:40:27.265 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:40:27.265 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:40:27.265 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:40:27.265 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:40:27.265 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:40:27.266 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:40:27.266 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:40:27.266 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:40:27.266 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:40:27.266 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:40:27.266 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:40:27.266 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:40:27.268 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:40:27.268 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:40:27.268 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:40:27.268 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:40:27.269 +07:00 [DBG] Connection id "0HND5QNR92VU9", Request id "0HND5QNR92VU9:0000000B": started reading request body.
2025-06-07 22:40:27.269 +07:00 [DBG] Connection id "0HND5QNR92VU9", Request id "0HND5QNR92VU9:0000000D": started reading request body.
2025-06-07 22:40:27.269 +07:00 [DBG] Connection id "0HND5QNR92VU9", Request id "0HND5QNR92VU9:0000000B": done reading request body.
2025-06-07 22:40:27.269 +07:00 [DBG] Connection id "0HND5QNR92VU9", Request id "0HND5QNR92VU9:0000000D": done reading request body.
2025-06-07 22:40:27.269 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:40:27.269 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:40:27.269 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:40:27.269 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:40:27.269 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:40:27.269 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:40:27.269 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:40:27.269 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:40:27.269 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:40:27.269 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:40:27.269 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:40:27.269 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:40:27.270 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:40:27.270 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:40:27.270 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:40:27.270 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:40:27.271 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:40:27.271 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:40:27.271 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:27.271 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:27.271 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:27.271 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:27.271 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:40:27.271 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:40:27.271 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:40:27.271 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:40:27.271 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:40:27.271 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:40:27.271 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:40:27.271 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:40:27.277 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:40:27.277 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:40:27.280 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:40:27.280 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:40:27.281 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:40:27.282 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:40:27.282 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:40:27.282 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:40:27.282 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:40:27.282 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:27.282 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:40:27.283 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-06-07 22:40:27.283 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:27.283 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:27.283 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:40:27.283 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-06-07 22:40:27.283 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.7632ms.
2025-06-07 22:40:27.283 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:27.283 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:40:27.283 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:40:27.283 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14.0791ms.
2025-06-07 22:40:27.283 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:40:27.283 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:40:27.283 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:40:27.283 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:40:27.283 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:40:27.283 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:40:27.283 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:40:27.283 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:40:27.283 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 17.7167ms
2025-06-07 22:40:27.283 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:40:27.283 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:40:27.284 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:40:27.284 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:40:27.284 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:27.284 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:40:27.284 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:40:27.284 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 19.8119ms
2025-06-07 22:40:27.284 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 19.1196ms
2025-06-07 22:40:27.284 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:40:27.284 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:40:27.287 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:40:27.287 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:40:27.288 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 32.2106ms
2025-06-07 22:41:42.379 +07:00 [DBG] Connection id "0HND5QNR92VU9" received FIN.
2025-06-07 22:41:42.379 +07:00 [DBG] Connection id "0HND5QNR92VU9" is closed. The last processed stream ID was 13.
2025-06-07 22:41:42.379 +07:00 [DBG] Connection id "0HND5QNR92VU9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 22:41:42.380 +07:00 [DBG] The connection queue processing loop for 0HND5QNR92VU9 completed.
2025-06-07 22:41:42.381 +07:00 [DBG] Connection id "0HND5QNR92VU9" stopped.
2025-06-07 22:42:22.335 +07:00 [DBG] Connection id "0HND5QNR92VUA" accepted.
2025-06-07 22:42:22.335 +07:00 [DBG] Connection id "0HND5QNR92VUA" started.
2025-06-07 22:42:22.337 +07:00 [DBG] Connection 0HND5QNR92VUA established using the following protocol: "Tls12"
2025-06-07 22:42:22.339 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:42:22.339 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:42:22.339 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:42:22.339 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:42:22.339 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:42:22.339 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:42:22.339 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:42:22.340 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:42:22.340 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:42:22.340 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:42:22.340 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:42:22.340 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:42:22.340 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:42:22.340 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:42:22.340 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:42:22.340 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:42:22.340 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:42:22.340 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:42:22.340 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:42:22.340 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:42:22.340 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:42:22.340 +07:00 [DBG] Connection id "0HND5QNR92VUA", Request id "0HND5QNR92VUA:00000001": started reading request body.
2025-06-07 22:42:22.340 +07:00 [DBG] Connection id "0HND5QNR92VUA", Request id "0HND5QNR92VUA:00000001": done reading request body.
2025-06-07 22:42:22.341 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:42:22.341 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:42:22.341 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:42:22.341 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:42:22.341 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:42:22.341 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:42:22.342 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:42:22.344 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:42:22.344 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:42:22.345 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:42:22.499 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:42:22.499 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:42:22.500 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:42:22.500 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:42:22.501 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:42:22.528 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:42:22.529 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:42:22.530 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:42:22.530 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:42:22.530 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:42:22.531 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:42:22.531 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-06-07 22:42:22.531 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:42:22.531 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:42:22.531 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 190.5231ms.
2025-06-07 22:42:22.532 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:42:22.532 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:42:22.532 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:42:22.532 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:42:22.532 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:42:22.532 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:42:22.533 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 192.5079ms
2025-06-07 22:42:22.533 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:42:22.533 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:42:22.533 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:42:22.533 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:42:22.533 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 194.5832ms
2025-06-07 22:42:43.302 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5003/api/Product/Get - application/json 56
2025-06-07 22:42:43.303 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Product/Get'
2025-06-07 22:42:43.303 +07:00 [DBG] Endpoint 'Product.API.Controllers.ProductController.Get (Product.API)' with route pattern 'api/Product/Get' is valid for the request path '/api/Product/Get'
2025-06-07 22:42:43.303 +07:00 [DBG] Request matched endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:42:43.303 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-07 22:42:43.304 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-06-07 22:42:43.304 +07:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2025-06-07 22:42:43.304 +07:00 [INF] CORS policy execution failed.
2025-06-07 22:42:43.304 +07:00 [INF] Request origin http://localhost:5174 does not have permission to access the resource.
2025-06-07 22:42:43.304 +07:00 [INF] Executing endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:42:43.304 +07:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[BuildingBlocks.Pagination.PaginatedResult`1[Product.Application.Dtos.ProductDto]] Get(BuildingBlocks.Pagination.PaginationRequest) on controller Product.API.Controllers.ProductController (Product.API).
2025-06-07 22:42:43.304 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-07 22:42:43.305 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-07 22:42:43.305 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-07 22:42:43.305 +07:00 [DBG] Execution plan of exception filters (in the following order): ["BuildingBlocks.Attribute.ApiResultExceptionAttribute (Order: 0)"]
2025-06-07 22:42:43.305 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-07 22:42:43.305 +07:00 [DBG] Executing controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:42:43.305 +07:00 [DBG] Executed controller factory for controller Product.API.Controllers.ProductController (Product.API)
2025-06-07 22:42:43.306 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:42:43.306 +07:00 [DBG] Attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' using the name '' in request data ...
2025-06-07 22:42:43.307 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-07 22:42:43.307 +07:00 [DBG] Connection id "0HND5QNR92VUA", Request id "0HND5QNR92VUA:00000003": started reading request body.
2025-06-07 22:42:43.311 +07:00 [DBG] Connection id "0HND5QNR92VUA", Request id "0HND5QNR92VUA:00000003": done reading request body.
2025-06-07 22:42:43.313 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BuildingBlocks.Pagination.PaginationRequest'
2025-06-07 22:42:43.316 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:42:43.316 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:42:43.316 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest' ...
2025-06-07 22:42:43.317 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BuildingBlocks.Pagination.PaginationRequest'.
2025-06-07 22:42:43.317 +07:00 [INF] Executing action method Product.API.Controllers.ProductController.Get (Product.API) - Validation state: "Valid"
2025-06-07 22:42:43.321 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ProductDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2025-06-07 22:42:43.324 +07:00 [DBG] Creating DbConnection.
2025-06-07 22:42:43.324 +07:00 [DBG] Created DbConnection. (0ms).
2025-06-07 22:42:43.325 +07:00 [DBG] Opening connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:42:43.325 +07:00 [DBG] Opened connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:42:43.325 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-07 22:42:43.325 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:42:43.325 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-07 22:42:43.325 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:42:43.384 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CategoryId", t."CreatedAt", t."CreatedBy", t."Description", t."ImageUrl", t."IsDeleted", t."LastUpdatedAt", t."LastUpdatedBy", t."Name", t."Price", c."Id", c."CreatedAt", c."CreatedBy", c."Description", c."ImageUrl", c."IsDeleted", c."LastUpdatedAt", c."LastUpdatedBy", c."Name", c."ParentId"
FROM (
    SELECT p."Id", p."CategoryId", p."CreatedAt", p."CreatedBy", p."Description", p."ImageUrl", p."IsDeleted", p."LastUpdatedAt", p."LastUpdatedBy", p."Name", p."Price"
    FROM "Products" AS p
    WHERE p."IsDeleted" = FALSE
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Categories" AS c ON t."CategoryId" = c."Id"
2025-06-07 22:42:43.385 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:42:43.385 +07:00 [DBG] The navigation 'ProductEntity.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:42:43.385 +07:00 [DBG] Context 'ProductDBContext' started tracking 'CategoryEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:42:43.386 +07:00 [DBG] Context 'ProductDBContext' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-07 22:42:43.386 +07:00 [DBG] Closing data reader to 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:42:43.386 +07:00 [DBG] A data reader for 'utcshopDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-06-07 22:42:43.386 +07:00 [DBG] Closing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:42:43.386 +07:00 [DBG] Closed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:42:43.386 +07:00 [INF] Executed action method Product.API.Controllers.ProductController.Get (Product.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 68.8422ms.
2025-06-07 22:42:43.387 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-07 22:42:43.387 +07:00 [DBG] No information found on request to perform content negotiation.
2025-06-07 22:42:43.387 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-07 22:42:43.387 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-07 22:42:43.387 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-07 22:42:43.387 +07:00 [INF] Executing ObjectResult, writing value of type 'BuildingBlocks.Pagination.PaginatedResult`1[[Product.Application.Dtos.ProductDto, Product.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-07 22:42:43.387 +07:00 [INF] Executed action Product.API.Controllers.ProductController.Get (Product.API) in 82.3192ms
2025-06-07 22:42:43.387 +07:00 [INF] Executed endpoint 'Product.API.Controllers.ProductController.Get (Product.API)'
2025-06-07 22:42:43.388 +07:00 [DBG] 'ProductDBContext' disposed.
2025-06-07 22:42:43.388 +07:00 [DBG] Disposing connection to database 'utcshopDb' on server 'tcp://localhost:5432'.
2025-06-07 22:42:43.388 +07:00 [DBG] Disposed connection to database 'utcshopDb' on server 'tcp://localhost:5432' (0ms).
2025-06-07 22:42:43.388 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5003/api/Product/Get - 200 null application/json; charset=utf-8 89.2894ms
2025-06-07 22:43:53.540 +07:00 [DBG] Connection id "0HND5QNR92VUA" received FIN.
2025-06-07 22:43:53.540 +07:00 [DBG] Connection id "0HND5QNR92VUA" is closed. The last processed stream ID was 3.
2025-06-07 22:43:53.540 +07:00 [DBG] Connection id "0HND5QNR92VUA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-07 22:43:53.540 +07:00 [DBG] The connection queue processing loop for 0HND5QNR92VUA completed.
2025-06-07 22:43:53.541 +07:00 [DBG] Connection id "0HND5QNR92VUA" stopped.
